(window.webpackJsonp=window.webpackJsonp||[]).push([[4,5,6],{"+sW7":function(e,t,n){e.exports=n.p+"desktop-assets/s4.21d636844d5096acf2e4cd247c759a45.svg"},"/aJl":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("/MKj"),i=(n("17x9"),n("TSYQ")),c=n.n(i),s=n("GB65"),l=n("G5ih"),u=n("BWa0");n("emG5");function d(e){var t=e.active,n=c()({ButtonBackToTop:!0,badge:!0,active:t});return a.a.createElement("a",{href:"#",className:n,onClick:function(){var e=Object(s.ab)();Object(s.tb)(-e,0,"smooth")}},a.a.createElement(u.cb,{className:"badge-icon",name:u.d,width:"32",height:"32"}),a.a.createElement("span",{className:"badge-text"},Object(l.b)("takeMeUp")))}d.defaultProps={active:!1,locationTop:!0},d.__docgenInfo={description:"",methods:[],displayName:"ButtonBackToTop",props:{active:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},locationTop:{defaultValue:{value:"true",computed:!1},required:!1}}},t.a=Object(o.b)(function(e){return{active:!e.ui.footer.get("isFooterVisible")}})(d)},"/b2Y":function(e,t,n){},"0pwo":function(e,t,n){},"1O1r":function(e,t,n){},"1POK":function(e,t,n){},"1coQ":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),i=n.n(a),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("JPcv")),C=n("cm4/"),E=n.n(C),k=n("66r6");function S(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var O=function(e){u()(a,e);var r=S(a);function a(e){var t;o()(this,a),t=r.call(this,e),g()(s()(t),"grabString",function(e){var t=Object(k.o)(e,k.c);if(!t.length)return e;var n="",r=e.substr(0,t[0].begin);r.length&&(n=r);for(var a=!1,o="",i=0;i<t.length;i++){if(0<i){var c=t[i-1],s=t[i].begin-1-c.end,l=e.substr(c.end+1,s);l.length&&(n+=l)}a?n+=k.a+t[i].href:(o=t[i].href,a=!0)}var u=e.substr(t[t.length-1].end+1);return u.length&&(n+=u),o&&(n+=" ".concat(o)),n});var n=e.opUsername?{opUsername:e.opUsername}:{};return n.isLinkifyTargetMedia=e.isLinkifyTargetMedia,n.postMedia=e.postMedia,Object(k.i)(C.linkify,n),t}return i()(a,[{key:"getChildren",value:function(){var e=this.props,t=e.children,n=e.expandlink;return"string"!=typeof t||"true"!==n?t:this.grabString(t)}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.expandlink,r=e.component,a=e.postMedia;return b.a.createElement(E.a,{component:r,properties:{target:"_blank",rel:"noopener noreferrer",onClick:t,className:"Linkify-element",expandlink:n,postMedia:a}},this.getChildren())}}]),a}(b.a.Component);O.defaultProps={onClick:function(){return!0},expandlink:"false",postMedia:new v.List},O.__docgenInfo={description:"",methods:[{name:"getChildren",docblock:null,modifiers:[],params:[],returns:null},{name:"grabString",docblock:null,modifiers:[],params:[{name:"str",type:null}],returns:null}],displayName:"ImgurLinkify",props:{onClick:{defaultValue:{value:"() => true",computed:!1},type:{name:"func"},required:!1,description:""},expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},postMedia:{defaultValue:{value:"new List()",computed:!1},type:{name:"object"},required:!1,description:""},children:{type:{name:"any"},required:!1,description:""},component:{type:{name:"func"},required:!1,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isLinkifyTargetMedia:{type:{name:"bool"},required:!1,description:""}}}},"1p8+":function(e,t,n){},"20NG":function(e,t,n){},"2OyZ":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r="DEFAULT_EMBED_NODE_ID",a="DEFAULT_EMBED_DIALOG"},"2X/W":function(e,t,n){},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2p6Y":function(e,t,n){},3:function(e,t){},"4KxA":function(e,t,n){},"58bT":function(e,t,n){},"5zAP":function(e,t,n){"use strict";n.d(t,"a",function(){return B}),n.d(t,"b",function(){return J});var r,a,o,i,c=n("lwsE"),s=n.n(c),l=n("W8MJ"),u=n.n(l),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),k=n.n(E),S=(n("17x9"),n("Efxr")),O=n("GB65"),P="UploadSpinner",N="Wrapper",I="Pose",w="container",q="giraffe",j="upvote",D="heart",A="drop",T="shadow",R="default",x="rotate",M="preJump",L="jump",F="land",_="postLand",U=[j,D,q],G=n("wKGW");n("Ojet");function V(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var B=function(e){f()(a,e);var n=V(a);function a(e){var t,r;return s()(this,a),r=n.call(this,e),C()(m()(r),"activeItem",0),C()(m()(r),"isUnmounted",!1),C()(m()(r),"timerId",null),C()(m()(r),"animationFrame",function(){r.bounce(),r.splash()}),C()(m()(r),"nextItem",function(){return r.activeItem++,2<r.activeItem&&(r.activeItem=0),r.activeItem}),C()(m()(r),"bounce",function(){var e=r.nextItem();r.bounceAnim(U[e])}),C()(m()(r),"bounceAnim",function(n){var e,t=(e={},C()(e,w+I,M),C()(e,T+I,L),e);Object(O.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,j+I,x),C()(e,q+I,x),C()(e,D+I,x),e))},150),Object(O.Ab)(function(){var e,t=(e={},C()(e,j+N+I,R),C()(e,q+N+I,R),C()(e,D+N+I,R),C()(e,n+N+I,"show"),e);r.isUnmounted||r.setState(t)},250),Object(O.Ab)(function(){r.isUnmounted||r.setState(C()({},T+I,F))},400),r.setState(t)}),C()(m()(r),"splash",function(){for(var t={},e=1;e<=3;e++){var n=0;n=1===e?r.randomNumber(-80,-65):2===e?r.randomNumber(-80,80):r.randomNumber(65,80),t["".concat(A).concat(e).concat(I)]=F,t["".concat(A).concat(e,"-y")]=r.randomNumber(-32,-40),t["".concat(A).concat(e,"-rotate")]=n}Object(O.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(A,"1").concat(I),L),C()(e,"".concat(A,"2").concat(I),L),C()(e,"".concat(A,"3").concat(I),L),e)),Object(O.Ab)(function(){r.isUnmounted||r.setState(t)},10),Object(O.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(A,"1").concat(I),_),C()(e,"".concat(A,"2").concat(I),_),C()(e,"".concat(A,"3").concat(I),_),e))},150),Object(O.Ab)(function(){var e;r.isUnmounted||r.setState((e={},C()(e,"".concat(A,"1").concat(I),R),C()(e,"".concat(A,"2").concat(I),R),C()(e,"".concat(A,"3").concat(I),R),e))},500)},520)}),C()(m()(r),"randomNumber",function(e,t){return Math.floor(Math.random()*(t-e+1))+e}),r.state=(t={},C()(t,q+I,R),C()(t,q+N+I,R),C()(t,j+I,R),C()(t,j+N+I,R),C()(t,D+I,R),C()(t,D+N+I,"show"),C()(t,w+I,R),C()(t,T+I,R),C()(t,A+1+I,R),C()(t,A+2+I,R),C()(t,A+3+I,R),t),r}return u()(a,[{key:"componentDidUpdate",value:function(){var e=this;this.state[w+I]===M&&Object(O.Ab)(function(){e.isUnmounted||e.setState(C()({},w+I,L))},100),this.state[w+I]===L&&Object(O.Ab)(function(){e.isUnmounted||e.setState(C()({},w+I,F))},250),this.state[w+I]===F&&Object(O.Ab)(function(){e.isUnmounted||e.setState(C()({},w+I,_))},100),this.state[w+I]===_&&Object(O.Ab)(function(){e.isUnmounted||e.setState(C()({},w+I,R))},150)}},{key:"componentDidMount",value:function(){var e=this;this.isUnmounted=!1,this.animationFrame(),this.timerId=Object(O.xb)(function(){e.animationFrame()},1800)}},{key:"componentWillUnmount",value:function(){Object(O.g)(this.timerId),this.isUnmounted=!0}},{key:"render",value:function(){var t=this,e="".concat(P," ").concat(this.props.className||"");return k.a.createElement("div",{style:this.props.style,className:e},k.a.createElement(W,{pose:this.state[w+I],key:"container-".concat(this.props.uid),className:"".concat(P,"-spinner is").concat(this.props.size,"px")},k.a.createElement("div",{key:"".concat(q+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[q+N+I])},k.a.createElement(H,{className:"".concat(P,"-icon ").concat(P,"-icon-").concat(q),pose:this.state[q+I],key:"".concat(q,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},q+I,R))}})),k.a.createElement("div",{key:"".concat(j+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[j+N+I])},k.a.createElement(H,{className:"".concat(P,"-icon ").concat(P,"-icon-").concat(j),pose:this.state[j+I],key:"".concat(j,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},j+I,R))}})),k.a.createElement("div",{key:"".concat(D+N,"-").concat(this.props.uid),className:"wrapper ".concat(this.state[D+N+I])},k.a.createElement(H,{className:"".concat(P,"-icon ").concat(P,"-icon-").concat(D),pose:this.state[D+I],key:"".concat(D,"-").concat(this.props.uid),onPoseComplete:function(e){e===x&&t.setState(C()({},D+I,R))}}))),k.a.createElement("div",{className:"splash"},k.a.createElement("div",{className:A+N,style:{transform:"rotate(".concat(this.state["".concat(A+1,"-rotate")],"deg)")}},k.a.createElement(z,{className:A,pose:this.state[A+1+I],key:"".concat(A+1,"-").concat(this.props.uid),y:this.state["".concat(A+1,"-y")],rotate:this.state["".concat(A+1,"-rotate")]})),k.a.createElement("div",{className:A+N,style:{transform:"rotate(".concat(this.state["".concat(A+2,"-rotate")],"deg)")}},k.a.createElement(z,{className:A,pose:this.state[A+2+I],key:"".concat(A+2,"-").concat(this.props.uid),y:this.state["".concat(A+2,"-y")],rotate:this.state["".concat(A+2,"-rotate")]})),k.a.createElement("div",{className:A+N,style:{transform:"rotate(".concat(this.state["".concat(A+3,"-rotate")],"deg)")}},k.a.createElement(z,{className:A,pose:this.state[A+3+I],key:"".concat(A+3,"-").concat(this.props.uid),y:this.state["".concat(A+3,"-y")],rotate:this.state["".concat(A+3,"-rotate")]})),k.a.createElement(Y,{className:T,pose:this.state[T+I],key:"".concat(T,"-").concat(this.props.uid),onPoseComplete:function(e){e===F&&t.setState(C()({},T+I,R))}})))}}]),a}(k.a.Component),W=S.a.div((r={},C()(r,R,{scaleY:1,scaleX:1,originY:1,originX:.5,transition:{type:"spring",damping:50,stiffness:200,duration:1e3}}),C()(r,M,{scaleY:.75,transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,L,{scaleY:1,scaleX:.9,y:"-74px",transition:{type:"spring",damping:50,stiffness:200,duration:500}}),C()(r,F,{scaleX:1.2,y:0,transition:{type:"spring",damping:50,stiffness:200,duration:750}}),C()(r,_,{scaleY:.65,scaleX:1,transition:{type:"spring",damping:0,duration:500,stiffness:150}}),r)),H=S.a.div((a={},C()(a,R,{rotate:0,transition:{duration:10}}),C()(a,x,{rotate:360,transition:{duration:350}}),a)),z=S.a.div((o={},C()(o,R,{opacity:0,scaleY:1,y:0,transition:{duration:0}}),C()(o,L,{opacity:1,transition:{duration:0}}),C()(o,F,{scaleY:1.5,y:function(e){var t=e.y;return"".concat(t,"px")},transition:{type:"spring",damping:80,stiffness:200,duration:500}}),C()(o,_,{opacity:0,transition:{duration:250}}),o)),Y=S.a.div((i={},C()(i,R,{opacity:1,scaleX:1,transition:{duration:250}}),C()(i,L,{scaleX:.5,transition:{duration:500}}),C()(i,F,{scaleX:1.25,transition:{duration:250}}),i));function J(e){var t=e.children,n=e.isLoading,r=e.isScrollSpinner,a=k.a.createElement(B,{size:G.$initialSpinnerSize,uid:"7"});return k.a.createElement(k.a.Fragment,null,n&&!r&&k.a.createElement("div",{className:"UploadSpinner-initial"},a),k.a.createElement("div",{className:"UploadSpinner-contentWrapper"},t),n&&r&&k.a.createElement("div",{className:"UploadSpinner-scroll"},a))}B.__docgenInfo={description:"",methods:[{name:"animationFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"nextItem",docblock:null,modifiers:[],params:[],returns:null},{name:"bounce",docblock:null,modifiers:[],params:[],returns:null},{name:"bounceAnim",docblock:null,modifiers:[],params:[{name:"activeItem",type:null}],returns:null},{name:"splash",docblock:null,modifiers:[],params:[],returns:null},{name:"randomNumber",docblock:null,modifiers:[],params:[{name:"min",type:null},{name:"max",type:null}],returns:null}],displayName:"UploadSpinner",props:{size:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},uid:{type:{name:"string"},required:!0,description:""}}},J.__docgenInfo={description:"",methods:[],displayName:"UploadSpinnerWrapper",props:{children:{type:{name:"object"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isScrollSpinner:{type:{name:"bool"},required:!1,description:""}}}},"6IHV":function(e,t,n){},"7TkL":function(e,t,n){},"7Yk7":function(e,t,n){},"7tbW":function(e,t,n){var r=n("LGYb");e.exports=function(e){return e&&e.length?r(e):[]}},"7znt":function(e,t,n){},"94Yu":function(e,t,n){"use strict";function r(e){var t=e.onClose,n=Object(b.useState)(3),r=F()(n,2),a=r[0],o=r[1],i=Object(b.useRef)(a);return i.current=a,Object(b.useEffect)(function(){var e=Object(D.xb)(function(){1===i.current&&Object(D.g)(e),o(function(e){return e-1})},1e3);return function(){return Object(D.g)(e)}},[]),v.a.createElement("div",{className:"SctuCloseButton",onClick:0===a?t:function(){}},v.a.createElement("span",{className:"SctuCloseButton-text"},Object(U.b)("sctuClose",a),0===a?v.a.createElement(_.cb,{name:_.g,width:"24",height:"24",viewBox:"0 0 32 32",className:"SctuCloseButton-x"}):" 00:0".concat(a)))}var a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),g=n("lSNA"),y=n.n(g),b=n("q1tI"),v=n.n(b),C=(n("17x9"),n("/MKj")),E=n("ANjH"),k=n("Ty5D"),S=n("JPcv"),O=n("sEfC"),P=n.n(O),N=n("TSYQ"),I=n.n(N),w=n("9Jdl"),q=n("yFeA"),j=n("pV1z"),D=n("GB65"),A=n("ErBw"),T=n("enaV"),R=n("/PhX"),x=n("+qLk"),M=n("bWDY"),L=n("J4zp"),F=n.n(L),_=n("BWa0"),U=n("G5ih");n("jAEK");r.__docgenInfo={description:"",methods:[],displayName:"SctuCloseButton",props:{onClose:{type:{name:"func"},required:!0,description:""}}};var G=r;n("qMU6");function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach(function(e){y()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function W(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var H=function(e){d()(n,e);var t=W(n);function n(e){var o;return i()(this,n),o=t.call(this,e),y()(l()(o),"receiveMessage",function(e){if(e&&e.data&&"string"==typeof e.data){var t=e.data.match(/disableRefreshForSession:(\S+);?/);t&&t[1]?o.setState({refresh:!1}):(t=e.data.match(/disableTimedRefresh:(\S+);?/))&&t[1]&&o.setState({refresh:!0})}}),y()(l()(o),"resizeHandler",P()(function(){var e=o.props.updateSCTUHeightAction;o.sctuWrapper.current&&e(o.sctuWrapper.current.offsetHeight)},100)),y()(l()(o),"callback",function(){(0,o.props.sctuLoadedAction)()}),y()(l()(o),"onloadCallback",function(){var e=o.state,t=e.show,n=e.isValid;n!==t&&o.updateVisibility(n)}),y()(l()(o),"onClose",function(){var e=o.props,t=e.onStatusChange,n=e.updateSCTUHeightAction,r=e.closeSCTUAction,a=o.state.insertionId;o.setState({closed:!0},function(){t(),n(0)}),a&&r(a)}),y()(l()(o),"updateVisibility",function(e){var t=o.props,n=t.onStatusChange,r=t.updateSCTUHeightAction;o.setState({show:e},function(){n(),r(o.sctuWrapper.current.offsetHeight)})}),y()(l()(o),"loadCustomCreative",function(e){e.withCloseButton&&o.setState({withCloseButton:!0}),e.insertionId&&o.setState({insertionId:e.insertionId}),o.setState({isValid:!0,isFootliner:!!e.isFootliner}),o.updateVisibility(!0)}),o.state={isValid:!1,show:!1,withCloseButton:!1,closed:!1,insertionId:"",refresh:!1,isFootliner:!1},o.sctuWrapper=v.a.createRef(),Object(D.wb)("loadCustomCreative",o.loadCustomCreative),Object(D.c)("message",o.receiveMessage),Object(D.c)("resize",o.resizeHandler),o}return c()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchClosedSCTUsAction)()}},{key:"componentWillUnmount",value:function(){Object(D.mb)("message",this.receiveMessage),Object(D.mb)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.adsEnabled,a=n.onStatusChange,o=n.updateSCTUHeightAction;e.adsEnabled&&!r&&this.setState({closed:!0},function(){a();var e=t.sctuWrapper.current?t.sctuWrapper.current.offsetHeight:0;o(e)})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.pathname,a=n.adsEnabled,o=n.path,i=n.streamIsWhitelisted,c=n.postAdConfig,s=this.state,l=s.show,u=s.withCloseButton,d=s.closed;return i!==e.streamIsWhitelisted||(o!==e.path||(a!==e.adsEnabled||(r!==e.pathname||(c!==e.postAdConfig||(l!==t.show||(u!==t.withCloseButton||d!==t.closed))))))}},{key:"shouldHide",value:function(){var e=this.props,t=e.adsEnabled,n=e.streamIsWhitelisted,r=e.match,a=e.postAdConfig,o=this.state.closed;return!(t&&!o)||(!(!r.params.galleryId||a)||Object(T.e)(Object(D.v)())===x.B&&!n)}},{key:"getSlotTargeting",value:function(){var e=this.props,t=e.sctusClosed,n=e.slotTargeting;return 0<t.size?B(B({},n),{},{HLClose:t.toJS()}):n}},{key:"render",value:function(){var t=this;if(this.shouldHide())return null;var e=this.props,n=e.pathname,r=e.adsEnabled,a=e.path,o=e.postAdConfig,i=this.state,c=i.refresh,s=i.show,l=i.withCloseButton,u=i.isFootliner,d="sctu";c&&(d+=n);var m=I()({"Ad-SCTU":!0,"Ad-SCTU-footliner":u});return v.a.createElement("div",{className:m,ref:this.sctuWrapper,key:d,style:{display:s?"block":"none"}},v.a.createElement(j.a,{path:a,postAdConfig:o,forceSafe:!o},function(e){return v.a.createElement(v.a.Fragment,null,v.a.createElement(q.a,{adsEnabled:r,path:e,dimensions:w.E,callback:t.callback,onloadCallback:t.onloadCallback,slotTargeting:t.getSlotTargeting()}),l&&v.a.createElement(G,{onClose:t.onClose}))}))}}]),n}(b.Component);H.defaultProps={sctusClosed:Object(S.List)(),slotTargeting:{}},H.__docgenInfo={description:"",methods:[{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"onloadCallback",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldHide",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"updateVisibility",docblock:null,modifiers:[],params:[{name:"show",type:null}],returns:null},{name:"loadCustomCreative",docblock:null,modifiers:[],params:[{name:"config",type:null}],returns:null},{name:"getSlotTargeting",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Sctu",props:{sctusClosed:{defaultValue:{value:"List()",computed:!0},type:{name:"instanceOf",value:"List"},required:!1,description:""},slotTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},path:{type:{name:"number"},required:!0,description:""},onStatusChange:{type:{name:"func"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},streamIsWhitelisted:{type:{name:"bool"},required:!1,description:""},closeSCTUAction:{type:{name:"func"},required:!0,description:""},fetchClosedSCTUsAction:{type:{name:"func"},required:!0,description:""},sctuLoadedAction:{type:{name:"func"},required:!0,description:""},pathname:{type:{name:"string"},required:!1,description:""},updateSCTUHeightAction:{type:{name:"func"},required:!0,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},match:{type:{name:"object"},required:!0,description:""},location:{type:{name:"object"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""}}};t.a=Object(E.d)(Object(C.b)(function(e){var t=e.ad,n=e.user,r=e.gallery,a=e.history,o=e.postsData,i=Object(M.d)(t,n);return t.getIn(["transformation","enabled"])&&(i=!1),{adsEnabled:i,streamIsWhitelisted:r.get("streamIsWhitelisted"),sctusClosed:t.get("sctusClosed"),pathname:a.getIn(["location","pathname"]),postAdConfig:o.getIn(["currentPost","adConfig"])}},{closeSCTUAction:A.u,fetchClosedSCTUsAction:A.v,sctuLoadedAction:A.C,updateSCTUHeightAction:R.N}),k.h)(H)},"98ov":function(e,t,n){var r=n("VhX2"),a=n("P/G1");e.exports=function(e){return r(a(e))}},"9DFJ":function(e,t,n){},"9JWB":function(e,t,n){},"9UQG":function(e,t,n){"use strict";var r=n("q1tI"),m=n.n(r),a=n("17x9"),o=n.n(a),i=n("pVnL"),c=n.n(i);var s={primaryColor:"#8935c7",primaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 1), rgba(255, 88, 182, 0))",secondaryGradient:"linear-gradient(to right, rgba(255, 88, 182, 0.4), rgba(137, 53, 199, 0))",buttonGradient:"linear-gradient(to top, rgba(254, 106, 255, 0.62), #db53dc)",buttonShadow:"rgba(119, 43, 120, 0.7) 6px 12px 32px 1px"},l={primaryColor:"#3149c9",primaryGradient:"linear-gradient(to right, rgba(6, 158, 94, 1), rgba(6, 158, 94, 0))",secondaryGradient:"linear-gradient(to right, rgba(6, 158, 182, 0.4), rgba(49, 73, 201, 0))",buttonGradient:"linear-gradient(to top, rgba(139, 173, 255, 0.62), #2f6dfc)",buttonShadow:"rgba(24, 54, 155, 0.7) 6px 12px 32px 1px"};var u=n("lwsE"),d=n.n(u),p=n("W8MJ"),f=n.n(p),h=n("7W2i"),g=n.n(h),y=n("a1gu"),b=n.n(y),v=n("Nsbk"),C=n.n(v),E=n("pNV7");function k(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}var S=function(e){g()(n,e);var t=k(n);function n(){return d()(this,n),t.apply(this,arguments)}return f()(n,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClose,o=e.primaryColor,i=e.primaryGradient,c=e.secondaryGradient,s=e.bgImageSrc,l=e.buttonGradient,u=e.buttonShadow,d=e.url;return m.a.createElement("div",{className:"BannerTop3"},m.a.createElement("div",{style:{backgroundColor:o},className:"BannerTop3-layer"},m.a.createElement("div",{style:{backgroundImage:i},className:"BannerTop3-layer"})),m.a.createElement("div",{className:"BannerTop3-content BannerTop3-layer"},m.a.createElement("div",{style:{backgroundImage:c,zIndex:2},className:"BannerTop3-layer"}),m.a.createElement("div",{className:"BannerTop3-spacer--first"}),m.a.createElement("div",{className:"BannerTop3-description"},m.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},t),m.a.createElement("div",{className:"BannerTop3-subhead"},n),s&&m.a.createElement("img",{src:s})),m.a.createElement("div",{className:"BannerTop3-spacer"}),m.a.createElement("a",{href:d,target:"_blank",style:{backgroundImage:l,boxShadow:u},className:"BannerTop3-buttonCTA"},m.a.createElement("span",null,r)),m.a.createElement("div",{className:"BannerTop3-spacer--last"}),m.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:a},m.a.createElement(E.Z,{name:E.h,width:13}))))}}]),n}(m.a.Component);S.__docgenInfo={description:"",methods:[],displayName:"Default",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},url:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""},primaryColor:{type:{name:"string"},required:!0,description:""},primaryGradient:{type:{name:"string"},required:!0,description:""},secondaryGradient:{type:{name:"string"},required:!0,description:""},buttonGradient:{type:{name:"string"},required:!0,description:""},buttonShadow:{type:{name:"string"},required:!0,description:""}}};var O=n("PJYZ"),P=n.n(O),N=n("lSNA"),I=n.n(N),w=n("AoHe");function q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}var j=function(e){g()(o,e);var a=q(o);function o(){var n;d()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),I()(P()(n),"onBannerClose",function(e){var t=n.props.onClose;e.stopPropagation(),e.preventDefault(),t()}),n}return f()(o,[{key:"componentDidMount",value:function(){(0,this.props.handleOnMount)()}},{key:"render",value:function(){var e=this.props,t=e.headline,n=e.subhead,r=e.actionButtonText,a=e.onClick,o=e.backgroundColor,i=e.bgImageSrc,c=e.url,s=e.customClass,l=void 0===s?"masthead":s,u=Object(w.h)(t),d={};return u&&(d.backgroundImage='url("'.concat(t,'")')),m.a.createElement("div",{className:"BannerTop3 ".concat(l)},m.a.createElement("a",{href:c,target:"_blank",onClick:a},m.a.createElement("div",{style:{backgroundImage:'url("'.concat(o,'")'),backgroundColor:o},className:"BannerTop3-content BannerTop3-layer"},m.a.createElement("div",{style:{backgroundImage:'url("'.concat(i,'")')},className:"masthead-image"}),m.a.createElement("div",{style:d,className:"BannerTop3-description"},m.a.createElement("div",{className:"BannerTop3-headline BannerTop3-textOverflow"},!u&&t),m.a.createElement("div",{className:"BannerTop3-subhead"},n)),!Object(w.h)(r)&&m.a.createElement("div",{className:"BannerTop3-buttonCTA"},r),Object(w.h)(r)&&m.a.createElement("div",{className:"BannerTop3-buttonCTA-image",style:{backgroundImage:'url("'.concat(r,'")')}}),m.a.createElement("div",{className:"BannerTop3-buttonClose",onClick:this.onBannerClose},m.a.createElement(E.Z,{name:E.i,width:20})))))}}]),o}(m.a.Component);j.__docgenInfo={description:"",methods:[{name:"onBannerClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Masthead",props:{headline:{type:{name:"string"},required:!0,description:""},subhead:{type:{name:"string"},required:!0,description:""},actionButtonText:{type:{name:"string"},required:!0,description:""},onClose:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},url:{type:{name:"string"},required:!0,description:""},backgroundColor:{type:{name:"string"},required:!0,description:""},bgImageSrc:{type:{name:"string"},required:!1,description:""},customClass:{type:{name:"string"},required:!0,description:""},handleOnMount:{type:{name:"func"},required:!0,description:""}}};var D=n("JPcv"),A=n("moYt"),T=n.n(A),R=n("/MKj"),x=n("cr+I"),M=n.n(x),L=n("WFr8"),F=n("+qLk"),_=n("PLrP"),U=n("enaV"),G=n("GB65");function V(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=C()(r);if(a){var n=C()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b()(this,e)}}function B(e){var t=e.ctas,n=e.ctasClosed,r=e.city,a=e.region,o=e.metroCode,i=e.countryCode,c=e.hasPaid,s=(new Date).getTime()/1e3;return t.filter(function(e){return e.get("startTime")<s&&e.get("endTime")>s&&!n.includes(e.get("localStorageName"))&&function(e,t,n,r,a){var o=e.get("targeting");if(!o||!o.size)return!0;if(!t)return!1;var i={region:r,city:n,metroCode:a};return 0<o.filter(function(n,e){return T()(e)===t&&0===["region","city","metroCode"].filter(function(t){var e=n.get(t);return e&&e.size&&!e.filter(function(e){return e===i[t]}).size}).length}).size}(e,i,r,a,o)&&!(e.get("promoted")&&c)})}n("rbYx");function W(e){return-1!==e.customClass.indexOf("masthead")?m.a.createElement(j,e):m.a.createElement(function(n){function e(e){var t="blue"===e.theme?l:s;return m.a.createElement(n,c()({},e,t))}return e.displayName="WithThemeStyle(".concat(function(e){return e.displayName||e.name||"Component"}(n),")"),e}(S),e)}W.defaultProps={customClass:""},W.__docgenInfo={description:"",methods:[],displayName:"BannerTop",props:{customClass:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""}}};var H,z,Y;t.a=(z=W,(Y=function(e){g()(n,e);var t=V(n);function n(e){var a;return d()(this,n),a=t.call(this,e),I()(P()(a),"isSfw",function(e){if(!e.get("sfw"))return!0;var t=a.state.sfw,n=a.props.currentPostInView;return!(!t||!n)&&(!!n.getIn(["adConfig","showsAds"])||(a.setState({sfw:!1}),!1))}),I()(P()(a),"getForceCTAName",function(){var e=a.props.queryString,t=M.a.parse(e).masthead;return t?(a.setState({forceCTA:t}),t):a.state.forceCTA}),I()(P()(a),"getForceCTAs",function(){var t=a.getForceCTAName();return t?a.props.ctas.filter(function(e){return e.get("localStorageName")===t}):Object(D.List)()}),I()(P()(a),"getActiveCTA",function(){var e=a.getForceCTAs(),t=a.props,n=t.ctas,r=t.ctaClosed;if(0===e.size&&(e=n.filter(function(e){return a.isSfw(e)})),0<e.size&&!r)return e.get(Math.floor(a.random*e.size))}),I()(P()(a),"shouldHide",function(){if(Object(G.v)()&&Object(U.e)(Object(G.v)())===F.B)return!0;var e=a.props.currentPostInView;return e&&e.get("is_ad")}),I()(P()(a),"handleCtaClose",function(e){return function(){(0,a.props.closeCTA)(e.get("localStorageName"),e.get("endTime"),e.get("promoted"))}}),I()(P()(a),"handleCtaClick",function(e){return function(){(0,a.props.clickedCTA)(e.get("localStorageName"),e.get("promoted"))}}),I()(P()(a),"handleImgLoad",function(e){var t=a.props.setCTASize,n=e.nativeEvent.srcElement;t(n.width,n.height)}),I()(P()(a),"onRender",function(){var e=a.props,t=e.onStatusChange,n=e.viewedCTA,r=a.getActiveCTA();t(!0),n(r.get("localStorageName"),r.get("endTime"),r.get("promoted"),r.get("oncePerSession"))}),a.state={sfw:!0,forceCTA:""},a.random=Math.random(),a}return f()(n,[{key:"isCurrentPostChanged",value:function(e){var t=this.props,n=t.currentPostInView,r=t.isMobile;return!(n||!e.currentPostInView)||!(!n||!e.currentPostInView)&&(!r&&n.get("id")!==e.currentPostInView.get("id")||(n.get("is_ad")!==e.currentPostInView.get("is_ad")||!n.getIn(["adConfig","showsAds"])!=!e.currentPostInView.getIn(["adConfig","showsAds"])))}},{key:"componentDidMount",value:function(){if(this.props.ctaClosed||this.shouldHide())return null}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.ctas;return n!==e.ctaClosed||this.isCurrentPostChanged(e)||r.size!==e.ctas.size}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.ctaClosed,r=t.onStatusChange,a=t.isMobile,o=t.closeCTASilently,i=t.currentPostInView;n!==e.ctaClosed&&r(n);var c=this.getActiveCTA();c&&(a||n||!(!i&&e.currentPostInView||i&&e.currentPostInView&&i.get("id")!==e.currentPostInView.get("id"))||o(c.get("localStorageName"),c.get("endTime"),c.get("promoted")))}},{key:"render",value:function(){if(this.props.ctaClosed||this.shouldHide())return null;var e=this.getActiveCTA();if(!e)return null;var t=e.get("backgroundImages"),n=t.get(Math.floor(Math.random()*t.size));return m.a.createElement(m.a.Fragment,null,m.a.createElement(z,{theme:e.get("theme")||"",headline:e.get("headline"),subhead:e.get("subhead"),actionButtonText:e.get("actionButtonText"),onClose:this.handleCtaClose(e),onClick:this.handleCtaClick(e),onImageLoad:this.handleImgLoad,url:e.get("url"),bgImageSrc:n,customClass:e.get("customClass"),backgroundColor:e.get("backgroundColor"),handleOnMount:this.onRender}),e.get("pixels",[]).map(function(e){return m.a.createElement("img",{src:e,style:{display:"none"}})}))}}]),n}(m.a.Component)).displayName="WithCTA(".concat((H=z).displayName||H.name||"Component",")"),Y.contextTypes={router:o.a.object},Y.defaultProps={onStatusChange:function(){}},Object(R.b)(function(e){var t=e.config,n=e.agent,r=e.posts,a=e.postsData,o=e.user;return{ctas:B({ctas:t.get("ctas"),ctasClosed:t.get("ctasClosed"),city:n.get("city"),region:n.get("region"),metroCode:n.get("metroCode"),countryCode:n.get("countryCode"),hasPaid:o.get("hasPaid")||o.getIn(["subscription","isSubscribed"])}),ctaClosed:t.get("ctaClosed"),currentPostInView:r.get("posts").get(a.get("currentPostInView"))||a.get("currentPost"),isMobile:n.get(_.b)}},{closeCTA:L.f,closeCTASilently:L.g,setCTASize:L.i,clickedCTA:L.e,viewedCTA:L.j})(Y))},"9uSn":function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("GB65"),k=n("AoHe"),S=n("xypG");n("NXH/");function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var N="center",I=function(e){u()(r,e);var n=P(r);function r(e){var t;return a()(this,r),t=n.call(this,e),g()(s()(t),"handleOnMouseEnter",function(){t.setState(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({show:!0},t.getTooltipPlacement()))}),g()(s()(t),"handleOnMouseLeave",function(){t.setState({isLoading:!0,show:!1,yPosition:"top",xPosition:N})}),g()(s()(t),"handleMediaLoad",function(){t.state.isLoading&&t.setState({isLoading:!1},function(){t.setState(t.getTooltipPlacement())})}),t.state={show:!1,yPosition:"top",xPosition:N,isLoading:!0},t}return i()(r,[{key:"getTooltipPlacement",value:function(){var e=this.props.popupRef,t="top",n=N,r=this.tooltip.getBoundingClientRect().top,a=this.tooltiptext.getBoundingClientRect().left,o=this.tooltiptext.getBoundingClientRect().right,i=Object(E.u)(),c=Object(E.t)();if(e&&e.current){var s=e.current;r-=s.getBoundingClientRect().top,a-=s.getBoundingClientRect().left,i=s.getBoundingClientRect().right,c=s.getBoundingClientRect().height}return r<c/2&&(t="bottom"),a<0?n="right":i<o&&(n="left"),{yPosition:t,xPosition:n}}},{key:"getMediaComponentFromSrc",value:function(){var e=this.props.src;if(!e)return"";var t=Object(k.j)(this.props.src),n=C()({hide:this.state.isLoading}),r=b.a.createElement("img",{className:n,onLoad:this.handleMediaLoad,src:e});return t&&(e=this.props.src,".gifv"===t[0]&&(e=e.replace(".gifv",".mp4")),r=b.a.createElement("video",{src:e,className:n,onCanPlay:this.handleMediaLoad,muted:!0,loop:!0,autoPlay:!0})),b.a.createElement("div",null,this.state.isLoading&&b.a.createElement(S.a,{size:20}),r)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.className,a=n.children,o=n.text,i=n.src,c=n.onClick,s=C()((e={Tooltip:!0},g()(e,"Tooltip-".concat(this.state.yPosition),!0),g()(e,"Tooltip-".concat(this.state.xPosition),!0),g()(e,"inline",this.props.inline),g()(e,"inlineBlock",!this.props.inline),g()(e,r,r),e));return b.a.createElement("div",{className:s,ref:function(e){t.tooltip=e},onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,onClick:c},a,b.a.createElement("span",{className:"Tooltip-text",ref:function(e){t.tooltiptext=e}},o,this.state.show&&i&&this.getMediaComponentFromSrc()))}}]),r}(y.Component);I.defaultProps={inline:!1,onClick:function(){}},I.__docgenInfo={description:"",methods:[{name:"getTooltipPlacement",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"handleOnMouseLeave",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMediaLoad",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponentFromSrc",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Tooltip",props:{inline:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},text:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},popupRef:{type:{name:"object"},required:!1,description:""}}}},A8WO:function(e,t,n){},B0tv:function(e,t,n){},CG6i:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("TSYQ")),C=n.n(v),E=n("F8bk"),k=n("oHla"),S=n("GB65"),O=n("gmqy");function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var N=function(e){u()(r,e);var n=P(r);function r(e){var l;a()(this,r),l=n.call(this,e),g()(s()(l),"element",null),g()(s()(l),"placeholderElement",null),g()(s()(l),"onContextMenu",function(){var e=l.props.originalSrc;l.setState({originalLink:e})}),g()(s()(l),"onClick",function(e){var t=l.props,n=t.zoom,r=t.originalSrc;"IMG"===e.target.tagName&&l.isZoomable()&&n&&n({show:!0,src:r})}),g()(s()(l),"onThumbnailError",function(e){var t=l.props,n=t.onError,r=t.originalSrc;if(l.state.thumbnailLink!==r)return l.setState({thumbnailLink:r});n(e)}),g()(s()(l),"renderThumbnail",function(){var e=l.props,t=e.onLoad,n=e.width,r=e.height,a=e.maxHeight,o=e.hash,i=e.title,c=e.index,s=l.state.thumbnailLink;return b.a.createElement("div",{className:"imageContainer"},b.a.createElement(E.a,{hash:o,title:i,indexForComment:c}),b.a.createElement("img",{ref:function(e){l.element=e},src:s,width:n,height:r,style:{maxHeight:a},onLoad:t,onError:l.onThumbnailError,loading:"lazy"}))}),g()(s()(l),"renderWithOriginalImage",function(){var e=l.state.originalLink,t=C()({imageContainer:!0,zoomable:l.isZoomable()});return b.a.createElement("div",{className:t,onContextMenu:l.onContextMenu,onClick:l.onClick},b.a.createElement("img",{ref:function(e){l.placeholderElement=e},className:"image-placeholder",src:e}),l.renderThumbnail())}),g()(s()(l),"isZoomable",function(){var e=l.props,t=e.height,n=e.maxHeight;return n&&n<t});var t=Object(k.b)(Object(S.Q)())?e.originalSrc:e.thumbSrc;return l.state={originalLink:t,thumbnailLink:t},l}return i()(r,[{key:"componentWillUnmount",value:function(){this.element&&this.element.removeAttribute("src"),this.placeholderElement&&this.placeholderElement.removeAttribute("src")}},{key:"render",value:function(){return this.props.withOriginalImage?this.renderWithOriginalImage():this.renderThumbnail()}}]),r}(b.a.Component);N.__docgenInfo={description:"",methods:[{name:"onContextMenu",docblock:null,modifiers:[],params:[],returns:null},{name:"onClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onThumbnailError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"renderThumbnail",docblock:null,modifiers:[],params:[],returns:null},{name:"renderWithOriginalImage",docblock:null,modifiers:[],params:[],returns:null},{name:"isZoomable",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostImageComponent",props:{hash:{type:{name:"string"},required:!1,description:""},thumbSrc:{type:{name:"string"},required:!1,description:""},originalSrc:{type:{name:"string"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},withOriginalImage:{type:{name:"bool"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}},t.b=Object(O.a)(N)},CVa3:function(e,t,n){},CZoQ:function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},Cz84:function(e,t,n){},D0BC:function(e,t,n){var o=n("vlbB"),i=n("mv/X"),c=n("ZCgT"),s=parseFloat,l=Math.min,u=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=c(e),void 0===t?(t=e,e=0):t=c(t)),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var a=u();return l(e+a*(t-e+s("1e-"+((a+"").length-1))),t)}return o(e,t)}},D4vR:function(e,t,n){},DT9I:function(e,t,n){e.exports=n.p+"desktop-assets/s3.8d7432b17023313078fbeb8fa946386d.svg"},DfB6:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),i=n.n(a),c=n("PJYZ"),l=n.n(c),s=n("7W2i"),u=n.n(s),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("G5ih")),C=n("/MKj"),E=n("BWa0"),k=n("uwpD"),S=n("dRit"),O=n("GB65"),P=n("pVnL"),N=n.n(P),I=n("QILm"),w=n.n(I);function q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var j=function(e){u()(n,e);var t=q(n);function n(e){var r;return o()(this,n),r=t.call(this,e),g()(l()(r),"getContainer",function(e){r.container=e}),g()(l()(r),"handle",function(e){if("touchend"===e.type&&(r.isTouch=!0),"click"!==e.type||!r.isTouch){var t=r.props.onClickOutside,n=r.container;n&&!n.contains(e.target)&&t(e)}}),r.isTouch=!1,r}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onClickOutside,w()(e,["children","onClickOutside"]));return b.a.createElement("div",N()({},n,{ref:this.getContainer}),t)}},{key:"componentDidMount",value:function(){Object(O.a)("touchend",this.handle,!0),Object(O.a)("click",this.handle,!0)}},{key:"componentWillUnmount",value:function(){Object(O.ib)("touchend",this.handle,!0),Object(O.ib)("click",this.handle,!0)}}]),n}(y.Component);j.__docgenInfo={description:"",methods:[{name:"getContainer",docblock:null,modifiers:[],params:[{name:"ref",type:null}],returns:null},{name:"handle",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ClickOutside",props:{onClickOutside:{type:{name:"func"},required:!0,description:""},children:{type:{name:"node"},required:!1,description:""}}};var D=n("TSYQ"),A=n.n(D),T=n("JPcv"),R=n("sEfC"),x=n.n(R),M=n("E9Wd");function L(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var F=function(e){u()(a,e);var r=L(a);function a(){var c;o()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t)),g()(l()(c),"onSelect",function(e){(0,c.props.onCategorySelection)(e)}),g()(l()(c),"renderReactionGifCategories",function(e,t){var n=c.props.getColorByPostIndex,r=e.preview,a={backgroundImage:"linear-gradient(".concat(n(t),", #2e3035)")},o=e.shortname,i="gifpicker-collectionBackground".concat(e.is_promoted?" promotedCollection":"");return b.a.createElement("div",{key:"".concat(t).concat(r).concat(o),className:"gifpicker-collection",onClick:function(){c.onSelect(o),c.resetCollection()}},b.a.createElement("video",{style:a,className:i,autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:"".concat(M.W,"/").concat(r,"_lq.mp4")})),b.a.createElement("div",null,b.a.createElement("h2",{className:"gifpicker-collectionName"},e.name,e.is_promoted&&e.subtitle&&b.a.createElement("span",{className:"gifpicker-collectionSubtitle"},e.subtitle))))}),c}return i()(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections;t(),n()}},{key:"resetCollection",value:function(){this.props.reactionGifCollections}},{key:"render",value:function(){var e=this.props.reactionGifCollections;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-body Scrollbar--gray"},e.map(this.renderReactionGifCategories))))}}]),a}(b.a.Component);F.__docgenInfo={description:"",methods:[{name:"onSelect",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"renderReactionGifCategories",docblock:null,modifiers:[],params:[{name:"reactionGifObject",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCategories",props:{fetchReactionCollections:{type:{name:"func"},required:!0,description:""},reactionGifCollections:{type:{name:"object"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},renderReactionGifCategories:{type:{name:"func"},required:!1,description:""},reactionGifObject:{type:{name:"object"},required:!1,description:""},position:{type:{name:"string"},required:!1,description:""},resetCollection:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!0,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""}}};var _=Object(C.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections")}},{fetchReactionCollections:k.d,resetReactionGifSearchCollections:k.g})(F),U=n("DzJC"),G=n.n(U),V=n("Uz4u"),B=n.n(V);function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function z(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Y=function(e){u()(n,e);var t=z(n);function n(e){var p;return o()(this,n),p=t.call(this,e),g()(l()(p),"showCategoryCollection",function(){var e=p.props,t=e.fetchReactionGifSearchFull,n=e.currentlyShowing,r=e.reactionGifSearchFullpageNum;!0===p.state.isFullyLoaded&&null!=n?(p.setState({showingCategory:!1}),t(n,r)):p.setState({showingCategory:!0})}),g()(l()(p),"handleScrollCollection",function(){var e=p.state.showingCategory,t=p.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=t.reactionGifSearchFullpageNum;if(""!==n&&!1===e){var o=p.GifPickerBodyCollection.current,i=o.scrollTop,c=o.scrollHeight,s=c-i;p.setState({scrollDistance:i}),s<1e3&&1e3<=c&&!1===r&&p.showCategoryCollection(n,a)}}),g()(l()(p),"selectGif",function(e){(0,p.props.handleGifSelection)(e)}),g()(l()(p),"renderSelectableGifs",function(e,t){var n=p.state.scrollDistance,r=p.props,a=r.reactionGifSearchFullpageNum,o=r.getColorByPostIndex,i=e.id,c=e.height,s=e.runningGifHeight,l={height:"".concat(c,"px")},u={backgroundImage:"linear-gradient(".concat(o(t),", #2e3035)"),height:"".concat(c,"px")},d="".concat(M.W,"/").concat(i,"_lq.mp4"),m="".concat(M.W,"/").concat(i,".gif");return(n<450?0:n-450)<=s&&s<n+343+450?b.a.createElement("div",{key:"".concat(t+i+a+!0),className:"gifpicker-image",style:l,onClick:function(){p.selectGif(m)}},b.a.createElement("video",{style:u,className:"gifpicker-collectionBackground",autoPlay:!0,preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4",src:d}))):b.a.createElement("div",{key:"".concat(t+i+a+!1," "),className:"gifpicker-image",style:l},b.a.createElement("video",{style:u,className:"gifpicker-collectionBackground",preload:"none",loop:!0,playsInline:!0},b.a.createElement("source",{type:"video/mp4"})))}),g()(l()(p),"resetCollection",function(){var e=p.props,t=e.handleReset,n=e.resetReactionGifSearchCollections;t(),n(),p.setState({column1:[],column2:[],column1Height:0,column2Height:0})}),p.handleScrollCollection=G()(p.handleScrollCollection.bind(l()(p)),35),p.GifPickerBodyCollection=b.a.createRef(),p.state={showingCategory:!1,scrollDistance:0,isFullyLoaded:!0,column1:[],column2:[],column1Height:0,column2Height:0},p}return i()(n,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchReactionGifSearchFull)(e.currentlyShowing,e.reactionGifSearchFullpageNum)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.gifsFromCategory,r=t.currentlyShowing,a=t.reactionGifSearchFullpageNum,o=t.fetchReactionGifSearchFull,i=this.state,c=i.column1Height,s=i.column2Height,l=this.state,u=l.column1,d=l.column2;if(n.size!==e.gifsFromCategory.size){for(var m=u.slice(0),p=d.slice(0),f=m.length+p.length!==0?m.length+p.length:0;f<n.size;f++){var h=H({},n.get(f)),g=141.5/h.width;h.height*=g,c<=s?(h.runningGifHeight=c+h.height+7,c=h.runningGifHeight,m.push(h)):(h.runningGifHeight=s+h.height+7,s=h.runningGifHeight,p.push(h))}this.setState({column1:m,column2:p,column1Height:c,column2Height:s})}r!==e.currentlyShowing&&(this.setState({column1:[],column2:[],column1Height:0,column2Height:0}),o(r,a))}},{key:"render",value:function(){var e=this,t=this.props,n=t.currentlyShowing,r=t.reactionGifRequestPending,a=this.state,o=a.column1,i=a.column2;return o.length||i.length||r?b.a.createElement("div",{className:"gifpicker-body-container"},b.a.createElement("div",{className:"gifpicker-collectionHeader"},b.a.createElement("div",{className:"gifpicker-backButton",onClick:function(){e.resetCollection()},"aria-label":"Go back to categories"},b.a.createElement(E.cb,{className:"icon fill",name:E.c,width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"})),b.a.createElement("h1",{className:"gifpicker-collectionHeaderText"},n)),b.a.createElement("div",{className:"gifpicker-body gifpicker-body-collection Scrollbar--gray",ref:this.GifPickerBodyCollection,onScroll:this.handleScrollCollection},b.a.createElement("div",null,o.map(this.renderSelectableGifs)),b.a.createElement("div",null,i.map(this.renderSelectableGifs)))):b.a.createElement("div",{className:"gifpicker-error"},b.a.createElement("div",{className:"gifpicker-error-image"},b.a.createElement("img",{src:B.a})),b.a.createElement("div",{className:"gifpicker-error-message"},b.a.createElement("h2",null,Object(v.b)("reactionGifEmptySearch1")),b.a.createElement("br",null),b.a.createElement("h3",null,Object(v.b)("reactionGifEmptySearch2"))))}}]),n}(b.a.Component);Y.__docgenInfo={description:"",methods:[{name:"showCategoryCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"handleScrollCollection",docblock:null,modifiers:[],params:[],returns:null},{name:"selectGif",docblock:null,modifiers:[],params:[{name:"videoShareURL",type:null}],returns:null},{name:"renderSelectableGifs",docblock:null,modifiers:[],params:[{name:"column",type:null},{name:"index",type:null}],returns:null},{name:"resetCollection",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ReactionGIFCollections",props:{handleReset:{type:{name:"func"},required:!0,description:""},handleGifSelection:{type:{name:"func"},required:!0,description:""},getColorByPostIndex:{type:{name:"func"},required:!0,description:""},fetchReactionGifSearchFull:{type:{name:"func"},required:!0,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},reactionGifSearchFull:{type:{name:"object"},required:!1,description:""},reactionGifRequestPending:{type:{name:"bool"},required:!1,description:""},reactionGifSearchFullpageNum:{type:{name:"number"},required:!1,description:""},gifsFromCategory:{type:{name:"object"},required:!0,description:""}}};var J=Object(C.b)(function(e){return{reactionGifCollections:e.comments.get("reactionGifCollections"),reactionGifRequestPending:e.comments.get("reactionGifRequestPending"),reactionGifSearchFullpageNum:e.comments.get("reactionGifSearchFullpageNum"),gifsFromCategory:e.comments.get("gifsFromCategory")}},{fetchReactionGifSearchFull:k.e,resetReactionGifSearchCollections:k.g})(Y);n("/b2Y");function K(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Z=function(e){u()(n,e);var t=K(n);function n(e){var a;return o()(this,n),a=t.call(this,e),g()(l()(a),"preventPost",function(e){e.stopPropagation(),e.preventDefault()}),g()(l()(a),"submitHandler",function(){a.debounceSubmitHandler.cancel();var e=a.props.resetReactionGifSearchCollections,t=a.state.searchString;e(),a.setState({currentlyShowing:t})}),g()(l()(a),"inputChangeHandler",function(e){a.setState({searchString:e.target.value}),a.preventPost(e),a.debounceSubmitHandler()}),g()(l()(a),"onCategorySelection",function(e){a.setState({currentlyShowing:e})}),g()(l()(a),"handleReset",function(){var e=a.props,t=e.fetchReactionCollections,n=e.resetReactionGifSearchCollections,r=a.state.currentlyShowing;n(),t(),r&&a.setState({currentlyShowing:"",searchString:""})}),g()(l()(a),"handleGifSelection",function(e){(0,a.props.selectGIF)(e,a.state.currentlyShowing)}),g()(l()(a),"handleKeyDown",function(e){[S.a].includes(e.key)&&(a.preventPost(e),a.submitHandler())}),a.debounceSubmitHandler=x()(a.submitHandler,1e3),a.state={currentlyShowing:"",searchString:""},a}return i()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchReactionCollections)()}},{key:"getColorByPostIndex",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,n=["#ffdd00","#1bb76e","#227efa","#4a58fb","#6432f9","#ec4081","#4366d0","#7b85f7","#fc6369","#f14768","#ff51ba","#2ccaff","#43d0bd","#20bee8","#ffd300","#ff7d00"];return isNaN(t)&&(t=0),n[t%n.length]}},{key:"render",value:function(){var e,t,n=this,r=this.props,a=r.position,o=r.placeholder,i=r.searchString,c=r.isPromoted,s=r.promotedConfig,l=this.state.currentlyShowing,u=A()(["gifpicker",{"gifpicker--down":"bottom"===a,"gifpicker--promoted":c}]),d="gifpicker-nano".concat(l&&"-collection");if(c){var m="#".concat(s.get("header_text_color","ffffff"));e={"--gifpicker-triangle-color":"#".concat(s.get("header_gradiant_top","353aab"))},t={background:"linear-gradient(to bottom, #".concat(s.get("header_gradiant_top","474a51"),", #").concat(s.get("header_gradiant_bottom","1f2b59"),")"),color:m,fill:m}}return b.a.createElement("div",{className:u,style:e},b.a.createElement("div",{className:"gifpicker-header",style:t},b.a.createElement("div",{className:"gifpicker-header-content"},c?b.a.createElement(b.a.Fragment,null,b.a.createElement("p",{className:"gifpicker-header-content-title"},s.get("header_title")),b.a.createElement("p",{className:"gifpicker-header-content-subtitle"},s.get("header_subtitle"))):b.a.createElement("p",{className:"gifpicker-header-content-title"},Object(v.b)("reactionGIF")),b.a.createElement("div",{className:"gifpicker-searchbar"},b.a.createElement("input",{placeholder:o,className:"gifpicker-searchbar-textInput",type:"text",value:i,onChange:this.inputChangeHandler,onSubmit:this.submitHandler,onKeyDown:this.handleKeyDown}),b.a.createElement("div",{className:"ReactionGIFSearch-Icon"},b.a.createElement(E.cb,{name:E.A,width:"21",height:"20",viewBox:"0 0 21 20",onClick:function(e){n.preventPost(e),n.submitHandler()}})))),c&&b.a.createElement("img",{className:"gifpicker-header-asset",src:"//i.imgur.com/".concat(s.get("header_image"),".png")})),l?b.a.createElement(J,{currentlyShowing:l,getColorByPostIndex:this.getColorByPostIndex,handleReset:this.handleReset,handleGifSelection:this.handleGifSelection}):b.a.createElement(_,{onCategorySelection:this.onCategorySelection,getColorByPostIndex:this.getColorByPostIndex}),b.a.createElement("div",{className:d}))}}]),n}(b.a.Component);Z.defaultProps={placeholder:Object(v.b)("reactionGifSearchPlaceholder")};Z.__docgenInfo={description:"",methods:[{name:"getColorByPostIndex",docblock:null,modifiers:[],params:[{name:"itemIndex",type:null}],returns:null},{name:"preventPost",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCategorySelection",docblock:null,modifiers:[],params:[{name:"queryString",type:null}],returns:null},{name:"handleReset",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGifSelection",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"ReactionGIF",props:{placeholder:{defaultValue:{value:"copy('reactionGifSearchPlaceholder')",computed:!0},type:{name:"string"},required:!1,description:""},fetchReactionCollections:{type:{name:"func"},required:!0,description:""},position:{type:{name:"string"},required:!1,description:""},currentlyShowing:{type:{name:"string"},required:!1,description:""},searchString:{type:{name:"string"},required:!1,description:""},value:{type:{name:"string"},required:!1,description:""},resetReactionGifSearchCollections:{type:{name:"func"},required:!1,description:""},onCategorySelection:{type:{name:"func"},required:!1,description:""},selectGIF:{type:{name:"func"},required:!0,description:""},promotedConfig:{type:{name:"object"},required:!1,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""}}};var Q=Object(C.b)(function(e){var t=e.comments,n=e.config;return{reactionGifCollections:t.get("reactionGifCollections"),promotedConfig:n.get("sponsoredReactionGifsDefinition",new T.Map),isPromoted:!!n.getIn(["sponsoredReactionGifsDefinition","is_active"])}},{fetchReactionCollections:k.d,resetReactionGifSearchCollections:k.g})(Z);n("Cz84");function X(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var $=function(e){u()(n,e);var t=X(n);function n(e){var s;return o()(this,n),s=t.call(this,e),g()(l()(s),"handleKeyDown",function(e){[S.d,S.c].includes(e.key)&&s.setState({isGIFOpen:!1})}),g()(l()(s),"gifToggle",function(){var e=s.ReactionGIF.current.getBoundingClientRect().top,t=s.state,n=t.isGIFOpen,r=t.gifSaved,a=s.props,o=a.reactionGifSelectedAnalytics,i=a.isPromoted;if(!a.disabled){var c=!0;if(e<500&&(c=!1),n||s.setState({gifSaved:!1}),n&&!r){o(null,"Cancelled",i)}s.setState({isGIFOpen:!n,gifOpenUp:c})}}),g()(l()(s),"onSelect",function(e,t){var n=s.props,r=n.onSelect,a=n.reactionGifSelectedAnalytics,o=n.isPromoted;s.setState({isGIFOpen:!1,gifSaved:!0});a(t,"Saved",o),r(e)}),s.ReactionGIF=b.a.createRef(),s.state={isGIFOpen:!1,gifOpenUp:!0,gifSaved:!1},s}return i()(n,[{key:"componentDidMount",value:function(){Object(O.c)("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){Object(O.mb)("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.state,t=e.isGIFOpen,n=e.gifOpenUp,r=this.props,a=r.className,o=r.disabled,i=r.title;return b.a.createElement("div",{className:a,ref:this.ReactionGIF,disabled:o},b.a.createElement(E.cb,{className:"icon fill",name:E.b,id:"GIFButton",onClick:this.gifToggle,"aria-label":i,title:i,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),t?b.a.createElement(j,{onClickOutside:this.gifToggle},b.a.createElement(Q,{position:n?"top":"bottom",selectGIF:this.onSelect})):"")}}]),n}(b.a.PureComponent);$.defaultProps={className:"ReactionGIF",title:Object(v.b)("gifOnHover")},$.__docgenInfo={description:"",methods:[{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"gifToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null},{name:"category",type:null}],returns:null}],displayName:"ReactionGIFButton",props:{className:{defaultValue:{value:"'ReactionGIF'",computed:!1},type:{name:"string"},required:!1,description:""},title:{defaultValue:{value:"copy('gifOnHover')",computed:!0},type:{name:"string"},required:!1,description:""},onSelect:{type:{name:"func"},required:!0,description:""},reactionGifSelectedAnalytics:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""}}};t.a=Object(C.b)(function(e){return{isPromoted:!!e.config.getIn(["sponsoredReactionGifsDefinition","is_active"])}},{reactionGifSelectedAnalytics:k.f})($)},Dk6w:function(e,t,n){},DzJC:function(e,t,n){var o=n("sEfC"),i=n("GoyQ");e.exports=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),o(e,t,{leading:r,maxWait:t,trailing:a})}},"Ek/P":function(e,t,n){},F8bk:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=n("P5Jw"),C=n("/MKj"),E=(n("17x9"),n("fdoY")),k=n("/PhX"),S=n("9rNq"),O=n("E9Wd"),P=n("G5ih"),N=n("BWa0"),I=n("GB65");n("co09");function w(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var q=function(e){u()(o,e);var r=w(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),g()(s()(a),"link",function(){var e=a.props,t=e.copyLinkAction,n=e.title,r=e.hash;t("".concat(O.V,"/").concat(r),n,r,[])}),g()(s()(a),"download",function(){var e=a.props,t=e.hash,n=e.title;Object(I.cb)("".concat(O.V,"/download/").concat(t,"/").concat(encodeURIComponent(n)||""))}),g()(s()(a),"comment",function(){var o=a.props.indexForComment;document.getElementsByClassName("Comment-create-textarea").forEach(function(e,t){var n=Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set,r="";""!==e.value&&(r=" "),n.call(e,e.value+"".concat(r,"#").concat(o+1));var a=new Event("input",{bubbles:!0});e.dispatchEvent(a),0===t&&e.scrollIntoView({behavior:"smooth",block:"center"})})}),a}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.hash,n=e.isLoggedIn,r=e.indexForComment,a=e.commentsDisabled;return b.a.createElement(S.a,{className:"Dropdown--btn Dropdown--media",dropdownIcon:b.a.createElement(N.cb,{name:N.l,width:"32",height:"32"})},b.a.createElement(v.CopyToClipboard,{text:"".concat(O.V,"/").concat(t),onCopy:this.link},b.a.createElement("button",{type:"button"},b.a.createElement(N.cb,{className:"icon stroke",name:N.u,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(P.b)("copyLink")))),b.a.createElement("button",{type:"button",onClick:this.download},b.a.createElement(N.cb,{className:"icon stroke",name:N.i,width:"32",height:"32"}),b.a.createElement("span",{className:"label"},Object(P.b)("download"))),n&&Number.isInteger(r)&&!a&&b.a.createElement(b.a.Fragment,null,b.a.createElement("button",{type:"button",onClick:this.comment},b.a.createElement(N.cb,{className:"icon stroke",name:N.f,width:"32",height:"32",title:Object(P.b)("mediaMenuComment")}),b.a.createElement("span",{className:"label"},Object(P.b)("mediaMenuComment")))))}}]),o}(b.a.Component),j={copyLinkAction:E.U,openDialogAction:k.I};q.__docgenInfo={description:"",methods:[{name:"link",docblock:null,modifiers:[],params:[],returns:null},{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"comment",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostMediaDropdown",props:{copyLinkAction:{type:{name:"func"},required:!0,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},indexForComment:{type:{name:"number"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},commentsDisabled:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(C.b)(function(e){var t=e.user,n=e.postsData;return{isLoggedIn:t.get("isLoggedIn"),commentsDisabled:n.getIn(["currentPost","commentsDisabled"])}},j)(q)},FuWu:function(e,t,n){},FwDa:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("55Ip"),E=n("sEfC"),k=n.n(E),S=n("A1Ak"),O=n("b5GN"),P=n("OX3u"),N=n("/0Wm"),I=n("G5ih"),w=n("ErBw"),q=n("GB65"),j=n("/iGR"),D=n("7oyi"),A=n("wAdX"),T=n("pNV7"),R=n("/wi3");n("DBuX");function x(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var M=function(e){u()(o,e);var r=x(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),g()(s()(a),"handleCloseWithAnalytics",function(e){var t=a.props,n=t.whitelistedClosedAction,r=t.closeAdblockDialogAction;n(e,"Popup"),r()}),g()(s()(a),"handleClose",function(){a.handleCloseWithAnalytics("No Thanks")}),g()(s()(a),"onWhitelisted",function(){a.handleCloseWithAnalytics("Whitelisted"),Object(q.hb)()}),a}return c()(o,[{key:"render",value:function(){return b.a.createElement(A.a,{className:"AdblockDialog",name:w.b,onClose:this.handleClose,isModal:!1},b.a.createElement("div",{className:"AdblockDialog-content"},b.a.createElement(T.Z,{name:T.H,className:"Footer-whitelist-baby",width:140}),b.a.createElement("h2",null,Object(I.b)("WhitelistDialogTitle")),Object(I.b)("WhitelistDialogDescription")),b.a.createElement("div",{className:"AdblockDialog-footer"},b.a.createElement(C.a,{to:"/emerald?source=adBlockRecoverUpload"},Object(I.b)("popOverSupportImgur")),b.a.createElement(D.a,{className:"AdblockDialog-footer-whitelisted",onClick:this.onWhitelisted,label:Object(I.b)("WhitelistDialogWhitelisted")})),b.a.createElement(R.b,{onClick:this.handleClose}))}}]),o}(b.a.Component);M.__docgenInfo={description:"",methods:[{name:"handleCloseWithAnalytics",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AdblockDialog2",props:{whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},closeAdblockDialogAction:{type:{name:"func"},required:!0,description:""}}};var L=Object(v.b)(null,{whitelistedClosedAction:w.I,closeAdblockDialogAction:w.s})(M),F=n("9rNq");n("1p8+");function _(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var U=function(e){u()(r,e);var t=_(r);function r(e){var n;return i()(this,r),n=t.call(this,e),g()(s()(n),"_container",null),g()(s()(n),"updateFooterItemsForAdPersonalization",function(){var e=Object(q.A)("__uspapi");"function"==typeof e&&e("uspPing",1,function(e,t){t&&e.mode.includes("USP")&&e.jurisdiction.includes(e.location.toUpperCase())&&n.setState(function(e){return{footerItems:e.footerItems.concat({title:Object(I.b)("adPersonalizationFooter"),href:S.a[S.b].href})}})})}),g()(s()(n),"onWhitelistClose",function(e){(0,n.props.whitelistedClosedAction)(e,"Footer")}),g()(s()(n),"onWhitelisted",function(){n.onWhitelistClose("Whitelisted"),Object(q.hb)()}),n.updateFooterItems=k()(n.updateFooterItems.bind(s()(n)),250),n.state={childrenDisplay:[],childrenRest:[],footerItems:S.f.map(function(e){return{title:Object(I.b)("".concat(e,"Footer")),href:S.a[e].href}})},n}return c()(r,[{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.width,a=n.showWhitelistDialog,o=n.closedWhitelistDialog,i=n.whitelistedDisplayedAction,c=n.openAdblockDialogAction,s=n.inWhitelistExperiment,l=this.state.footerItems;e.width===r&&t.footerItems.length===l.length||this.updateFooterItems(r),e.showWhitelistDialog||e.closedWhitelistDialog||!a||o||(i(),s&&c())}},{key:"componentDidMount",value:function(){var e=this.props.width;this.updateFooterItemsForAdPersonalization(),this.updateFooterItems(e)}},{key:"updateFooterItems",value:function(e){var t=this.state.footerItems,n=function(e,o,t){var n=Array.from(e).map(function(e,t){var n=e.getBoundingClientRect(),r=n.left,a=n.width;return!t||r+a<o-275});return{childrenRest:t.filter(function(e,t){return!n[t]}),childrenDisplay:t.filter(function(e,t){return n[t]})}}(this.measure.children,e,t),r=n.childrenRest,a=n.childrenDisplay,o=this.state.childrenRest;this.footerUpdated=r.length!==o.length||a.length!==o.length,this.setState({childrenRest:r,childrenDisplay:a})}},{key:"renderDropdown",value:function(){var e=this.state.childrenRest,t=void 0===e?[]:e;return t.length?b.a.createElement(F.d,{className:"center",placeholder:" ",dropdownIcon:b.a.createElement("img",{src:T.a[T.u],className:"Dropdown-icon icon-points"})},t.map(function(e,t){return b.a.createElement("div",{key:"footer-dropdown-".concat(t),className:"Dropdown-option"},e.href?b.a.createElement("a",{href:e.href},e.title):b.a.createElement("div",{className:"Footer-optionText"},e.title))})):null}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.isUserLoggedIn,r=t.displayUsername;return n?b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{className:"Footer-whitelist-text loggedIn"},Object(I.b)("FooterBannerDialogContent",r)),b.a.createElement(C.a,{to:"/".concat(O.f,"?source=").concat(P.t)},b.a.createElement(D.a,{className:"Footer-whitelist-whitelisted",label:Object(I.b)("GoAdsFree")}))):b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{className:"Footer-whitelist-text"},Object(I.b)("WhitelistDialogContent")),b.a.createElement(D.a,{className:"Footer-whitelist-whitelisted",onClick:this.onWhitelisted,label:Object(I.b)("WhitelistDialogWhitelisted")}),b.a.createElement(C.a,{to:"/".concat(O.f,"?source=").concat(P.t),className:"Footer-whitelist-emerald",onClick:function(){e.onWhitelistClose("Emerald")}},Object(I.b)("WhitelistEmerald")))}},{key:"render",value:function(){var t=this,e=this.state,n=e.childrenDisplay,r=void 0===n?[]:n,a=e.footerItems,o=this.props,i=o.isFooterVisible,c=o.showWhitelistDialog,s=o.closedWhitelistDialog,l=o.inWhitelistExperiment;return b.a.createElement("div",{className:"Footer-wrapper".concat(i?"":" down")},c&&!s&&(l?b.a.createElement(L,null):b.a.createElement("div",{className:"Footer-whitelist"},b.a.createElement("div",{className:"Footer-whitelist-wrapper"},b.a.createElement(T.Z,{name:T.H,className:"Footer-whitelist-baby",width:93}),this.renderContent()),b.a.createElement("div",{className:"Footer-whitelist-buttonClose",onClick:function(){t.onWhitelistClose("No Thanks","Footer")}},b.a.createElement(T.Z,{name:T.i,width:20})))),b.a.createElement("div",{className:"Footer"},b.a.createElement("ul",{ref:function(e){t.menu=e},className:"Footer-navbar"},r.map(function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)})),this.renderDropdown(),b.a.createElement("div",{ref:function(e){t.appBtn=e},className:"Footer-app"},b.a.createElement("a",{href:"".concat(S.a[S.c].href)},Object(I.b)("getAppFooter")))),b.a.createElement("div",{className:"Footer Footer-measure"},b.a.createElement("ul",{ref:function(e){t.measure=e},className:"Footer-navbar Footer-navbar-dimensions"},a.map(function(e,t){return b.a.createElement("li",{key:"footer-item-".concat(t)},e.href?b.a.createElement("a",{href:e.href},e.title):e.title)}))))}}]),r}(b.a.Component);U.defaultProps={width:0},U.__docgenInfo={description:"",methods:[{name:"updateFooterItemsForAdPersonalization",docblock:null,modifiers:[],params:[],returns:null},{name:"updateFooterItems",docblock:null,modifiers:[],params:[{name:"width",type:null}],returns:null},{name:"renderDropdown",docblock:null,modifiers:[],params:[],returns:null},{name:"renderContent",docblock:null,modifiers:[],params:[],returns:null},{name:"onWhitelistClose",docblock:null,modifiers:[],params:[{name:"way",type:null}],returns:null},{name:"onWhitelisted",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Footer",props:{width:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFooterVisible:{type:{name:"bool"},required:!1,description:""},closedWhitelistDialog:{type:{name:"bool"},required:!0,description:""},showWhitelistDialog:{type:{name:"bool"},required:!1,description:""},whitelistedClosedAction:{type:{name:"func"},required:!0,description:""},whitelistedDisplayedAction:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""},openAdblockDialogAction:{type:{name:"func"},required:!0,description:""},inWhitelistExperiment:{type:{name:"bool"},required:!0,description:""}}};t.a=Object(v.b)(function(e){var t=e.ui,n=e.display,r=e.user,a=e.postsData,o=e.experiments;return{isFooterVisible:t.footer.get("isFooterVisible"),closedWhitelistDialog:t.footer.get("closedWhitelistDialog"),width:n.getIn(["viewPort","width"]),showWhitelistDialog:Object(q.W)()&&!Object(j.b)(w.n)&&r.get("isLoaded")&&!r.get("hasPaid")&&(!r.get("isLoggedIn")||r.get("isLoggedIn")&&!r.getIn(["subscription","isSubscribed"]))&&a.getIn(["currentPost","adConfig","showsAds"]),isUserLoggedIn:r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||"",inWhitelistExperiment:o.getIn([N.c,"activeTreatment"],"")===N.d}},{whitelistedClosedAction:w.I,whitelistedDisplayedAction:w.J,openAdblockDialogAction:w.x})(U)},"G6+a":function(e,t,n){},GGeJ:function(e,t,n){},HCTt:function(e,t,n){},HWIq:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),c=n.n(r),a=(n("17x9"),n("TSYQ")),s=n.n(a),i=n("Nm7g"),l=n("y/zE");function u(e){var t=e.count,n=e.username;if(!t&&!n)return null;var r=s()({"Accolade-userAvatar":!0,"Accolade-userAvatar--withCount":0<t}),a=s()({"Accolade-accoladeCountValue":!0,"Accolade-accoladeCountValue--plus":!!n}),o=s()({"Accolade-accoladeGiven":!0,"Accolade-accoladeGiven--avatar":!!n});return c.a.createElement("div",{className:o},n&&c.a.createElement(l.a,{className:r,username:n,displayUsername:n}),0<t&&c.a.createElement("div",{className:"Accolade-accoladeCount"},c.a.createElement("div",{className:a},n&&"+ ",Object(i.h)(t))))}u.__docgenInfo={description:"",methods:[],displayName:"AccoladeHead",props:{count:{type:{name:"number"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""}}};n("Ek/P");function o(e){var t=e.count,n=e.username,r=e.background,a=e.imageUrl,o=e.imageName,i=s()({Accolade:!0,"Accolade-background":r});return c.a.createElement("div",{className:i},c.a.createElement(u,{count:t,username:n}),c.a.createElement("img",{className:"Accolade-accoladeImage",src:a,alt:"".concat(o)}),o&&c.a.createElement("div",{className:"Accolade-accoladeName"},o))}o.defaultProps={count:0,background:!1},o.__docgenInfo={description:"",methods:[],displayName:"Accolade",props:{count:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},background:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},username:{type:{name:"string"},required:!1,description:""},imageUrl:{type:{name:"string"},required:!1,description:""},imageName:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""}}}},HhWI:function(e,t,n){},IVpR:function(e,t,n){},IgJu:function(e,t,n){},JBc3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lSNA"),s=n.n(r),a=n("q1tI"),l=n.n(a),o=(n("17x9"),n("TSYQ")),u=n.n(o),d=n("AG5K"),m=n("E9Wd"),p=n("GB65"),f=n("BWa0");n("Ltx0");function i(e){var t=e.customClasses,n=e.isUserLoggedIn,r=e.showTitle,a=e.showSmallVersion,o=e.onClick,i=u()(s()({GiveEmeraldButton:!0,"GiveEmeraldButton-title":r,"GiveEmeraldButton-small":a},t,t)),c=Object(d.a)("giveEmerald");return l.a.createElement("a",{className:i,title:c,href:"".concat(m.N,"?redirect=").concat(encodeURIComponent(Object(p.v)())),onClick:function(e){n&&(e.preventDefault(),e.stopPropagation(),o())}},l.a.createElement(f.cb,{name:f.W,width:"14",height:"14",viewBox:"0 0 20 20"}),r&&l.a.createElement("span",null,c))}i.defaultProps={showTitle:!1,showSmallVersion:!1,onClick:function(){},customClasses:""},i.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButton",props:{showTitle:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showSmallVersion:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},customClasses:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""}}}},JHKR:function(e,t,n){},KhJ6:function(e,t,n){"use strict";function r(e,t,n,r){if(n.location.pathname.startsWith("/account/favorites/"))return e.get("username");var a,o=r.params,i=o.username?o.username.toLowerCase():null;return(a=i?t.getIn(["accounts",i]):t.get("accounts").first())?a.get("username"):i}n.d(t,"a",function(){return r})},KwMD:function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},LGYb:function(e,t,n){var p=n("1hJj"),f=n("jbM+"),h=n("Xt/L"),g=n("xYSL"),y=n("dQpi"),b=n("rEGp");e.exports=function(e,t,n){var r=-1,a=f,o=e.length,i=!0,c=[],s=c;if(n)i=!1,a=h;else if(200<=o){var l=t?null:y(e);if(l)return b(l);i=!1,a=g,s=new p}else s=t?[]:c;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,i&&d==d){for(var m=s.length;m--;)if(s[m]===d)continue e;t&&s.push(d),c.push(u)}else a(s,d,n)||(s!==c&&s.push(d),c.push(u))}return c}},LbAz:function(e,t,n){},Ltx0:function(e,t,n){},"Lz/x":function(e,t,n){},MZXA:function(e,t,n){},"NXH/":function(e,t,n){},"O+9w":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r),c=(n("17x9"),n("E9Wd"));function a(e){var t=e.isPromoted,n=e.isUserLoaded,r=e.itemUsername,a=e.currentUsername,o=e.children;return e.isEnabled&&!t&&n&&r&&a!==r&&!c.E.includes(r)?i.a.createElement("div",null,o):null}a.defaultProps={isEnabled:!0,isUserLoaded:!1,isPromoted:!1},a.__docgenInfo={description:"",methods:[],displayName:"GiveEmeraldButtonSwitch",props:{isEnabled:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},isUserLoaded:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},itemUsername:{type:{name:"string"},required:!0,description:""},children:{type:{name:"object"},required:!0,description:""}}}},OQdq:function(e,t,n){},Ojet:function(e,t,n){},"Pom+":function(e,t,n){"use strict";n.d(t,"b",function(){return da}),n.d(t,"a",function(){return ma});var r=n("pVnL"),p=n.n(r),a=n("lwsE"),l=n.n(a),o=n("W8MJ"),u=n.n(o),i=n("PJYZ"),f=n.n(i),c=n("7W2i"),d=n.n(c),s=n("a1gu"),m=n.n(s),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),O=n.n(y),P=n("q1tI"),q=n.n(P),b=(n("17x9"),n("Ty5D")),v=n("mwIZ"),C=n.n(v),N=n("GB65"),E=n("dRit"),k=n("+VfX"),I=n("4TFA"),j=n("E9Wd"),S=n("G5ih"),D=n("b5GN"),w=n("wmRA"),A=(n("wZPJ"),n("BWa0"));function T(e){var t=e.href;return q.a.createElement("a",{className:"BetaFeedback badge",href:t,target:"_blank",rel:"noopener noreferrer"},q.a.createElement(A.cb,{className:"badge-icon",name:A.p,width:"32",height:"32"}),q.a.createElement("span",{className:"badge-text"},Object(S.b)("betaFeedback")))}function R(e){var t=e.onPostPageOptOut;return q.a.createElement("a",{href:"/beta/disable?redirect=".concat(encodeURIComponent("".concat(Object(N.v)(),"?nc=1"))),className:"GalleryPage-betaOptOut badge",onClick:function(){t()}},q.a.createElement(A.cb,{className:"badge-icon",name:A.t,width:"32",height:"32"}),q.a.createElement("span",{className:"badge-text"},Object(S.b)("leaveBeta")))}T.__docgenInfo={description:"",methods:[],displayName:"BetaFeedback",props:{href:{type:{name:"string"},required:!0,description:""}}},R.__docgenInfo={description:"",methods:[],displayName:"BetaFeedback",props:{onPostPageOptOut:{type:{name:"func"},required:!0,description:""}}};var x=n("sEfC"),M=n.n(x);function L(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var F=function(e){d()(n,e);var t=L(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"handleScroll",value:function(){(0,this.props.onScroll)(Object(N.A)("pageYOffset"),Object(N.A)("innerHeight"))}},{key:"componentDidMount",value:function(){var e=this.props.debounceTimeout;this.handleScroll(),this.handleScroll=M()(this.handleScroll.bind(this),e),Object(N.a)("scroll",this.handleScroll),Object(N.a)("resize",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),Object(N.ib)("scroll",this.handleScroll),Object(N.ib)("resize",this.handleScroll)}},{key:"render",value:function(){return q.a.createElement("span",null)}}]),n}(P.Component);F.defaultProps={debounceTimeout:10},F.__docgenInfo={description:"",methods:[{name:"handleScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Scroll",props:{debounceTimeout:{defaultValue:{value:"10",computed:!1},type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!0,description:""}}};var _=n("/aJl"),U=n("FwDa"),G=n("xbNk"),V=n("Y22u");function B(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var W=function(e){d()(r,e);var n=B(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"lazyLoadHandler",M()(function(){var e=t.props.lazyLoadBuffer;Object(V.c)(t.lazyLoadContainer.current,e)&&(t.setState({lazyLoadedIntoView:!0}),Object(N.mb)("scroll",t.lazyLoadHandler),Object(N.mb)("resize",t.lazyLoadHandler))},200)),t.lazyLoadContainer=q.a.createRef(),t.state={lazyLoadedIntoView:!1},t}return u()(r,[{key:"componentDidMount",value:function(){Object(N.c)("scroll",this.lazyLoadHandler),Object(N.c)("resize",this.lazyLoadHandler),this.lazyLoadHandler()}},{key:"componentWillUnmount",value:function(){Object(N.mb)("scroll",this.lazyLoadHandler),Object(N.mb)("resize",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props.children,t=this.state.lazyLoadedIntoView;return q.a.createElement("div",{ref:this.lazyLoadContainer},t?e():"")}}]),r}(P.Component);W.__docgenInfo={description:"",methods:[],displayName:"LazyLoad",props:{children:{type:{name:"func"},required:!0,description:""},lazyLoadBuffer:{type:{name:"number"},required:!0,description:""}}};var H=n("yosD"),z=n("XVVZ"),Y=n("heTe"),J=n("w8Sv"),K=n("bWDY"),Z=n("TJpk");function Q(e){var t,n,o=e.post;return q.a.createElement(Z.Helmet,null,q.a.createElement("title",null,function(e){if(o){var t=e.get("title"),n=e.get("media"),r=n.first();if(r&&(r.get("animationType")||r.get("isVideo")))return 1<n.size?Object(S.b)("galleryMetaTitleGifs",t):Object(S.b)("galleryMetaTitleGif",t);var a=e.get("tags");return a.size?Object(S.b)("galleryMetaTitleTag",t,a.first().get("display",a.first().get("tag"))):t}return Object(S.b)("defaultTitle")}(o)),q.a.createElement("link",{rel:"canonical",href:(t=o,n=j.V,o&&(t.get("inGallery")?n+="/gallery/".concat(t.get("id")):t.get("isAlbum")?n+="/a/".concat(t.get("id")):n+="/".concat(t.get("id"))),n)}))}Q.__docgenInfo={description:"",methods:[],displayName:"GalleryMeta",props:{post:{type:{name:"object"},required:!1,description:""}}};var X=n("TSYQ"),$=n.n(X),ee=n("/MKj"),te=n("iaU+"),ne=n("94Yu"),re=n("9Jdl"),ae=n("9UQG"),oe=n("WSv3"),ie=n("ANjH"),ce=n("fdoY"),se=n("QILm"),le=n.n(se),ue=n("55Ip"),de=n("RJ0p");function me(e){var t=e.recircSortType,n=e.postId,r=e.match,a=e.children,o=(e.dispatch,e.staticContext,le()(e,["recircSortType","postId","match","children","dispatch","staticContext"])),i=r.params,c=Object(de.g)(t,i);return q.a.createElement(ue.a,p()({to:"".concat(c).concat(n)},o),a)}me.__docgenInfo={description:"",methods:[],displayName:"PostLink",props:{match:{type:{name:"object"},required:!0,description:""},children:{type:{name:"union",value:[{name:"arrayOf",value:{name:"node"}},{name:"node"}]},required:!0,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},staticContext:{type:{name:"object"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""}}};var pe=Object(ie.d)(Object(ee.b)(function(e){return{recircSortType:e.postsData.get("recircSortType")}}),b.h)(me);n("D4vR");function fe(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var he=function(e){d()(n,e);var t=fe(n);function n(e){var r;return l()(this,n),r=t.call(this,e),O()(f()(r),"clickNext",function(){var e=r.props,t=e.toNext,n=e.match.params;t(I.n.BUTTON,n)}),O()(f()(r),"clickPrev",function(){var e=r.props,t=e.toPrev,n=e.match.params;t(I.n.BUTTON,n)}),r.elm=q.a.createRef(),r}return u()(n,[{key:"setElementPosition",value:function(){var e=this.props,t=e.setPosition,n=e.header,r=parseInt(this.elm.getBoundingClientRect().bottom,10)+Object(N.L)();n&&t(r)}},{key:"componentDidMount",value:function(){this.setElementPosition()}},{key:"componentDidUpdate",value:function(){this.setElementPosition()}},{key:"render",value:function(){var t=this,e=this.props,n=e.prevPost,r=e.nextPost,a=e.transformationStyle,o=e.transformationNextStyle,i=$()({"Navigation-Container":!0,"first-item":!n,"last-item":!r});return q.a.createElement("div",{ref:function(e){t.elm=e}},(n||r)&&q.a.createElement("div",{className:i},n&&q.a.createElement(pe,{className:"Navigation Navigation-prev",postId:n.get("id"),onClick:this.clickPrev},q.a.createElement("div",{className:"content"},q.a.createElement(A.cb,{name:A.R,width:"16",height:"16",alt:"<"}))),r&&q.a.createElement(pe,{className:"Navigation Navigation-next",postId:r.get("id"),onClick:this.clickNext,style:a},q.a.createElement("div",{className:"content"},q.a.createElement("span",{style:o},Object(S.b)("nextPost")),q.a.createElement(A.cb,{name:A.S,width:"16",height:"16",alt:">"})))))}}]),n}(q.a.Component);he.defaultProps={header:!1},he.__docgenInfo={description:"",methods:[{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"clickNext",docblock:null,modifiers:[],params:[],returns:null},{name:"clickPrev",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PrevNextButtonsComponent",props:{header:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},toNext:{type:{name:"func"},required:!0,description:""},toPrev:{type:{name:"func"},required:!0,description:""},match:{type:{name:"object"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},transformationNextStyle:{type:{name:"object"},required:!1,description:""},setPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""}}};var ge=Object(ie.d)(Object(ee.b)(function(e){var t=e.postsData,n=e.ad,r=e.ui,a={},o={};return n.getIn(["transformation","enabled"])&&(a={background:"linear-gradient(60deg, rgb(".concat(n.getIn(["transformation","primaryColor"]),") 0%, rgb(").concat(n.getIn(["transformation","primaryColor"]),") 45%, rgb(").concat(n.getIn(["transformation","secondaryColor"]),") 100%)"),fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","nextFontSize"])},o={verticalAlign:n.getIn(["transformation","nextAlignment"])}),{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),coverHeight:r.cover.get("height"),transformationStyle:a,transformationNextStyle:o}},{toNext:ce.bb,toPrev:ce.cb,setPosition:ce.Db}),b.h)(he);function ye(e){var t=e.className,n=e.username,r=e.label,a=e.children,o=e.onClick;return n.toLowerCase()===j.B&&(n=j.D),q.a.createElement(ue.a,{className:t,to:"/user/".concat(n),title:Object(S.b)("usernameHint",n),onClick:o},a||r||n)}ye.__docgenInfo={description:"",methods:[],displayName:"AuthorLinkComponent",props:{className:{type:{name:"string"},required:!1,description:""},username:{type:{name:"string"},required:!0,description:""},label:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};n("nswd");function be(e){var t=e.postTitle,n=e.postAuthor,r=e.className,a=e.isPostLoading,o=e.onProfileClick,i=e.transformationTitleStyle;return q.a.createElement("div",{className:$()(O()({CoverPostMeta:!0},r,r))},q.a.createElement("div",{className:"Wrapper"},q.a.createElement("div",{className:"Meta".concat(a?" fadeOut":"")},q.a.createElement("div",{className:"PostTitle",style:i},t),n&&q.a.createElement(ye,{className:"author-name",username:n,label:Object(S.b)("postHeaderMetaAuthor",n),onClick:function(){return o(n,"Username Byline")}})),q.a.createElement("div",{className:"Navigation-buttons"},q.a.createElement(ge,null))))}be.__docgenInfo={description:"",methods:[],displayName:"CoverPostMetaComponent",props:{className:{type:{name:"string"},required:!1,description:""},postTitle:{type:{name:"string"},required:!1,description:""},postAuthor:{type:{name:"string"},required:!1,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!0,description:""}}};var ve=Object(ee.b)(function(e){var t=e.postsData,n=e.ad,r=t.get("currentPost"),a={};return n.getIn(["transformation","enabled"])&&(a={fontFamily:n.getIn(["transformation","fontFamily"]),fontSize:n.getIn(["transformation","stickyTitleFontSize"])}),{postTitle:r&&r.get("title"),postAuthor:r&&r.get("inGallery")&&r.getIn(["account","username"],""),transformationTitleStyle:a}},{onProfileClick:oe.Y})(be);n("oYpj");function Ce(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ee=function(e){d()(n,e);var t=Ce(n);function n(e){var a;return l()(this,n),a=t.call(this,e),O()(f()(a),"onScroll",function(){var e=a.props,t=e.prevNextPosition,n=e.coverTop,r=Object(N.L)()+Math.abs(n)>=t;r!==a.state.isDisplayPostMeta&&a.setState({isDisplayPostMeta:r})}),a.state={isDisplayPostMeta:!1},a}return u()(n,[{key:"componentDidUpdate",value:function(e){e.prevNextPosition!==this.props.prevNextPosition&&this.onScroll()}},{key:"render",value:function(){var e=this.props,t=e.isPostLoading,n=e.isPostAd,r=$()({GalleryCover:!0,withPostMeta:this.state.isDisplayPostMeta});return q.a.createElement(te.a,{minHeight:0,className:r,backgroundType:k.n,hideNewPostNotification:!0,SCTU:n?void 0:ne.a,SCTUPath:re.v,SCTUTargeting:{"2019NewPostPage":!0},onScroll:this.onScroll,Banner:ae.a},q.a.createElement(ve,{className:this.state.isDisplayPostMeta?"Display":"",isPostLoading:t}))}}]),n}(q.a.Component);Ee.__docgenInfo={description:"",methods:[{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryCoverComponent",props:{prevNextPosition:{type:{name:"number"},required:!0,description:""},isPostLoading:{type:{name:"bool"},required:!1,description:""},isPostAd:{type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var ke=Object(ee.b)(function(e){var t=e.postsData,n=e.ui;return{prevNextPosition:t.get("prevNextPosition"),isPostLoading:n.spinner.get("retrievePost",{}).loading,isPostAd:t.getIn(["currentPost","isAd"],!1),coverTop:n.cover.getIn(["navbar","top"])}})(Ee),Se=n("v1Sp"),Oe=n("/PhX"),Pe=n("wAdX"),Ne=n("7oyi"),Ie=n("pNV7");n("2X/W");function we(e){var t=e.closeDialog,n=e.muteUser,r=e.resetMuteUserData,a=e.username,o=e.type,i=e.id;if(!(a&&o&&i))return null;function c(){r(),t()}return q.a.createElement(Pe.a,{className:"MuteUserDialog",name:Se.a,isModal:!1,onClose:r},q.a.createElement("div",{className:"MuteUserDialog-head"},q.a.createElement("span",null,Object(S.b)("muteUserDialogTitle")),q.a.createElement(Ne.a,{className:"MuteUserDialog-head--close",imageSrc:Ie.a[Ie.j],onClick:c})),q.a.createElement("div",{className:"MuteUserDialog-content"},q.a.createElement("div",{className:"MuteUserDialog-content--text"},Object(S.b)("muteUserDialogText")),q.a.createElement("div",{className:"MuteUserDialog-content--buttons"},q.a.createElement(Ne.a,{className:"MuteUserDialog-content--mute",onClick:function(){n(a,o,i),t()},label:Object(S.b)("muteUserDialogMuteBtn")}),q.a.createElement(Ne.a,{className:"MuteUserDialog-content--cancel",onClick:c,label:Object(S.b)("muteUserDialogCancelBtn")}))))}we.__docgenInfo={description:"",methods:[],displayName:"MuteUserDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},muteUser:{type:{name:"func"},required:!0,description:""},resetMuteUserData:{type:{name:"func"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var qe=Object(ee.b)(function(e){var t=e.user;return{username:t.getIn(["muteUserData","username"]),type:t.getIn(["muteUserData","type"]),id:t.getIn(["muteUserData","id"])}},{closeDialog:Oe.y,muteUser:oe.K,resetMuteUserData:oe.O})(we);n("Rhnt");function je(e){var t=e.closeDialog,n=e.removeFromPublic,r=e.postId,a=e.isAlbum;if(!r)return null;function o(){t()}return q.a.createElement(Pe.a,{className:"RemoveFromPublicDialog",name:w.C,isModal:!1},q.a.createElement("div",{className:"RemoveFromPublicDialog-head"},q.a.createElement("span",null,Object(S.b)("removeFromPublicDialogTitle")),q.a.createElement(Ne.a,{className:"RemoveFromPublicDialog-head--close",imageSrc:Ie.a[Ie.j],onClick:o})),q.a.createElement("div",{className:"RemoveFromPublicDialog-content"},q.a.createElement("div",{className:"RemoveFromPublicDialog-content--text"},Object(S.b)("removeFromPublicDialogText")),q.a.createElement("div",{className:"RemoveFromPublicDialog-content--buttons"},q.a.createElement(Ne.a,{className:"btn btn--cancel",onClick:o,label:Object(S.b)("removeFromPublicDialogCancelBtn")}),q.a.createElement(Ne.a,{className:"btn btn--submit",onClick:function(){n(r,a),t()},label:Object(S.b)("removeFromPublicDialogSubmitBtn")}))))}je.__docgenInfo={description:"",methods:[],displayName:"RemoveFromPublicDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},removeFromPublic:{type:{name:"func"},required:!0,description:""},postId:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""}}};var De=Object(ee.b)(function(e){var t=e.postsData;return{postId:t.getIn(["currentPost","id"]),isAlbum:t.getIn(["currentPost","isAlbum"])}},{closeDialog:Oe.y,removeFromPublic:ce.pb})(je),Ae=n("AG5K"),Te=n("OX3u"),Re=n("fPgW"),xe=n("Nm7g"),Me=n("Dhp7");function Le(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Fe=function(e){d()(r,e);var n=Le(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).state={countdown:null},t}return u()(r,[{key:"tick",value:function(){var e=this.props.target;e&&this.setState({countdown:Object(Me.n)(e)})}},{key:"componentDidMount",value:function(){var e=this;this.tick();var t=this.props.target;!this.timerID&&t&&(this.timerID=Object(N.xb)(function(){return e.tick()},1e3))}},{key:"componentWillUnmount",value:function(){Object(N.g)(this.timerID),this.timerID=null}},{key:"render",value:function(){var e=this.state.countdown,t=this.props.className;return q.a.createElement("div",{className:t},e)}}]),r}(P.Component);Fe.__docgenInfo={description:"",methods:[{name:"tick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Countdown",props:{target:{type:{name:"string"},required:!0,description:""},className:{type:{name:"string"},required:!1,description:""}}};var _e=n("RIqP"),Ue=n.n(_e);function Ge(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ve=function(e){d()(n,e);var t=Ge(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"renderInventory",value:function(e,t){var n=t?"active":"dimmed";return q.a.createElement("div",{className:"AccoladeDialog-inventory--".concat(n),key:e},q.a.createElement(A.cb,{name:A.H,width:"18",height:"20",viewBox:"0 -9 32 32"}))}},{key:"render",value:function(){var n=this,e=this.props,t=e.total,r=e.remaining;return t&&0!==r?q.a.createElement("div",{className:"AccoladeDialog-inventory"},q.a.createElement("div",{className:"AccoladeDialog-inventory-badges"},Ue()(Array(t)).map(function(e,t){return n.renderInventory(t,t+1<=r)})),q.a.createElement("div",{className:"AccoladeDialog-inventory-message"},Object(Ae.a)("accoladesInventoryRemaining",r))):null}}]),n}(P.Component);Ve.__docgenInfo={description:"",methods:[{name:"renderInventory",docblock:null,modifiers:[],params:[{name:"key",type:null},{name:"isActive",type:null}],returns:null}],displayName:"Inventory",props:{total:{type:{name:"number"},required:!1,description:""},remaining:{type:{name:"number"},required:!1,description:""}}};var Be=n("HWIq");n("neJP");function We(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var He=n("RUHF");var ze=Object(ee.b)(function(e){var t=e.postsData,n=e.user,r=t.getIn(["currentPostMeta","user","accolades"]),a=t.getIn(["currentPostMeta","post","accolades_counts"]);return{isSubscribed:n.getIn(["subscription","isSubscribed"],!1),postId:t.getIn(["currentPost","id"]),initialVote:t.getIn(["currentPost","vote"],Re.c),accolades:t.getIn(["currentPostMeta","accolades","available"]),total:r&&r.getIn(["total"],0),remaining:r&&r.getIn(["remaining"]),timerReset:r&&r.getIn(["timer_reset"]),userAccoladeId:r&&r.getIn(["accolade_id"]),postAccolades:a?a.toJS():{},isOwner:n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase(),currentUsername:n.get("username","")}},function(t){return{close:function(){t(Object(Oe.y)(Te.a))},submit:function(e){t(Object(ce.Qb)(e)),t(Object(Oe.y)(Te.a)),e.vote===Re.b?t(e.userAccoladeId?Object(He.j)(e):Object(He.k)(e)):t(Object(He.l)(e))},onAccoladeDialogOpen:function(e){return t(Object(ce.T)(e))}}})(function(c,e){var s=1<arguments.length&&void 0!==e?e:{},t=function(e){d()(n,e);var t=We(n);function n(e){var s;return l()(this,n),s=t.call(this,e),O()(f()(s),"chooseAccolade",function(e,t,n){0===t&&e&&!n||s.setState({currentSelectedAccoladeId:e})}),O()(f()(s),"handleAward",function(){var e=s.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.postAccolades,o=e.accolades,i=e.userAccoladeId,c=s.state.currentSelectedAccoladeId;t({postId:n,vote:Re.b,initialVote:r,trigger:"Award Accolade",accoladeId:c,userAccoladeId:i,accoladeName:o.find(function(e){return e.get("id")===c}).get("name"),accoladeCount:Object(xe.l)(a)+1,previousAccoladeName:i?o.find(function(e){return e.get("id")===i}).get("name"):null})}),O()(f()(s),"handleRemove",function(){var e=s.props,t=e.submit,n=e.postId,r=e.initialVote,a=e.userAccoladeId;t({postId:n,vote:Re.c,initialVote:r,trigger:"Delete Accolade",userAccoladeId:a})}),O()(f()(s),"getCount",function(e){var t=s.props,n=t.postAccolades,r=t.userAccoladeId,a=n&&n[e]?n[e]:0;return a?(e===r&&--a,a):0}),O()(f()(s),"isAccoladeButtonEnabled",function(){var e=s.props,t=e.userAccoladeId,n=e.remaining,r=s.state.currentSelectedAccoladeId;return null!==r&&(!(0===n&&!t)&&(!t||r!==t))}),O()(f()(s),"onOpen",function(){var e=s.props,t=e.onAccoladeDialogOpen,n=e.isOwner,r=e.postAccolades;t({accoladeIds:n&&r&&0<Object.keys(r).length?Object.keys(r):null}),s.chooseAccolade(null)}),s.state={currentSelectedAccoladeId:null},s}return u()(n,[{key:"accoladeData",value:function(e,t){var n=this,r=this.state.currentSelectedAccoladeId,a=this.props,o=a.userAccoladeId,i=a.currentUsername,c=a.remaining,s=e.get("id");return q.a.createElement("div",{key:t,onClick:function(){return n.chooseAccolade(e.get("id"),c,o)}},q.a.createElement(Be.a,{count:this.getCount(s),username:s===o?i:"",background:s===r,imageUrl:e.get("image_url"),imageName:e.get("name")}))}},{key:"renderAccolades",value:function(){var n=this,e=this.props.accolades;if(e)return q.a.createElement("div",{className:"AccoladeDialog-accoladesContainer"},e.map(function(e,t){return n.accoladeData(e,t)}))}},{key:"renderDialogTitle",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.isOwner,a=e.postAccolades,o=e.remaining,i=e.timerReset;if(r){var c=Object(xe.l)(a);return Object(Ae.a)(c?"accoladePostHasAccoladesTitle":"accoladePostNotHasAccoladesTitle",Object(xe.h)(c))}return t?0===o?q.a.createElement(q.a.Fragment,null,q.a.createElement(Fe,{target:i,className:"AccoladeDialog-countdown"}),Object(Ae.a)("accoladesInventoryReload")):Object(Ae.a)(n?"accoladeGivenTitle":"accoladeGiveTitle"):Object(Ae.a)("accoladeJoinTitle")}},{key:"renderDialogButton",value:function(){var e=this.props,t=e.isSubscribed,n=e.userAccoladeId,r=e.remaining;if(!t)return q.a.createElement("a",{className:"AccoladeDialog-link",href:"/".concat(D.f,"?source=").concat(Te.s)},Object(Ae.a)("accoladeJoinEmerald"));if(0===r&&!n)return"";var a=this.isAccoladeButtonEnabled();return q.a.createElement("button",{disabled:!a,type:"button",className:"AccoladeDialog-button-".concat(a?"-active":"-hidden"),onClick:this.handleAward},n?Object(Ae.a)("accoladeChange"):Object(Ae.a)("accoladeAward"))}},{key:"render",value:function(){var e=this.props,t=e.isSubscribed,n=e.total,r=e.remaining,a=e.userAccoladeId,o=e.isOwner,i=e.close;return q.a.createElement(c,p()({className:"AccoladeDialog",isModal:!1,onClose:i,name:Te.a,onOpen:this.onOpen},s),q.a.createElement("div",{className:"AccoladeDialog-head"},t&&!o&&0!==r&&q.a.createElement(Ve,{total:n,remaining:r}),q.a.createElement(Ne.b,{className:"AccoladeDialog-head--close",image:q.a.createElement(A.cb,{name:A.g,width:"24",height:"24"}),onClick:i})),q.a.createElement("div",{className:"AccoladeDialog-content"},q.a.createElement("div",{className:"AccoladeDialog-content-title"},this.renderDialogTitle()),this.renderAccolades()),q.a.createElement("div",{className:"AccoladeDialog-footer"},q.a.createElement("a",{className:"AccoladeDialog-LearnMore",href:Te.c,target:"_blank",rel:"noopener noreferrer"},q.a.createElement(A.cb,{height:"24",name:A.I,width:"24"})),!o&&q.a.createElement("div",{className:"AccoladeDialog-footer-actions"},a&&q.a.createElement("div",{className:"AccoladeDialog-button--remove",onClick:this.handleRemove},Object(Ae.a)("accoladeRemove")),this.renderDialogButton())))}}]),n}(P.Component);return t.defaultProps={onAccoladeDialogOpen:function(){}},t}(Pe.a)),Ye=n("5jHb"),Je=n("93Qx");n("qAYT");function Ke(e){var t=e.closeDialog,n=e.deleteComment,r=e.resetDeleteCommentData,a=e.commentId;if(!a||!n)return null;function o(){r(),t()}return q.a.createElement(Pe.a,{className:"DeleteCommentDialog",name:Ye.b,isModal:!1,onClose:r},q.a.createElement("div",{className:"DeleteCommentDialog-head"},q.a.createElement("span",null,Object(S.b)("DeleteCommentDialogTitle")),q.a.createElement(Ne.a,{className:"DeleteCommentDialog-head--close",imageSrc:Ie.a[Ie.j],onClick:o})),q.a.createElement("div",{className:"DeleteCommentDialog-content"},q.a.createElement("div",{className:"DeleteCommentDialog-content--text"},Object(S.b)("DeleteCommentDialogText")),q.a.createElement("div",{className:"DeleteCommentDialog-content--buttons"},q.a.createElement(Ne.a,{className:"DeleteCommentDialog-content--cancel",onClick:o,label:Object(S.b)("DeleteCommentDialogKeepBtn")}),q.a.createElement(Ne.a,{className:"DeleteCommentDialog-content--delete",onClick:function(){n(a),t()},label:Object(S.b)("DeleteCommentDialogDeleteBtn")}))))}Ke.__docgenInfo={description:"",methods:[],displayName:"DeleteCommentDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},deleteComment:{type:{name:"func"},required:!0,description:""},resetDeleteCommentData:{type:{name:"func"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""}}};var Ze=Object(ee.b)(function(e){return{commentId:e.comments.get("commentToDeleteId")}},{closeDialog:Oe.y,deleteComment:Je.s,resetDeleteCommentData:Je.y})(Ke),Qe=n("if3o"),Xe=n("Gk2F");n("IVpR");function $e(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function et(){return q.a.createElement("svg",{style:{position:"absolute"},width:"0",height:"0",fill:"none",xmlns:"http://www.w3.org/2000/svg"},q.a.createElement("defs",null,q.a.createElement("path",{id:"folder-path0",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z",fill:"#43D0BD"}),q.a.createElement("path",{id:"folder-path1",fillRule:"evenodd",clipRule:"evenodd",d:"M49.5016 28.901C50.277 21.4876 50.2816 15.783 49.5151 8.38824C49.3029 6.34142 47.5376 4.81321 45.4651 4.81322L26.9653 4.81325L24.2944 2.17465C23.7942 1.68042 23.1282 1.36611 22.406 1.3012C18.3753 0.938945 13.6547 0.903928 9.49736 1.19359C7.49418 1.33316 5.94918 2.89066 5.77795 4.79585C4.96489 13.8429 4.9636 19.7981 5.77425 28.8361C5.94902 30.7846 7.54505 32.3306 9.55171 32.4588C20.8619 33.1811 34.4288 33.1804 45.7348 32.4567C47.7079 32.3304 49.2999 30.8296 49.5016 28.901Z"}),q.a.createElement("path",{id:"folder-lock-path",fillRule:"evenodd",clipRule:"evenodd",d:"M27 11.0375C24.7909 11.0375 23 12.8954 23 15.1872V16.4018C21.8348 16.829 21 17.9819 21 19.337V22.4493C21 24.1682 22.3431 25.5617 24 25.5617H30C31.6569 25.5617 33 24.1682 33 22.4493V19.337C33 17.9819 32.1652 16.829 31 16.4018V15.1872C31 12.8954 29.2091 11.0375 27 11.0375ZM29 16.2247V15.1872C29 14.0413 28.1046 13.1124 27 13.1124C25.8954 13.1124 25 14.0413 25 15.1872V16.2247H29ZM24 18.2996C23.4477 18.2996 23 18.764 23 19.337V22.4493C23 23.0223 23.4477 23.4868 24 23.4868H30C30.5523 23.4868 31 23.0223 31 22.4493V19.337C31 18.764 30.5523 18.2996 30 18.2996H24Z",fill:"white"}),q.a.createElement("filter",{id:"filter0_d",x:"0.167206",y:"0",width:"54.9194",height:"42",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},q.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),q.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),q.a.createElement("feOffset",{dy:"4"}),q.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),q.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.24 0"}),q.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),q.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function tt(e){var t=e.id,n=e.coverHash,r=e.isPrivate;return q.a.createElement("svg",{width:"45",height:"32",viewBox:"5 1 45 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},q.a.createElement("g",{filter:"url(#filter0_d)"},q.a.createElement("use",{xlinkHref:"#folder-path0"}),n&&!r&&q.a.createElement("use",{xlinkHref:"#folder-path1",fill:"url(#pattern".concat(t,")")})),r&&q.a.createElement("use",{xlinkHref:"#folder-lock-path"}),q.a.createElement("defs",null,q.a.createElement("pattern",{id:"pattern".concat(t),patternContentUnits:"objectBoundingBox",width:"1",height:"1"},q.a.createElement("use",{xlinkHref:"#image".concat(t),transform:""})),q.a.createElement("image",{id:"image".concat(t),width:"1",height:"1",xlinkHref:n&&"".concat(j.W,"/").concat(n,"s.png")})))}function nt(e){var t=e.id,n=void 0===t?Qe.a:t,r=e.coverHash,a=e.name,o=e.isPrivate,i=e.isSelected;return q.a.createElement("div",{className:"FavoriteDialog-Folder"},q.a.createElement("div",{className:"FavoriteDialog-FolderIcon"},q.a.createElement(tt,{coverHash:r,id:n,isPrivate:o})),q.a.createElement("div",{className:"FavoriteDialog-FolderLabel".concat(i?" selected":"")},a),q.a.createElement("div",{className:"FavoriteDialog-FolderSelected"},i&&q.a.createElement(A.cb,{name:A.P,width:"16",height:"16"})))}var rt=function(e){d()(n,e);var t=$e(n);function n(e){var o;return l()(this,n),o=t.call(this,e),O()(f()(o),"handleClose",function(){var e=o.props.closeDialogAction;o.onClose(),e()}),O()(f()(o),"onClose",function(){var e=o.props.resetFavoriteDataAction,t=o.state.selected;Object(N.h)(o.closeTimeOut),e(),t!==Qe.a&&o.setState({selected:Qe.a}),Object(N.mb)("scroll",o.handleClose)}),O()(f()(o),"handleSelectFolder",function(e){var t=o.props,n=t.addFavoritesToFolderAction,r=t.postId,a=t.isAlbum;n({id:e,faves:["".concat(a?"album":"image","/").concat(r)],disableMessage:!0}),o.setState({selected:e}),Object(N.Ab)(o.handleClose,500)}),O()(f()(o),"onOpen",function(){(0,o.props.fetchFoldersAction)(),o.closeTimeOut=Object(N.Ab)(o.handleClose,1e4),Object(N.c)("scroll",o.handleClose)}),O()(f()(o),"onMouseEnter",function(){Object(N.h)(o.closeTimeOut),Object(N.mb)("scroll",o.handleClose)}),O()(f()(o),"onMouseLeave",function(){Object(N.c)("scroll",o.handleClose)}),o.closeTimeOut=null,o.state={selected:Qe.a},o}return u()(n,[{key:"componentWillUnmount",value:function(){this.onClose()}},{key:"render",value:function(){var t=this,e=this.props,n=e.folders,r=e.postId,a=e.coverHeight,o=e.coverTop,i=e.isCoverFixed,c=this.state.selected;if(!r)return null;var s={top:i?81:a-136+81+o};return q.a.createElement(Pe.a,{className:"FavoritesFoldersDialog",overlayOpacity:0,name:w.d,isModal:!1,onClose:this.onClose,onOpen:this.onOpen,styles:s},q.a.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},q.a.createElement("div",{className:"FavoritesFoldersDialog-head"},q.a.createElement("span",null,Object(S.b)("FavoritesFoldersDialogTitle")),q.a.createElement(Ne.a,{className:"FavoritesFoldersDialog-head--close",imageSrc:Ie.a[Ie.j],onClick:this.handleClose})),q.a.createElement("div",{className:"FavoritesFoldersDialog-content"},q.a.createElement(et,null),q.a.createElement("div",{className:"fadeOut fadeOut-top"}),q.a.createElement("div",{className:"FavoritesFoldersDialog-content--list Scrollbar--gray"},n.map(function(e){return q.a.createElement("button",{onClick:function(){return t.handleSelectFolder(e.id||Qe.a)},type:"submit",key:e.id||Qe.a},q.a.createElement(nt,p()({},e,{isSelected:c===e.id})))})),q.a.createElement("div",{className:"fadeOut fadeOut-bottom"}))))}}]),n}(q.a.Component);rt.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"onClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleSelectFolder",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"onOpen",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseEnter",docblock:null,modifiers:[],params:[],returns:null},{name:"onMouseLeave",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesFoldersDialog",props:{fetchFoldersAction:{type:{name:"func"},required:!0,description:""},closeDialogAction:{type:{name:"func"},required:!0,description:""},resetFavoriteDataAction:{type:{name:"func"},required:!0,description:""},addFavoritesToFolderAction:{type:{name:"func"},required:!0,description:""},folders:{type:{name:"array"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},isAlbum:{type:{name:"bool"},required:!1,description:""},isCoverFixed:{type:{name:"bool"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""}}};var at=Object(ee.b)(function(e){var t=e.favorites,n=e.postsData,r=e.ui;return{folders:t.get("folders").toList().toJS(),postId:n.getIn(["favoriteData","postId"]),isAlbum:n.getIn(["favoriteData","isAlbum"]),coverHeight:r.cover.get("height"),coverTop:r.cover.get("top"),isCoverFixed:r.cover.get("fixed")}},{fetchFoldersAction:Xe.q,closeDialogAction:Oe.y,resetFavoriteDataAction:ce.rb,addFavoritesToFolderAction:Xe.k})(rt),ot=n("T7zL");n("mky3");function it(e){var t=e.title,n=e.createAd,r=new Date(n);return q.a.createElement("div",{className:"TitleDate"},q.a.createElement("div",{className:"Title"},t),q.a.createElement("div",{className:"Date"},Object(S.b)("statisticsDialogUploaded")," ",Object(Me.o)(r)))}function ct(e){var t=e.views,n=e.comments,r=e.bandwidth,a=e.favorites,o=[{title:Object(S.b)("statisticsDialogViews"),value:Object(xe.h)(t),icon:q.a.createElement(A.cb,{name:A.ab,width:"16",height:"16"})},{title:Object(S.b)("statisticsDialogBandwidth"),value:Object(xe.g)(r),icon:q.a.createElement(A.cb,{name:A.N,width:"16",height:"16"})},{title:Object(S.b)("statisticsDialogComments"),value:Object(xe.h)(n),icon:q.a.createElement(A.cb,{name:A.O,width:"16",height:"16"})},{title:Object(S.b)("statisticsDialogFavorites"),value:Object(xe.h)(a),icon:q.a.createElement(A.cb,{name:A.X,width:"16",height:"16"})}];return q.a.createElement("div",{className:"StatisticsData"},o.map(function(e,t){return q.a.createElement("div",{className:"item ".concat(0<t%2?"right":"left"," ").concat(t<2&&"top"),key:t},q.a.createElement("div",{className:"title-icon"},q.a.createElement("div",{className:"title"},e.title),q.a.createElement("div",{className:"icon"},e.icon)),q.a.createElement("div",{className:"value"},e.value))}))}function st(e){var t=e.closeDialog,n=e.meta,r=e.title,a=e.createdAtDate,o=e.coverImage,i=e.mediaSize;if(!n||!n.size)return null;var c={backgroundImage:"url(".concat(o,")")};return q.a.createElement(Pe.a,{className:"StatisticsDialog",name:w.D,isModal:!1},q.a.createElement("div",{className:"StatisticsDialog-head"},q.a.createElement("span",null,Object(S.b)("statisticsDialogTitle")),q.a.createElement(Ne.a,{className:"StatisticsDialog-head--close",imageSrc:Ie.a[Ie.j],onClick:function(){return t()}})),q.a.createElement("div",{className:"StatisticsDialog-content"},q.a.createElement("div",{className:"Background",style:c},q.a.createElement("div",{className:"Background-Overlay"})),q.a.createElement("div",{className:"StatisticsDialog-content-container"},q.a.createElement(it,{createAd:a,title:r}),q.a.createElement(ot.a,{points:n.get("point_count"),ups:n.get("upvote_count"),downs:n.get("downvote_count")}),q.a.createElement(ct,{views:n.get("view_count"),comments:n.get("comment_count"),bandwidth:n.get("view_count")*i,favorites:n.get("favorite_count")}))))}st.__docgenInfo={description:"",methods:[],displayName:"StatisticsDialog",props:{closeDialog:{type:{name:"func"},required:!0,description:""},meta:{type:{name:"object"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},createdAtDate:{type:{name:"string"},required:!1,description:""},coverImage:{type:{name:"string"},required:!1,description:""},mediaSize:{type:{name:"number"},required:!1,description:""}}};var lt=Object(ee.b)(function(e){var t=e.postsData;return{meta:t.getIn(["currentPostMeta","post"]),title:t.getIn(["currentPost","title"]),createdAtDate:t.getIn(["currentPost","createdAt"]),coverImage:t.getIn(["currentPost","src","coverImage"]),mediaSize:t.getIn(["currentPost","media"],[]).reduce(function(e,t){return e+parseInt(t.get("size"),10)},0)}},{closeDialog:Oe.y})(st),ut=n("pV1z"),dt=n("yFeA");n("4KxA");function mt(e){var t=e.viewPortWidth,n=e.post,r=e.streamSection,a=e.streamSort;return Object(N.W)()||t<768||n.get("isAd")?null:q.a.createElement("div",{className:"BottomAd-container"},q.a.createElement(ut.a,{path:re.q,postAdConfig:n.get("adConfig")},function(e){return q.a.createElement(dt.a,{adsEnabled:!0,path:e,refresh:!0,slotTargeting:Object(de.h)(n,r,a),shouldLazyLoad:!0})}))}mt.__docgenInfo={description:"",methods:[],displayName:"BottomAd",props:{post:{type:{name:"object"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var pt=Object(ee.b)(function(e){var t=e.display,n=e.gallery;return{viewPortWidth:t.getIn(["viewPort","width"]),streamSection:n.get("streamSection"),streamSort:n.get("streamSort")}})(mt),ft=n("sWSo"),ht=n("N9yH");n("2p6Y");function gt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var yt=function(e){d()(o,e);var a=gt(o);function o(){var t;l()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),O()(f()(t),"toggleVisibility",function(){var e=t.props;(0,e.setBottomRecircVisibilityAction)(!e.isBottomRecircVisible)}),t}return u()(o,[{key:"setPosts",value:function(){var e=this.props,t=e.addGridPostsAction,n=e.posts,r=e.adsEnabled,a=e.adConfig,o=[],i=Object(ut.b)(a);n.toArray().forEach(function(e){(r&&i||!e.get("isAd"))&&o.push(e.toJS())}),t(o)}},{key:"componentDidMount",value:function(){this.setPosts()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.adsEnabled,r=t.adConfig;e.adsEnabled===n&&e.adConfig===r||this.setPosts()}},{key:"render",value:function(){var e=this.props.isBottomRecircVisible;return q.a.createElement("div",{className:"BottomRecirc"},q.a.createElement("h2",{className:"BottomRecirc-label",onClick:this.toggleVisibility},Object(S.b)("page404LabelPosts")),q.a.createElement("div",{style:{display:e?"block":"none"}},q.a.createElement(ft.a,{navigationTrigger:"Recirc -",navigationDirection:"Post Footer",location:re.c,sendToTop:!0})))}}]),o}(q.a.Component);yt.__docgenInfo={description:"",methods:[{name:"setPosts",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleVisibility",docblock:null,modifiers:[],params:[],returns:null}],displayName:"BottomRecirc",props:{addGridPostsAction:{type:{name:"func"},required:!0,description:""},posts:{type:{name:"object"},required:!0,description:""},setBottomRecircVisibilityAction:{type:{name:"func"},required:!0,description:""},isBottomRecircVisible:{type:{name:"bool"},required:!0,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},adConfig:{type:{name:"object"},required:!1,description:""}}};var bt=Object(ee.b)(function(e){var t=e.posts,n=e.ui;return{posts:t.get("posts"),isBottomRecircVisible:n.gallery.get("isBottomRecircVisible")}},{addGridPostsAction:ht.f,setBottomRecircVisibilityAction:Oe.J})(yt),vt=(n("a/1F"),n("xypG")),Ct=n("+qLk");n("7znt");function Et(e){var t=e.isAnnouncement,n=$()({"promoted-label":!0,"announcement-label":t,"promoted-hover":!t});return q.a.createElement("span",{className:n,onClick:!t&&function(e){e.preventDefault(),Object(N.cb)(re.l)},title:"learn more about promoted posts"},Object(S.b)("promotedText",t))}Et.defatulProps={isAnnouncement:!1},Et.__docgenInfo={description:"",methods:[],displayName:"PromotedLabel",props:{isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var kt=n("Rzka"),St=n("IlJ3"),Ot=n("Ogr3"),Pt=n("y/zE"),Nt=n("O+9w"),It=n("JBc3"),wt=n("Ot+t"),qt=n("QlZ4"),jt=n("2OyZ"),Dt=n("flVz"),At=n("9rNq"),Tt=n("p5w4");function Rt(e){var t,n=e.onReport,r=e.onClick,a=e.isReported,o=e.isLoggedIn,i=e.ElementType,c=e.reportType,s=e.id,l=e.isMature,u=e.className,d=le()(e,["onReport","onClick","isReported","isLoggedIn","ElementType","reportType","id","isMature","className"]),m=$()((t={},O()(t,u,u),O()(t,"disabled",a),t));return q.a.createElement(i,p()({className:m,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),r&&r(e),a)return!1;n(c,s,l,o)}},d),q.a.createElement(A.cb,{className:"icon fill",name:A.z,width:"32",height:"32",fillColor:"#B4B9C2"}),q.a.createElement("span",{className:"label"},Object(S.b)(a?"reported":"report")))}Rt.defaultProps={ElementType:"button"};Rt.__docgenInfo={description:"",methods:[],displayName:"ReportDropDownOption",props:{ElementType:{defaultValue:{value:"'button'",computed:!1},type:{name:"string"},required:!1,description:""},onReport:{type:{name:"func"},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},isReported:{type:{name:"bool"},required:!1,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isMature:{type:{name:"bool"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},reportType:{type:{name:"enum",value:[{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0},{value:"import { DIALOG_NAME, REPORT_TYPE_COMMENT, REPORT_TYPE_POST } from 'components/Report';",computed:!0}]},required:!0,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""}}};var xt=Object(ee.b)(function(e,t){var n=e.user,r=e.report,a=t.reportType,o=t.id;return{isLoggedIn:!!n.get("isLoggedIn"),isReported:a===G.c&&!!r.get("reportedPosts",{})[o]||a===G.b&&!!r.get("reportedComments",{})[o]}},function(a){return{onReport:function(e,t,n,r){a(Object(Tt.h)({type:e,id:t,isMature:n})),r&&a(Object(Oe.I)({name:G.a}))}}})(Rt);n("HCTt");function Mt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Lt=function(e){d()(a,e);var r=Mt(a);function a(){var c;l()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c=r.call.apply(r,[this].concat(t)),O()(f()(c),"download",function(){var e=c.props,t=e.isAlbum,n=e.postId,r=e.postTitle;t?Object(N.cb)("".concat(j.V,"/a/").concat(n,"/zip")):Object(N.cb)("".concat(j.V,"/download/").concat(n,"/").concat(encodeURIComponent(r)))}),O()(f()(c),"removeFromPublic",function(){(0,c.props.openDialog)({name:w.C})}),O()(f()(c),"navigateToEditPage",function(){var e=c.props,t=e.history,n=e.postId,r=e.isAlbum,a=e.isEditBeta,o=Object(de.e)(n,r);if(a)return t.push(o);Object(N.cb)(o)}),O()(f()(c),"embed",function(){var e=c.props,t=e.postId,n=e.postTitle,r=e.isAlbum,a=e.setEmbedData,o=e.openDialog,i=e.postTags;o({name:jt.a}),a(t,n,jt.b,r,i)}),c}return u()(a,[{key:"render",value:function(){var e=this.props,t=e.postId,n=e.isMature,r=e.hideReport,a=e.isOwner;return q.a.createElement("div",{className:"Gallery-Options"},q.a.createElement(G.d,{type:G.c}),q.a.createElement(At.a,{className:"Gallery-OptionsMenu Dropdown--btn",dropdownIcon:q.a.createElement(A.cb,{name:A.l,width:"32",height:"32"})},q.a.createElement("button",{type:"button",onClick:this.embed},q.a.createElement(A.cb,{className:"icon stroke",name:A.n,width:"32",height:"32"}),q.a.createElement("span",{className:"label"},Object(S.b)("embed"))),q.a.createElement("button",{type:"button",onClick:this.download},q.a.createElement(A.cb,{className:"icon stroke",name:A.i,width:"32",height:"32"}),q.a.createElement("span",{className:"label"},Object(S.b)("download"))),!r&&q.a.createElement(xt,{reportType:G.c,id:t,isMature:n}),a&&q.a.createElement(q.a.Fragment,null,q.a.createElement("button",{type:"button",onClick:this.navigateToEditPage},q.a.createElement(A.cb,{className:"icon stroke",name:A.k,width:"32",height:"32"}),q.a.createElement("span",{className:"label"},Object(S.b)("editPost"))),q.a.createElement("button",{type:"button",onClick:this.removeFromPublic},q.a.createElement(A.cb,{className:"icon stroke",name:A.s,width:"32",height:"32"}),q.a.createElement("span",{className:"label"},Object(S.b)("removeFromPublic"))))))}}]),a}(q.a.Component),Ft={openDialog:Oe.I,setEmbedData:Dt.h};Lt.__docgenInfo={description:"",methods:[{name:"download",docblock:null,modifiers:[],params:[],returns:null},{name:"removeFromPublic",docblock:null,modifiers:[],params:[],returns:null},{name:"navigateToEditPage",docblock:null,modifiers:[],params:[],returns:null},{name:"embed",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryOptions",props:{postId:{type:{name:"string"},required:!0,description:""},postTitle:{type:{name:"string"},required:!0,description:""},isMature:{type:{name:"bool"},required:!0,description:""},hideReport:{type:{name:"bool"},required:!0,description:""},isAlbum:{type:{name:"bool"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!0,description:""},onRemoveFromPublic:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isEditBeta:{type:{name:"bool"},required:!1,description:""},setEmbedData:{type:{name:"func"},required:!0,description:""},openDialog:{type:{name:"func"},required:!0,description:""},postTags:{type:{name:"array"},required:!1,description:""}}};var _t=Object(ie.d)(Object(ee.b)(function(e){var t=e.postsData,n=e.user,r=!t.getIn(["currentPost","inGallery"]),a=n.get("username")===t.getIn(["currentPost","account","username"],"").toLowerCase();return r||(t.getIn(["currentPost","isAd"])||a)&&(r=!0),{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),isMature:!!t.getIn(["currentPost","isMature"]),hideReport:r,isAlbum:t.getIn(["currentPost","isAlbum"]),isOwner:a,isEditBeta:!!n.getIn(["flags","desktopEditPageBeta"]),postTags:t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS()}},Ft),b.h,Object(qt.a)(wt.a,wt.h))(Lt);n("SeDK");function Ut(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Gt="SURVEY_TOAST_ID",Vt=function(e){d()(n,e);var t=Ut(n);function n(e){var a;return l()(this,n),a=t.call(this,e),O()(f()(a),"setElementPosition",function(){(0,a.props.setByLInePosition)(parseInt(a.elm.getBoundingClientRect().top+Object(N.L)(),10))}),O()(f()(a),"onProfileClick",function(e){(0,a.props.onProfileClick)(a.getUsername(),e)}),O()(f()(a),"onUserProfileClick",function(){return a.onProfileClick("Username Byline")}),O()(f()(a),"onAvatarProfileClick",function(){return a.onProfileClick("Avatar Byline")}),O()(f()(a),"onGiveEmerald",function(){var e=a.props,t=e.giveEmeraldData,n=e.username,r=e.postId;t({recipientUsername:n,recipientId:e.accountId,source:Te.m,postId:r})}),a.elm=q.a.createRef(),a}return u()(n,[{key:"getUsername",value:function(){var e=this.props.username;return e.toLowerCase()===j.B?j.D:e}},{key:"isImgurAccount",value:function(){return this.getUsername()===j.D}},{key:"componentDidMount",value:function(){var e=this.props.currentPostViewingSummaryAnalytics;this.setElementPosition(),e(),this.maybeShowSurveyToast(),this.maybeFireOpViewAnalytics()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.currentPostViewingSummaryAnalytics,a=t.deleteToastAction,o=t.currentUserId;this.setElementPosition(),e.postId!==n?(r(),a(Gt),this.maybeShowSurveyToast(),this.maybeFireOpViewAnalytics()):o!==e.currentUserId&&(a(Gt),this.maybeShowSurveyToast(),this.maybeFireOpViewAnalytics())}},{key:"getSurveyLocalStorageKey",value:function(e){return"post_survey_".concat(e)}},{key:"setSurveyLocalStorageClosed",value:function(e){var t=new Date;return kt.a.save(this.getSurveyLocalStorageKey(e),!0,t.setDate(t.getDate()+2))}},{key:"maybeShowSurveyToast",value:function(){var e=this,t=this.props,n=t.inGallery,r=t.currentUserId,a=t.accountId,o=t.currentUsername,i=t.postId,c=t.score,s=t.minutesOld,l=t.currentUserReputation,u=t.upsertInfoToastAction,d=t.deleteToastAction,m=t.clickedSurveyAnalyticsAction;n&&r===a&&15<s&&s<2880&&l<2e4&&!kt.a.get(this.getSurveyLocalStorageKey(i),!1)&&u({id:Gt,description:Object(S.b)("surveyGreatPost"),onClick:function(){Object(N.A)("open")("https://docs.google.com/forms/d/e/1FAIpQLSfEuKh6LYDCbyvO61O5Ru3wWxc1iiB__BDjepgu1rsOaBdmcA/viewform?usp=pp_url&entry.163278917="+Object(N.F)()+"&entry.683401281="+o),m("OP",i,o,c,s),d(Gt),e.setSurveyLocalStorageClosed(i)},onClose:function(){d(Gt),e.setSurveyLocalStorageClosed(i)},timeout:0})}},{key:"maybeFireOpViewAnalytics",value:function(){var e=this.props,t=e.currentUserId,n=e.accountId,r=e.postId,a=e.score,o=e.minutesOld,i=e.currentUserReputation,c=e.commentCount,s=e.inGallery,l=e.viewedByOpAnalyticsAction;s&&t===n&&l(r,a,o,c,i)}},{key:"render",value:function(){var t=this,e=this.props,n=e.createdAt,r=e.isPromoted,a=e.views,o=e.platform,i=e.inGallery,c=e.children,s=e.avatar,l=e.isUserLoggedIn,u=e.isUserLoaded,d=e.currentUsername,m=new Date(n),p=this.getUsername(),f=this.isImgurAccount(),h=$()({"Info-Wrapper":!0,"hidden-post":!i});return q.a.createElement("div",{className:"Gallery-Byline",ref:function(e){t.elm=e}},p&&q.a.createElement(ye,{className:"author-link",username:p,onClick:this.onAvatarProfileClick},q.a.createElement(Pt.a,{src:s,username:p,displayUsername:p,className:"Avatar".concat(f?" Avatar--imgur":"")})),q.a.createElement("div",{className:h},p&&q.a.createElement("div",{className:"Info"},q.a.createElement(ye,{className:"author-name",username:p,onClick:this.onUserProfileClick}),q.a.createElement(Nt.a,{currentUsername:d,itemUsername:p,isUserLoaded:u,isPromoted:r,isEnabled:j.w},q.a.createElement(It.a,{isUserLoggedIn:l,showSmallVersion:!0,showTitle:!0,onClick:this.onGiveEmerald}))),!r&&q.a.createElement("div",{className:"Meta"},q.a.createElement("span",null,Object(xe.h)(a)," ","Views"),q.a.createElement("span",{className:"delimiter"},"•"),q.a.createElement("span",{title:m},Object(Me.o)(m)),o&&o.toLowerCase()!==j.H&&q.a.createElement(q.a.Fragment,null,q.a.createElement("span",{className:"delimiter"},"•"),q.a.createElement("span",null,"via"," ",q.a.createElement("a",{className:"platform bold",href:"/apps"},Object(xe.e)(o)))))),q.a.createElement(_t,null),c)}}]),n}(q.a.Component);Vt.defaultProps={isPromoted:!1,handleFollow:function(e){return Object(N.i)('Follow "'.concat(e,'"?'))}};Vt.__docgenInfo={description:"",methods:[{name:"getUsername",docblock:null,modifiers:[],params:[],returns:null},{name:"isImgurAccount",docblock:null,modifiers:[],params:[],returns:null},{name:"getSurveyLocalStorageKey",docblock:null,modifiers:[],params:[{name:"postId",type:null}],returns:null},{name:"setSurveyLocalStorageClosed",docblock:null,modifiers:[],params:[{name:"postId",type:null}],returns:null},{name:"maybeShowSurveyToast",docblock:null,modifiers:[],params:[],returns:null},{name:"maybeFireOpViewAnalytics",docblock:null,modifiers:[],params:[],returns:null},{name:"setElementPosition",docblock:null,modifiers:[],params:[],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryByline",props:{isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},handleFollow:{defaultValue:{value:'(username) => confirm(`Follow "${username}"?`)',computed:!1},type:{name:"func"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},accountId:{type:{name:"number"},required:!0,description:""},createdAt:{type:{name:"string"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""},platform:{type:{name:"string"},required:!1,description:""},setByLInePosition:{type:{name:"func"},required:!0,description:""},currentPostViewingSummaryAnalytics:{type:{name:"func"},required:!0,description:""},prevPost:{type:{name:"object"},required:!1,description:""},nextPost:{type:{name:"object"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"array"},required:!1,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},upsertInfoToastAction:{type:{name:"func"},required:!0,description:""},deleteToastAction:{type:{name:"func"},required:!0,description:""},clickedSurveyAnalyticsAction:{type:{name:"func"},required:!0,description:""},currentUserId:{type:{name:"number"},required:!1,description:""},score:{type:{name:"number"},required:!0,description:""},minutesOld:{type:{name:"number"},required:!0,description:""},currentUserReputation:{type:{name:"number"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},viewedByOpAnalyticsAction:{type:{name:"func"},required:!0,description:""}}};var Bt=Object(ee.b)(function(e){var t=e.postsData,n=e.user;return{prevPost:t.get("prevPost"),nextPost:t.get("nextPost"),inGallery:t.getIn(["currentPost","inGallery"]),isUserLoggedIn:n.get("isLoggedIn"),isUserLoaded:n.get("isLoaded"),currentUsername:n.get("username")||"",currentUserId:n.get("id"),currentUserReputation:n.get("reputation")}},{currentPostViewingSummaryAnalytics:ce.V,setByLInePosition:ce.Bb,onProfileClick:oe.Y,giveEmeraldData:He.s,upsertInfoToastAction:Ot.e,deleteToastAction:Ot.c,clickedSurveyAnalyticsAction:St.i,viewedByOpAnalyticsAction:ce.Pb})(Vt);n("XF+e");function Wt(e){var t=e.accolades,n=e.onClick;return q.a.createElement("div",{className:"AccoladesBadge"},t.map(function(e,t){return q.a.createElement("div",{key:t,className:$()(O()({"AccoladesBadge-item":!0},"AccoladesBadge-item-".concat(t),!0)),onClick:n,title:"This post has been awarded the ".concat(e.get("name")," Accolade")},q.a.createElement(Be.a,{imageUrl:e.get("image_url"),imageName:e.get("name"),background:0<t}))}))}Wt.__docgenInfo={description:"",methods:[],displayName:"AccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}};var Ht=n("Et25");function zt(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Yt=function(e){d()(n,e);var t=zt(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.accolades,n=e.openDialogAction;return t&&0!==t.size?q.a.createElement("div",{className:"Gallery-AccoladesBadge"},q.a.createElement(Wt,{accolades:t,onClick:function(){n({name:Te.a,eventSource:I.a.CLICKED_BADGE})}})):null}}]),n}(q.a.Component);Yt.__docgenInfo={description:"",methods:[],displayName:"GalleryAccoladesBadge",props:{accolades:{type:{name:"object"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""}}};var Jt=Object(ee.b)(function(e){var t=e.postsData;return{accolades:Object(Ht.c)(t.getIn(["currentPostMeta","accolades","available"]),t.getIn(["currentPostMeta","post","accolades_counts"]))}},{openDialogAction:Oe.I})(Yt);n("OQdq");function Kt(e){var t=e.post,n=e.transformationTitleStyle,r={postId:t.get("id"),username:t.getIn(["account","username"],""),avatar:t.getIn(["account","avatar_url"]),accountId:t.getIn(["account","id"],0),createdAt:t.get("createdAt"),views:t.get("views"),platform:t.get("platform"),isPromoted:t.get("isAd"),score:t.get("score",0),minutesOld:Object(Me.m)(t.get("createdAt")),commentCount:t.get("commentCount")},a=t.get("title"),o=!a||!a.length;return q.a.createElement("div",{className:"Gallery-Header"},q.a.createElement("div",{style:n,className:"Gallery-Title".concat(80<t.get("title").length?" long":"")},t.get("isAd")&&q.a.createElement(Et,{isAnnouncement:t.get("isAnnouncement")}),!o&&q.a.createElement("div",{className:"row"},q.a.createElement("span",null,t.get("title")),q.a.createElement(ge,{header:!0}))),q.a.createElement(Bt,r,o&&q.a.createElement(ge,{header:!0})),q.a.createElement(Jt,null))}Kt.__docgenInfo={description:"",methods:[],displayName:"GalleryHeader",props:{post:{type:{name:"object"},required:!0,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var Zt=n("26Ob"),Qt=n("1coQ"),Xt=n("CG6i"),$t=n("cG8M"),en=n("aYmD"),tn="a",nn="iframe",rn={hashtag:tn,mention:tn,url:tn,iframe:nn},an={hashtag:function(e){return"/t/".concat(e.get("tag"))},mention:function(e){return"/user/".concat(e.get("username"))},url:function(e){return e.get("url")},iframe:function(e){return e.get("attributes").reduce(function(e,t,n){return e+="".concat(n,'="').concat(t,'" ')},"")}};var on=n("ej/z");n("nFdL");function cn(e){var t=e.message,n=e.onClick;return q.a.createElement("div",{className:"loadMoreContainer"},q.a.createElement("button",{type:"button",className:"loadMore",onClick:n},q.a.createElement("div",{className:"BgHover"}),q.a.createElement("div",{className:"text"},q.a.createElement("span",null,t)," ",q.a.createElement(A.cb,{name:A.Q,width:"18",height:"18",alt:"▼"}))))}cn.__docgenInfo={description:"",methods:[],displayName:"LoadMoreButton",props:{message:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};n("0pwo");function sn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ln(e){var t=e.media,n=e.postMeta;return q.a.createElement("div",{className:"Gallery-ContentWrapper"},q.a.createElement(dn,{media:t,postMeta:n}))}var un=function(e){d()(r,e);var n=sn(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"loadMore",function(){var e=t.props.onLoadMore;t.state.isExtended||t.setState({isExtended:!0},e)}),O()(f()(t),"onKeyboardInteraction",function(e){return e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName)||"9"===e.key&&t.loadMore(),e}),O()(f()(t),"renderLoadMore",function(e){return q.a.createElement(cn,{message:Object(S.b)("loadMoreImages",e),onClick:t.loadMore})}),t.state={isExtended:!1},t}return u()(r,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props.media;e.media!==t&&this.setState({isExtended:!1})}},{key:"componentWillUnmount",value:function(){Object(N.mb)("keydown",this.onKeyboardInteraction)}},{key:"render",value:function(){var e=this.props,t=e.media,n=e.postMeta,r=e.onMainContentReady,a=e.maxWidth,o=e.zoom,i=e.isWebPSupported,c=this.state.isExtended,s=t;return c||(s=s.slice(0,w.c)),q.a.createElement(q.a.Fragment,null,s.map(function(e,t){return q.a.createElement(mn,{maxWidth:a,key:e.get("id"),mediaItem:e,postMeta:n,onMediaReady:0===t?r:void 0,index:t,zoom:o,isWebPSupported:i})}),!c&&t.size>w.c&&this.renderLoadMore(t.size-w.c))}}]),r}(q.a.Component),dn=Object(ee.b)(function(e){var t=e.ui,n=e.agent;return{maxWidth:t.gallery.get("contentWrapperWidth"),isWebPSupported:n.get(en.s)}},{onLoadMore:ce.gb,onMainContentReady:ce.hb,zoom:Zt.b})(un),mn=function(e){d()(n,e);var t=sn(n);function n(){return l()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.mediaItem,n=e.onMediaReady,r=e.index,a=e.maxWidth,o=e.zoom,i=e.isWebPSupported,c=t.toJS(),s=c.id,l=c.isVideo,u=c.meta,d=c.src,m=c.animationType,p=c.url,f=c.width,h=c.height,g=Object(on.a)(a,f,h),y=$()({"Gallery-Content--media":!0,"Gallery-Content--unconstrained":!Object(on.b)(f,h)}),b=d.coverImage;return i&&m===w.o&&(b=d.webPImage),q.a.createElement("div",{className:"Gallery-Content--mediaContainer"},q.a.createElement("div",{className:y},l?q.a.createElement($t.a,{src:d,animationType:m,playVideo:d.playVideo,handleCanPlay:n,onError:n,controls:!0,hash:s,isFirst:0===r,width:f,height:h,maxHeight:g,title:u.title,index:r}):q.a.createElement(Xt.a,{hash:s,thumbSrc:b,originalSrc:p,onLoad:n,onError:n,withOriginalImage:!0,width:f,height:h,maxHeight:g,zoom:o,title:u.title,index:r})),u.description&&q.a.createElement(pn,{description:t.getIn(["meta","description"]),textAnnotations:t.getIn(["meta","text_annotations"])}))}}]),n}(q.a.Component);function pn(e){var t,n=e.description,r=e.textAnnotations;return t=r?q.a.createElement("div",{dangerouslySetInnerHTML:function(e,t){var n=e.split("");return{__html:t.filter(function(e,t){return t in rn}).reduce(function(r,e,a){return e.forEach(function(e){var t=e.get("indices").get(0),n=e.get("indices").get(1)-1;switch(rn[a]){case tn:return r[t]="<".concat(tn,' target="_blank" href="').concat(an[a](e),'">').concat(r[t]),void(r[n]="".concat(r[n],"</").concat(tn,">"));case nn:r[t]="<".concat(nn," ").concat(an[a](e),"></").concat(nn,">")}}),r},n).join("")}}(n,r)}):q.a.createElement(Qt.a,null,n),q.a.createElement("div",{className:"Gallery-Content--descr"},t)}un.defaultProps={onMediaReady:function(){}},ln.__docgenInfo={description:"",methods:[],displayName:"GalleryPostContent",props:{media:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""}}},un.__docgenInfo={description:"",methods:[{name:"loadMore",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",optional:!1,type:null}],returns:null},{name:"renderLoadMore",docblock:null,modifiers:[],params:[{name:"count",optional:!1,type:null}],returns:null}],displayName:"PostDefaultView",props:{onMediaReady:{defaultValue:{value:"() => {}",computed:!1},required:!1},media:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onLoadMore:{type:{name:"func"},required:!0,description:""},onMainContentReady:{type:{name:"func"},required:!0,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""}}},mn.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewMedia",props:{mediaItem:{type:{name:"object"},required:!0,description:""},postMeta:{type:{name:"object"},required:!0,description:""},onMediaReady:{type:{name:"func"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""},maxWidth:{type:{name:"number"},required:!1,description:""},zoom:{type:{name:"func"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""}}},pn.__docgenInfo={description:"",methods:[],displayName:"PostDefaultViewDescription",props:{description:{type:{name:"string"},required:!0,description:""},textAnnotations:{type:{name:"object"},required:!1,description:""}}};n("yzGh");function fn(e){var t=e.backgroundHash,n=e.children,r=e.tagLink,a=e.onClick,o="linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), url(".concat(j.W,"/").concat(t,"_d.jpg?maxwidth=200&fidelity=grand)");return q.a.createElement(ue.b,{className:"TagPill",to:r,style:{background:o},onClick:a},n)}function hn(e){var t=e.tags,n=e.onTagInteracted,r=e.isMainContentReady;return q.a.createElement("div",{className:"Gallery-Content--tags"},r&&t.map(function(e){var t=e.get("tag").replace(" ","_");return q.a.createElement(fn,{key:t,backgroundHash:e.get("background_id"),tagLink:"/t/".concat(t),onClick:function(){return n(t)}},e.get("display")||e.get("tag"))}))}fn.defaultProps={onClick:function(){}};hn.__docgenInfo={description:"",methods:[],displayName:"GalleryTags",props:{tags:{type:{name:"object"},required:!0,description:""},onTagInteracted:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!(fn.__docgenInfo={description:"",methods:[],displayName:"TagPill",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},backgroundHash:{type:{name:"string"},required:!1,description:""},tagLink:{type:{name:"string"},required:!1,description:""},children:{type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1,description:""}}}),description:""}}};var gn=Object(ee.b)(function(e){return{isMainContentReady:!!e.postsData.get("isMainContentReady")}},{onTagInteracted:ce.kb})(hn);n("y/VL");function yn(e){var t=e.post,n=e.transformationTitleStyle,r=t.get("tags");return q.a.createElement("div",{className:"Gallery-Content"},q.a.createElement(Kt,{post:t,transformationTitleStyle:n}),q.a.createElement(ln,{postMeta:t.get("meta"),media:t.get("media")}),r&&!!r.size&&q.a.createElement(gn,{tags:r}))}yn.__docgenInfo={description:"",methods:[],displayName:"GalleryContent",props:{post:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""}}};var bn=n("FP0a"),vn=n.n(bn),Cn=n("DzJC"),En=n.n(Cn),kn=n("KmZl"),Sn=n("A9fp"),On=n("fcmQ");n("wT/c");function Pn(e){var t=e.key,n=e.postId,r=e.cover,a=e.title,o=e.gallerySize,i=e.isPromoted,c=e.onMouseEnter,s=e.onMouseLeave,l=e.onClick,u=e.isActive,d=e.isAnnouncement;return q.a.createElement(pe,{className:"SidebarPost".concat(u?" active":""),onMouseEnter:c,onMouseLeave:s,onClick:function(){l(i,o,t)},postId:n},q.a.createElement("div",{className:"hover-bg"}),q.a.createElement("div",{className:"Thumbnail"},1<o&&q.a.createElement("span",{className:"counter"},o),q.a.createElement("img",{src:r,loading:"lazy",width:64,height:64})),q.a.createElement("div",{className:"description"},i&&q.a.createElement(Et,{isAnnouncement:d}),q.a.createElement("span",{className:"label"},Object(xe.n)(a,w.A))))}function Nn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}Pn.__docgenInfo={description:"",methods:[],displayName:"SidebarPost",props:{key:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},cover:{type:{name:"string"},required:!1,description:""},gallerySize:{type:{name:"number"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},isPromoted:{type:{name:"bool"},required:!1,description:""},onMouseEnter:{type:{name:"func"},required:!1,description:""},onMouseLeave:{type:{name:"func"},required:!1,description:""},isActive:{type:{name:"bool"},required:!1,description:""},isAnnouncement:{type:{name:"bool"},required:!1,description:""}}};var In=function(e){d()(r,e);var n=Nn(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"handleAdUpdate",function(){(0,t.props.handleAdUpdate)(t.container.current.clientHeight)}),t.callback=t.callback.bind(f()(t)),t.state={show:!1},t.container=q.a.createRef(),t.mutationObserver=new MutationObserver(t.handleAdUpdate.bind(f()(t))),t.resizeObserver=new ResizeObserver(t.handleAdUpdate.bind(f()(t))),t}return u()(r,[{key:"componentDidMount",value:function(){this.mutationObserver.observe(this.container.current,{childList:!0,subtree:!0,attributes:!0}),this.resizeObserver.observe(this.container.current)}},{key:"componentDidUpdate",value:function(){this.handleAdUpdate()}},{key:"componentWillUnmount",value:function(){this.mutationObserver.disconnect(),this.resizeObserver.disconnect()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.classNames,a=n.postId,o=n.adsEnabled,i=n.forceSafe;return this.state.show!==t.show||r!==e.classNames||a!==e.postId||o!==e.adsEnabled||i!==e.forceSafe}},{key:"callback",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var t=this,e=this.props,n=e.classNames,r=e.forceSafe;return q.a.createElement("div",{ref:this.container,className:n,style:{display:this.state.show?"flex":"none"}},q.a.createElement(ut.a,{path:this.props.slotPath,postAdConfig:this.props.postAdConfig,forceSafe:r},function(e){return q.a.createElement(dt.a,{adsEnabled:t.props.adsEnabled,path:e,refresh:!0,slotTargeting:t.props.slotTargeting,callback:t.callback})}))}}]),r}(q.a.Component);In.defaultProps={handleAdUpdate:function(){}},In.__docgenInfo={description:"",methods:[{name:"callback",docblock:null,modifiers:[],params:[],returns:null},{name:"handleAdUpdate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"SidebarAd",props:{handleAdUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},slotPath:{type:{name:"number"},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},slotTargeting:{type:{name:"object"},required:!1,description:""},classNames:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},forceSafe:{type:{name:"bool"},required:!1,description:""}}};var wn=n("enaV"),qn=n("Bw9V"),jn=n("vuO0"),Dn=n("ukqn");function An(e){var t=e.isIncludeIcon,n=e.copy;return q.a.createElement(q.a.Fragment,null,t&&q.a.createElement("span",{role:"img","aria-label":"fire",className:"emoji"},"🔥"),n)}function Tn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}An.__docgenInfo={description:"",methods:[],displayName:"TitleComponent",props:{isIncludeIcon:{type:{name:"bool"},required:!1,description:""},copy:{type:{name:"any"},required:!0,description:""}}};function Rn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var xn=n("KhJ6"),Mn=n("lQn5");function Ln(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function Fn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function _n(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function Un(s){return function(e){d()(n,e);var t=_n(n);function n(e){var c;return l()(this,n),c=t.call(this,e),O()(f()(c),"recognizeRenderComponent",function(){var e=c.props,t=e.streamSection,n=e.match.params,r=e.history,a=e.setRecircSortType,o=e.searchQuery;if(n.tagName)c.setState({Component:function(a){var e=function(e){d()(r,e);var t=Rn(r);function r(e){var n;return l()(this,r),n=t.call(this,e),O()(f()(n),"TitleComponent",function(){var e=n.state.sort,t=n.props.streamDisplayName;return q.a.createElement(An,{copy:Object(S.b)("recircTitleTag".concat(e),Object(xe.o)(t,24)),isIncludeIcon:e===Ct.z})}),n.state={Component:null,sort:Ct.z},n}return u()(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSort;this.setState({Component:Object(jn.a)(!(n&&n.size),!1,!1)(function(e){return q.a.createElement(a,p()({Title:t.TitleComponent},e))}),sort:Ct.M[Ct.B].includes(r)?r:Ct.z})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.match.params.tagName,r=t.setInitialGalleryState;return q.a.createElement(e,{setGalleryParams:function(){return r(Object(wn.d)(n))}})}}]),r}(q.a.Component);e.displayName="WithSidebarTagHOC(".concat(Object(Dn.b)(a),")");return Object(ie.d)(Object(ee.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSort:n.get("streamSort"),streamDisplayName:n.get("streamDisplayName")}},{setInitialGalleryState:qn.O}),b.h)(e)}(s)}),a(w.B.TAG);else if((n.username||Object(N.v)().startsWith("/account/favorites/"))&&n.galleryId)c.setState({Component:function(c){var e=function(e){d()(r,e);var n=Ln(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"getCopyTitle",function(){return q.a.createElement(q.a.Fragment,null,q.a.createElement("span",null,t.props.username||t.props.match.params.username),Object(S.b)("recircTitleFavorites"))}),O()(f()(t),"TitleComponent",function(){return q.a.createElement(An,{copy:t.getCopyTitle(),isIncludeIcon:!1})}),t.state={Component:null},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.match.params,a=e.history,o=e.isFoldersFetched,i=e.isOwner;o||(i?this.props.fetchFolders():this.props.fetchPublicFolders(r.username)),this.setState({Component:Object(Mn.a)(!(n&&n.size&&"PUSH"===a.action))(function(e){return q.a.createElement(c,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;if(!e)return null;var t=this.props,n=t.username,r=t.isOwner,a=t.isLoggedIn;return q.a.createElement(e,{username:n,isOwner:r,isLoggedIn:a})}}]),r}(q.a.Component);e.displayName="WithSidebarFavoriteHOC(".concat(Object(Dn.b)(c),")");return Object(ie.d)(b.h,Object(ee.b)(function(e,t){var n=e.posts,r=e.favorites,a=e.account,o=e.user,i=t.match,c=t.history,s=Object(xn.a)(o,a,c,i);return{posts:n.get("posts"),username:s,isOwner:o.get("username")===s,isFoldersFetched:r.get("isFoldersFetched"),isLoggedIn:!!o.get("isLoggedIn")}},{fetchPublicFolders:Xe.s,fetchFolders:Xe.q}))(e)}(s)}),a(w.B.FAVORITE);else if(o&&"POP"===r.action)c.setState({Component:function(a){var e=function(e){d()(r,e);var n=Fn(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"TitleComponent",function(){return q.a.createElement(An,{copy:Object(S.b)("recircTitleSearch",Object(xe.o)(t.props.searchQuery,24)),isIncludeIcon:!1})}),t.state={Component:null},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this;this.setState({Component:Object(jn.a)(!0,!1,!1)(function(e){return q.a.createElement(a,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?q.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(wn.c)(e.props.searchQuery))}}):null}}]),r}(q.a.Component);e.displayName="WithSidebarSearchHOC(".concat(Object(Dn.b)(a),")");return Object(ie.d)(Object(ee.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),searchQuery:n.get("searchQuery")}},{setInitialGalleryState:qn.O}),b.h)(e)}(s)}),a(w.B.SEARCH);else{var i=w.B.MOST_VIRAL;switch(t){case Ct.F:i=w.B.USER_SUB;break;case Ct.E:i=w.B.TOP_GALLERY}a(i),c.setState({Component:function(i){var e=function(e){d()(n,e);var t=Tn(n);function n(e){var a;return l()(this,n),a=t.call(this,e),O()(f()(a),"getTitleCopy",function(){var e=a.props,t=e.streamSection,n=e.streamSort,r=e.streamWindow;return t===Ct.E?Object(S.b)("recircTitle".concat(t).concat(r)):[Ct.F,Ct.r,Ct.t].includes(t)?Object(S.b)("recircTitle".concat(t).concat(n)):Object(S.b)("recircTitle".concat(Ct.r).concat(Ct.z))}),O()(f()(a),"TitleComponent",function(){return q.a.createElement(An,{copy:a.getTitleCopy(),isIncludeIcon:a.props.streamSort===Ct.z&&a.props.streamSection!==Ct.E})}),a.state={Component:null},a}return u()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props,n=e.posts,r=e.streamSection,a=e.history,o=!(n&&n.size&&[Ct.E,Ct.F,Ct.r,Ct.t].includes(r)&&"PUSH"===a.action);this.setState({Component:Object(jn.a)(o,!1,!1)(function(e){return q.a.createElement(i,p()({Title:t.TitleComponent},e))})})}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this,t=this.state.Component;return t?q.a.createElement(t,{setGalleryParams:function(){return e.props.setInitialGalleryState(Object(wn.b)())},location:re.c}):null}}]),n}(q.a.Component);e.displayName="WithSidebarHPHOC(".concat(Object(Dn.b)(i),")");return Object(ie.d)(Object(ee.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),streamSort:n.get("streamSort"),streamWindow:n.get("streamWindow")}},{setInitialGalleryState:qn.O}),b.h)(e)}(s)})}}),c.state={Component:null},c}return u()(n,[{key:"componentDidMount",value:function(){this.recognizeRenderComponent()}},{key:"componentDidUpdate",value:function(e){var t=this.props.posts;e.posts.size&&!t.size&&this.recognizeRenderComponent()}},{key:"componentWillUnmount",value:function(){this.setState({Component:null})}},{key:"render",value:function(){var e=this.state.Component;return e?q.a.createElement(e,null):null}}]),n}(q.a.Component)}var Gn=n("Ywtv");function Vn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Bn=function(e){d()(r,e);var n=Vn(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).impressionTimer=null,t.iframeRef=null,t.writeIframe=t.writeIframe.bind(f()(t)),t}return u()(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.data,r=t.promotedPostProxyPixelAction;if(n){var a=n.impressionUrl;a&&(this.impressionTimer=Object(N.xb)(function(){e.iframeRef&&Object(V.c)(e.iframeRef)&&(Object(N.W)()&&Object(On.m)(a)?r(a):Object(On.c)(a),Object(N.g)(e.impressionTimer))},800))}}},{key:"componentWillUnmount",value:function(){Object(N.g)(this.impressionTimer)}},{key:"writeIframe",value:function(e){if(e){this.iframeRef=e;var t,n,r,a,o=this.props.data,i=e.contentDocument;switch(Object(Gn.a)(o,"contents.0.data.customData.adType")){case"hash":case"native":n="".concat(j.W,"/").concat(Object(Gn.a)(o,"contents.0.data.customData.hash"),".jpg"),r=Object(Gn.a)(o,"contents.0.data.customData.link"),a=Object(Gn.a)(o,"contents.0.data.customData.title"),t='<a href="'.concat(r,'" rel="nofollow" target="_blank" title="').concat(a,'"><img src="').concat(n,'" title="').concat(a,'" alt="').concat(a,'" border="0" width="300" height="250"></a>');break;case"html":t=Object(Gn.a)(o,"contents.0.data.customData.html");break;default:t=Object(Gn.a)(o,"contents.0.body")}i.open(),i.write(t),i.close()}}},{key:"render",value:function(){return this.props.data?q.a.createElement("div",{className:"Top320 MedRec ad-slot"},q.a.createElement("iframe",{ref:this.writeIframe,className:"Gallery-Sidebar-CompanionAd",title:"companion ad",width:"300",height:"250",marginWidth:"0",marginHeight:"0",hspace:"0",vspace:"0",scrolling:"no",frameBorder:"0",seamless:"seamless",sandbox:"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox"})):null}}]),r}(q.a.Component);Bn.__docgenInfo={description:"",methods:[{name:"writeIframe",docblock:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML\n@param {node} frame",modifiers:[],params:[{name:"frame",description:null,type:{name:"node"},optional:!1}],returns:null,description:"This method in combination with it being a ref is a bit of a hack to allow for writing\ncontent to a src-less iframe that companion ads can execute scripts inside of them which\nis something not allowed by React's dangerouslySetInnerHTML because it uses innerHTML"}],displayName:"CompanionAd",props:{data:{type:{name:"object"},required:!1,description:""},promotedPostProxyPixelAction:{type:{name:"func"},required:!0,description:""}}};var Wn=Object(ee.b)(null,{promotedPostProxyPixelAction:ce.lb})(Bn);n("7TkL");function Hn(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var zn=kn.$recircElmHeight+kn.$recircElmMargin;var Yn=function(e){d()(n,e);var t=Hn(n);function n(e){var a;return l()(this,n),a=t.call(this,e),O()(f()(a),"scrollHandler",En()(function(){a.setState({positionY:a.sidebarWrapper.current.getBoundingClientRect().top})},50)),O()(f()(a),"getElementHeights",function(){var e=a.props.postOrder,t=a.state.elementHeights;return e.size===t.length?t:Array(e.size).fill(zn)}),O()(f()(a),"scrollToCurrentPost",function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(a.postsComp&&a.postsComp.scrollable&&0<=a.props.postIndex){var t=a.props.postIndex*zn-a.postsComp.scrollable.scrollTop;if(!t)return;if(Math.abs(t)>4*zn)a.postsComp.scrollable.classList[e?"remove":"add"]("without-smoothScroll"),a.postsComp.scrollable.scrollTop=a.props.postIndex*zn;else{a.postsComp.scrollable.classList.add("without-smoothScroll");var n=a.postsComp.scrollable.firstChild;n.addEventListener("transitionend",a.onTransitionEnd),n.style.transform="translate(0, ".concat(-1*t,"px)"),n.classList.add("scroll")}}}),O()(f()(a),"onTransitionEnd",function(e){var t=a.postsComp.scrollable.firstChild;e.target===t&&(a.postsComp.scrollable.scrollTop=a.props.postIndex*zn,t.style.transform="translate(0, 0)",t.classList.remove("scroll"),t.removeEventListener("transitionend",a.onTransitionEnd))}),O()(f()(a),"handlePostClick",function(e,t){(0,a.props.setCurrentPostIndexAction)(t),a.props.postRecircInteractedAnalytics(t+1,e.get("isAd"),e.get("imageCount"),On.n[a.props.recircSortType])}),O()(f()(a),"updateElementHeight",function(n,r){a.setState(function(e){var t=e.elementHeights;return t[n]=r,{elementHeights:t}})}),O()(f()(a),"handleTopAdUpdate",function(e){a.setState({topAdClassNames:$()({Top320:!0,MedRec:250<=e,"ad-slot":!0})})}),O()(f()(a),"receiveMessage",function(e){e&&e.data&&"string"==typeof e.data&&e.data.match(/enablePremiumStickyMode/)&&a.setState({isPremiumStickyMode:!0})}),a.postsComp=q.a.createRef(),a.sidebarWrapper=q.a.createRef(),a.state={elementHeights:[],topAdClassNames:"Top320 ad-slot",positionY:0,isPremiumStickyMode:!1},a}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("scroll",this.scrollHandler),Object(N.c)("message",this.receiveMessage)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.posts,r=t.postOrder,a=t.post,o=this.state,i=o.elementHeights,c=o.isPremiumStickyMode;(!e.posts.size&&n.size||e.postIndex!==this.props.postIndex||e.isMainContentReady!==this.props.isMainContentReady)&&this.scrollToCurrentPost(0<=e.postIndex&&e.isMainContentReady),r.size!==i.length&&this.setState({elementHeights:this.getElementHeights()}),a.get("id")!==e.post.get("id")&&c&&this.setState({isPremiumStickyMode:!1})}},{key:"componentWillUnmount",value:function(){(0,this.props.setCurrentPostIndexAction)(-1),Object(N.mb)("scroll",this.scrollHandler),Object(N.mb)("message",this.receiveMessage)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state,r=n.positionY,a=n.isPremiumStickyMode,o=n.topAdClassNames,i=this.props,c=i.postOrder,s=i.isLoading,l=i.post,u=i.postIndex,d=i.isMainContentReady,m=i.transformationEnabled,p=l&&l.get("id"),f=e.post&&e.post.get("id");return this.getStickyBreakpoint(t.isPremiumStickyMode)!==this.getStickyBreakpoint(a)||(t.positionY>kn.$sidebarStickyBreakpoint&&r<=kn.$sidebarStickyBreakpoint||(t.positionY<=kn.$sidebarStickyBreakpoint&&r>kn.$sidebarStickyBreakpoint||(e.postOrder!==c||e.isLoading!==s||p!==f||e.postIndex!==u||e.isMainContentReady!==d||t.topAdClassNames!==o||e.transformationEnabled!==m)))}},{key:"getStickyBreakpoint",value:function(e){var t=kn.$sidebarStickyBreakpoint;return e&&this.sidebarWrapper.current&&(t-=this.sidebarWrapper.current.offsetHeight-kn.$sidebarMinimumHeight),t}},{key:"render",value:function(){var r=this,e=this.props,t=e.post,a=e.posts,n=e.postOrder,o=e.moreDataFetch,i=e.isLoading,c=e.adsEnabled,s=e.Title,l=e.isWebPSupported,u=e.recircBarHeightModifier,d=e.transformationEnabled,m=e.streamSection,p=e.streamSort,f=this.state,h=f.topAdClassNames,g=f.positionY,y=f.isPremiumStickyMode,b={},v={};t&&(b=t.get("adConfig"),v=Object(de.h)(t,m,p));var C=this.props.post&&this.props.post.get("id"),E=a.get(C)||this.props.post,k=this.props.isMainContentReady&&t&&0<n.size,S=this.getElementHeights(),O=this.getStickyBreakpoint(y),P=O<g,N=$()({Top:!0,Sticky:P}),I=$()({Bottom:!0,Sticky:!P}),w={top:"".concat(kn.$sidebarStickyOffset-O,"px"),height:"calc(100% - ".concat(kn.$sidebarStickyOffset-O,"px)")};return P&&(w.top="".concat(kn.$sidebarStickyOffset,"px"),w.height="auto"),q.a.createElement("div",{ref:this.sidebarWrapper,className:"Gallery-Sidebar-Wrapper"},q.a.createElement("div",{className:N,style:w},E&&!E.get("isAd")&&!i&&q.a.createElement(In,{postId:this.props.post.get("id"),slotPath:re.r,postAdConfig:b,adsEnabled:c,slotTargeting:v,classNames:h,handleAdUpdate:this.handleTopAdUpdate,forceSafe:d}),E&&E.get("isAd")&&q.a.createElement(Wn,{data:E.get("adSource",{}).sponsored_companion}),q.a.createElement("h3",null,q.a.createElement(ue.a,{to:"/".concat(D.o)},q.a.createElement(s,null))),q.a.createElement("div",{className:"Gallery-Sidebar-Posts-Wrapper"},k&&q.a.createElement(vn.a,{containerHeight:kn.$recircBarHeight*u,elementHeight:S,className:"Gallery-Sidebar-posts Scrollbar--gray",onInfiniteLoad:o,isInfiniteLoading:i,infiniteLoadBeginEdgeOffset:200,ref:function(e){r.postsComp=e},loadingSpinnerDelegate:q.a.createElement(vt.a,{size:30})},n.map(function(e,t){var n=a.get(e.get("postId"));return q.a.createElement(Kn,{key:t,setHeight:function(e){return r.updateElementHeight(t,e)},index:t,height:S[t]},q.a.createElement(Pn,{key:t,postId:n.get("id"),cover:function(e,t){var n="".concat(j.W,"/").concat(t);return n+=e?"_d.".concat(Sn.d,"?maxwidth=").concat(Sn.c,"&shape=thumb"):"b.".concat(Sn.b)}(l,n.getIn(["cover","id"])||n.get("id")),title:n.get("title"),gallerySize:n.get("imageCount"),isPromoted:n.get("isAd"),onClick:function(){return r.handlePostClick(n,t)},isActive:n.get("id")===C,isAnnouncement:n.get("isAnnouncement")}))})),k&&q.a.createElement("div",{className:"fade-out"})),q.a.createElement("div",{className:I},E&&!E.get("isAd")&&!i&&q.a.createElement(In,{postId:this.props.post.get("id"),slotPath:re.x,postAdConfig:b,adsEnabled:c,slotTargeting:v,classNames:"Bottom300 ad-slot",forceSafe:d}))))}}]),n}(q.a.Component);Yn.defaultProps={Title:function(){return""}};Yn.__docgenInfo={description:"",methods:[{name:"getElementHeights",docblock:null,modifiers:[],params:[],returns:null},{name:"scrollToCurrentPost",docblock:null,modifiers:[],params:[{name:"isSmoothScroll",type:null}],returns:null},{name:"onTransitionEnd",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handlePostClick",docblock:null,modifiers:[],params:[{name:"post",type:null},{name:"index",type:null}],returns:null},{name:"updateElementHeight",docblock:null,modifiers:[],params:[{name:"index",type:null},{name:"height",type:null}],returns:null},{name:"handleTopAdUpdate",docblock:null,modifiers:[],params:[{name:"elementHeight",type:null}],returns:null},{name:"receiveMessage",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getStickyBreakpoint",docblock:null,modifiers:[],params:[{name:"isPremiumStickyMode",type:null}],returns:null}],displayName:"GallerySidebar",props:{Title:{defaultValue:{value:"() => ''",computed:!1},type:{name:"func"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},postRecircInteractedAnalytics:{type:{name:"func"},required:!0,description:""},setCurrentPostIndexAction:{type:{name:"func"},required:!0,description:""},posts:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},postOrder:{type:{name:"object"},required:!1,description:""},postIndex:{type:{name:"number"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!1,description:""},viewportHeight:{type:{name:"number"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},recircSortType:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},recircBarHeightModifier:{type:{name:"number"},required:!0,description:""},transformationEnabled:{type:{name:"bool"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},streamSort:{type:{name:"string"},required:!0,description:""}}};var Jn=Object(ie.d)(function(e){return Object(ie.d)(b.h,Object(ee.b)(function(e){var t=e.posts,n=e.gallery;return{posts:t.get("posts"),streamSection:n.get("streamSection"),searchQuery:n.get("searchQuery")}},{setRecircSortType:ce.Fb}))(Un(e))},Object(ee.b)(function(e){var t=e.postsData,n=e.posts,r=e.ad,a=e.viewportData,o=e.gallery,i=e.user,c=e.agent;return{post:t.get("currentPost"),postIndex:t.get("currentPostIndex"),recircSortType:t.get("recircSortType"),posts:n.get("posts"),postOrder:n.get("postOrder"),adsEnabled:Object(K.d)(r,i),viewportHeight:a.get("containerHeight")||1080,isMainContentReady:t.get("isMainContentReady"),isLoading:o.get("isFetching"),isWebPSupported:c.get(en.s),recircBarHeightModifier:i.getIn(["subscription","isSubscribed"])||i.get("hasPaid")?2:1,transformationEnabled:r.getIn(["transformation","enabled"]),streamSection:o.get("streamSection"),streamSort:o.get("streamSort")}},{postRecircInteractedAnalytics:ce.jb,setCurrentPostIndexAction:ce.Cb}))(Yn),Kn=function(e){d()(r,e);var n=Hn(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).node=q.a.createRef(),t.state={height:t.props.height},t}return u()(r,[{key:"componentDidUpdate",value:function(){var e=Math.round(this.node.getBoundingClientRect().height);this.state.height!==e&&(this.setState({height:e}),this.props.setHeight(e))}},{key:"render",value:function(){var t=this;return q.a.createElement("div",{ref:function(e){t.node=e},className:"Gallery-Sidebar-PostContainer"},this.props.children)}}]),r}(q.a.Component);Kn.__docgenInfo={description:"",methods:[],displayName:"SideBarPostContainer",props:{children:{type:{name:"node"},required:!0,description:""},setHeight:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}};function Zn(e){var t=e.accolades,n=e.title,r=e.body,a=e.buttonText,o=e.onButtonClick,i=e.className,c=t.map(function(e){return q.a.createElement("img",{key:e.id,className:"AccoladesTooltip-accoladeIcon",src:e.get("image_url")})}),s=$()(O()({AccoladesTooltip:!0},i,!0));return q.a.createElement("div",{className:s},c,q.a.createElement("div",{className:"AccoladesTooltip-title"},n),q.a.createElement("div",{className:"AccoladesTooltip-body"},r),q.a.createElement("button",{type:"button",className:"AccoladesTooltip-button",onClick:o},a))}var Qn=n("kCKb"),Xn=n("lJMb"),$n=n("gGMO"),er=n("pQSO"),tr=n("J4zp"),nr=n.n(tr);n("xsax");Zn.defaultProps={className:"",accolades:[],onButtonClick:function(){}},Zn.__docgenInfo={description:"",methods:[],displayName:"AccoladesTooltip",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},accolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},onButtonClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},body:{type:{name:"string"},required:!0,description:""},buttonText:{type:{name:"string"},required:!0,description:""}}};function rr(e){function t(e){e.animationName==="".concat(i,"-animationend")&&(d(!1),h(!1))}var n,r=e.show,a=e.children,o=e.className,i=e.transitionName,c=Object(P.useRef)(null),s=Object(P.useState)(!1),l=nr()(s,2),u=l[0],d=l[1],m=Object(P.useState)(!1),p=nr()(m,2),f=p[0],h=p[1],g=Object(P.useState)(!1),y=nr()(g,2),b=y[0],v=y[1];Object(P.useEffect)(function(){if(c.current)return c.current.addEventListener("animationend",t,!1),function(){c.current.removeEventListener("animationend",t,!1)}},[c]),Object(P.useLayoutEffect)(function(){r?d(!0):b&&(v(!1),h(!0))},[r]),Object(P.useLayoutEffect)(function(){u&&v(!0)},[u]);var C=$()((n={Toggler:!0},O()(n,o,!0),O()(n,i,!0),O()(n,"Toggler-showing",u),O()(n,"".concat(i,"-visible"),b),O()(n,"".concat(i,"-hiding"),f),n));return q.a.createElement("div",{ref:c,className:C},a)}n("1O1r");rr.__docgenInfo={description:"",methods:[],displayName:"Toggler",props:{show:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},transitionName:{type:{name:"string"},required:!0,description:""},children:{type:{name:"element"},required:!0,description:""}}};function ar(e){var t=e.showAccolades,n=e.onEmeraldClick,r=e.availableAccolades,a=e.accolades,o=e.currentUsername,i=e.inGallery,c=e.isEmerald;if(!t)return t;var s=Object(P.useState)(null),l=nr()(s,2),u=l[0],d=l[1],m=Object(P.useState)(!1),p=nr()(m,2),f=p[0],h=p[1],g=Object(P.useState)(!1),y=nr()(g,2),b=y[0],v=y[1];function C(){return Object(N.db)("?source=tooltip")}Object(P.useEffect)(function(){if(!c&&t&&i&&(null!=u&&(Object(N.h)(u),d(null)),f)){var e=Object(N.Ab)(function(){v(!0)},500);return function(){Object(N.h)(e),d(null)}}},[f,i]);var E,k,S=!(b||(E=a)&&0<E.size);return q.a.createElement(q.a.Fragment,null,b&&q.a.createElement("div",{className:"GalleryVote-modal"}),q.a.createElement("div",{onMouseEnter:function(){return h(!0)},onMouseLeave:function(){h(!1),v(!1)},className:$()({"GalleryVote-accoladesButton":!0,"GalleryVote-accoladesAnimate":S,"GalleryVote-accoladesHighlight":b}),onClick:c?function(){return n(I.a.CLICKED_EMERALD)}:C},q.a.createElement("div",{className:$()({item:!0,"item-single":!0,btn:!0,"btn-emerald":!0,"btn-emerald-highlight":b})},0===(k=a?Math.min(a.size,3):0)?q.a.createElement(A.cb,{className:"emerald-icon",name:A.o,width:"32",height:"32"}):q.a.createElement(q.a.Fragment,null,a.slice(0,3).map(function(e,t){return q.a.createElement("div",{key:t,className:$()(O()({"accolade-icon":!0},"accolade-icon-".concat(k,"-").concat(t),!0))},q.a.createElement(Be.a,{username:e.get("user_selected")?o:"",imageUrl:e.get("image_url"),imageName:e.get("name")}))}))),q.a.createElement("div",null,q.a.createElement("div",{className:"GalleryVote-accoladesBridge"},q.a.createElement(rr,{show:b,className:"AccoladesButton-toggler",transitionName:"fader-right"},q.a.createElement(Zn,{accolades:r,title:Object(Ae.a)("accoladesTooltipTitle"),buttonText:Object(Ae.a)("accoladesTooltipBtnTxt"),className:"AccoladesButton-accoladesTooltip AccoladesTooltip-engagementTooltip",onButtonClick:C,body:Object(Ae.a)("accoladesTooltipBody")}))))))}ar.__docgenInfo={description:"",methods:[],displayName:"AccoladeButton",props:{showAccolades:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!0,description:""},availableAccolades:{type:{name:"array"},required:!0,description:""},accolades:{type:{name:"object"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},inGallery:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""}}};n("oSho");function or(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ir=function(e){d()(r,e);var n=or(r);function r(e){var t;return l()(this,r),(t=n.call(this,e)).state={isFade:!1},t.timeout=null,t.tooltipDelay=null,t}return u()(r,[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.score,a=n.postId;e.score!==r&&e.postId===a&&(this.setState({isFade:!0}),this.timeout=Object(N.Ab)(function(){t.setState({isFade:!1})},150))}},{key:"render",value:function(){var e=this.props,t=e.vote,n=e.onVote,r=e.score,a=e.isFavorite,o=e.onFavorite,i=e.hidePoints,c=e.upvoteRef,s=e.downvoteRef,l=e.favoriteRef,u=e.showEmerald,d=e.isEmerald,m=e.onEmeraldClick,p=e.transformationStyle,f=e.onPointsClick,h=e.accolades,g=e.inGallery,y=e.currentUsername,b=e.availableAccolades,v=this.state.isFade,C={item:!0,score:!0,"score-upvoted":t===Re.b,"score-downvoted":t===Re.a,"score-fade":v},E=u&&g;return q.a.createElement("div",{className:$()({GalleryVote:!0,"hidden-post":!g})},q.a.createElement(ar,{showAccolades:E,onEmeraldClick:m,accolades:h,availableAccolades:b,currentUsername:y,inGallery:g,isEmerald:d}),q.a.createElement("div",{className:"GalleryVote-controls",style:p},g&&q.a.createElement(q.a.Fragment,null,q.a.createElement("div",{className:"item btn btn-upvote",onClick:function(e){return n(e,t===Re.b?Re.c:Re.b)}},q.a.createElement($n.b,{selected:t===Re.b,width:"32",height:"32",title:Object(S.b)("upvoteHint"),setRef:c})),!i&&q.a.createElement("div",{className:$()(C),onClick:f},q.a.createElement("span",{title:Object(S.b)("scoreHint")},Object(xe.h)(r))),q.a.createElement("div",{className:"item btn btn-downvote",onClick:function(e){return n(e,t===Re.a?Re.c:Re.a)}},q.a.createElement($n.a,{selected:t===Re.a,width:"32",height:"32",title:Object(S.b)("downvoteHint"),setRef:s}))),q.a.createElement("div",{className:"item item-single btn btn-favorite GalleryVote-favorite",onClick:o},q.a.createElement(er.a,{selected:a,width:"32",height:"32",title:Object(S.b)("favoriteHint"),setRef:l}))))}}]),r}(q.a.Component);ir.defaultProps={vote:Re.c,onVote:function(){},score:0,isFaforite:!1,onFavorite:function(){},hidePoints:!1,showEmerald:!1,inGallery:!0},ir.__docgenInfo={description:"",methods:[],displayName:"GalleryVote",props:{vote:{defaultValue:{value:"VETO",computed:!0},type:{name:"enum",value:[{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0},{value:"import { UP, DOWN, VETO } from 'constants/vote_type';",computed:!0}]},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},score:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},isFaforite:{defaultValue:{value:"false",computed:!1},required:!1},onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},hidePoints:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},showEmerald:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},inGallery:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},isFavorite:{type:{name:"bool"},required:!1,description:""},onPointsClick:{type:{name:"func"},required:!0,description:""},upvoteRef:{type:{name:"object"},required:!1,description:""},downvoteRef:{type:{name:"object"},required:!1,description:""},favoriteRef:{type:{name:"object"},required:!1,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},onEmeraldClick:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},availableAccolades:{type:{name:"array"},required:!1,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""}}};var cr=n("P5Jw"),sr=n("ooTa");n("oAby");function lr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ur=function(e){d()(a,e);var r=lr(a);function a(){var o;l()(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o=r.call.apply(r,[this].concat(t)),O()(f()(o),"facebook",function(){var e=o.props,t=e.onFacebookShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(sr.a)(),n,r,a)}),O()(f()(o),"twitter",function(){var e=o.props,t=e.onTwitterShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(sr.a)(),n,r,a)}),O()(f()(o),"reddit",function(){var e=o.props,t=e.onRedditShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(sr.a)(),n,r,a)}),O()(f()(o),"email",function(){var e=o.props,t=e.onEmailShare,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(sr.a)(),n,r,a)}),O()(f()(o),"link",function(){var e=o.props,t=e.onCopyLink,n=e.postTitle,r=e.postId,a=e.postTags;t(Object(sr.a)(),n,r,a)}),o}return u()(a,[{key:"render",value:function(){return q.a.createElement("div",{className:"Gallery-Share"},q.a.createElement(At.a,{className:"item Gallery-ShareMenu Dropdown--horizontal Dropdown--btn",dropdownIcon:q.a.createElement(A.cb,{name:A.B,width:"32",height:"32"})},q.a.createElement("label",null,"Share"),q.a.createElement("button",{type:"button",onClick:this.facebook},q.a.createElement(A.cb,{className:"icon icon-facebook",name:A.C,width:"32",height:"32",title:Object(S.b)("facebook")})),q.a.createElement("button",{type:"button",onClick:this.twitter},q.a.createElement(A.cb,{className:"icon icon-twitter",name:A.E,width:"32",height:"32",title:Object(S.b)("twitter")})),q.a.createElement("button",{type:"button",onClick:this.reddit},q.a.createElement(A.cb,{className:"icon icon-reddit",name:A.D,width:"32",height:"32",title:Object(S.b)("reddit")})),q.a.createElement("button",{type:"button",onClick:this.email},q.a.createElement(A.cb,{className:"icon icon-mail",name:A.m,width:"32",height:"32",title:Object(S.b)("email")})),q.a.createElement(cr.CopyToClipboard,{text:Object(sr.a)(),onCopy:this.link},q.a.createElement("button",{type:"button"},q.a.createElement(A.cb,{className:"icon icon-link",name:A.u,width:"32",height:"32",title:Object(S.b)("copyLinkToClipboard")})))))}}]),a}(q.a.Component),dr={onFacebookShare:ce.Ib,onTwitterShare:ce.Kb,onRedditShare:ce.Jb,onEmailShare:ce.Hb,onCopyLink:ce.U};ur.__docgenInfo={description:"",methods:[{name:"facebook",docblock:null,modifiers:[],params:[],returns:null},{name:"twitter",docblock:null,modifiers:[],params:[],returns:null},{name:"reddit",docblock:null,modifiers:[],params:[],returns:null},{name:"email",docblock:null,modifiers:[],params:[],returns:null},{name:"link",docblock:null,modifiers:[],params:[],returns:null}],displayName:"GalleryShare",props:{postTitle:{type:{name:"string"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},postTags:{type:{name:"array"},required:!0,description:""},onFacebookShare:{type:{name:"func"},required:!0,description:""},onTwitterShare:{type:{name:"func"},required:!0,description:""},onRedditShare:{type:{name:"func"},required:!0,description:""},onEmailShare:{type:{name:"func"},required:!0,description:""},onCopyLink:{type:{name:"func"},required:!0,description:""}}};var mr=Object(ee.b)(function(e){var t=e.postsData;return{postTitle:t.getIn(["currentPost","title"]),postId:t.getIn(["currentPost","id"]),postTags:t.getIn(["currentPost","tags"])&&t.getIn(["currentPost","tags"]).map(function(e){return e.get("tag")}).toJS()}},dr)(ur);n("nAF4");function pr(e){var t=e.commentsCount,n=e.onClick,r=e.transformationStyle;return q.a.createElement("div",{className:"Gallery-CommentsCounter",title:Object(S.b)("commentsCounterHint"),onClick:n,style:r},q.a.createElement("div",{className:"item"},q.a.createElement(A.cb,{name:A.f,width:"32",height:"32",title:"Jump to Comments"})),q.a.createElement("div",{className:"item label"},q.a.createElement("span",null,Object(xe.h)(t))))}pr.defaultProps={commentsCount:0,onClick:function(){}},pr.__docgenInfo={description:"",methods:[],displayName:"GalleryCommentsCounter",props:{commentsCount:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""}}};var fr=n("ErBw"),hr=n("/iGR");n("o9hv");function gr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var yr=function(e){d()(r,e);var n=gr(r);function r(e){var c;l()(this,r),c=n.call(this,e),O()(f()(c),"setHovering",function(e){c.setState({hovering:e})}),O()(f()(c),"unhover",function(){c.setHovering(!1),Object(N.ib)("click",c.unhover)}),O()(f()(c),"setTransformation",function(e){var t=c.props,n=t.setAnimatingIn,r=t.setAnimatingOut,a=t.onClick,o=t.font,i=t.transitionEnabledPixels;Object(N.y)("TransformationFont")||Object(N.d)(Object(N.m)("link",{id:"TransformationFont",href:o,rel:"stylesheet"})),e?(n(!0),Object(N.tb)(0,0,"smooth"),i.forEach(function(e){Object(On.c)(e)})):r(!0),Object(N.Ab)(function(){a(e,!0)},kn.$transformationFadeOutTimeMS/2),Object(N.Ab)(function(){e?n(!1):r(!1)},kn.$transformationFadeOutTimeMS)});var t=!1;return Object(hr.b)(e.name)||(Object(hr.c)(e.name,!0,7),t=!0),c.state={hovering:t},c}return u()(r,[{key:"componentDidMount",value:function(){Object(N.a)("click",this.unhover)}},{key:"componentWillUnmount",value:function(){Object(N.ib)("click",this.unhover)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.positionY,r=t.postId;n===e.positionY&&r===e.postId||this.setHovering(!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isTransformed,r=t.exitIcon,a=t.enterIcon,o=t.buttonColor,i=t.tooltipTitle,c=t.tooltipDescription,s=t.tooltipStyle,l=this.state.hovering,u={};return l&&(u.filter="drop-shadow(0 0 3px rgba(".concat(o,", 0.16))")),n?q.a.createElement("img",{src:r,style:u,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!1)},alt:Object(S.b)("exit")}):q.a.createElement("div",{className:"Transformation-wrapper"},q.a.createElement("img",{src:a,style:u,className:"Transformation",onMouseEnter:function(){return e.setHovering(!0)},onMouseLeave:function(){return e.setHovering(!1)},onClick:function(){return e.setTransformation(!0)},alt:Object(S.b)("enter")}),q.a.createElement("div",{className:"Transformation-tooltip".concat(l?" Transformation-tooltip--hovering":""),style:s},q.a.createElement("h2",null,i),q.a.createElement("p",null,c)))}}]),r}(q.a.Component);yr.__docgenInfo={description:"",methods:[{name:"setHovering",docblock:null,modifiers:[],params:[{name:"hovering",type:null}],returns:null},{name:"unhover",docblock:null,modifiers:[],params:[],returns:null},{name:"setTransformation",docblock:null,modifiers:[],params:[{name:"enabled",type:null}],returns:null}],displayName:"PromotedTransformation",props:{name:{type:{name:"string"},required:!0,description:""},isTransformed:{type:{name:"bool"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},setAnimatingIn:{type:{name:"func"},required:!0,description:""},setAnimatingOut:{type:{name:"func"},required:!0,description:""},enterIcon:{type:{name:"string"},required:!0,description:""},exitIcon:{type:{name:"string"},required:!0,description:""},buttonColor:{type:{name:"string"},required:!0,description:""},tooltipTitle:{type:{name:"string"},required:!0,description:""},tooltipDescription:{type:{name:"string"},required:!0,description:""},tooltipStyle:{type:{name:"object"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},font:{type:{name:"string"},required:!0,description:""},transitionEnabledPixels:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""}}};var br=Object(ee.b)(function(e){var t=e.ad,n=e.display,r=e.postsData;return{name:t.getIn(["transformation","name"]),isTransformed:t.getIn(["transformation","enabled"]),font:t.getIn(["transformation","font"]),enterIcon:t.getIn(["transformation","enterIcon"]),exitIcon:t.getIn(["transformation","exitIcon"]),buttonColor:t.getIn(["transformation","buttonColor"]),tooltipTitle:t.getIn(["transformation","tooltipTitle"]),tooltipDescription:t.getIn(["transformation","tooltipDescription"]),tooltipStyle:{backgroundImage:'url("'.concat(t.getIn(["transformation","tooltipBg"]),'")')},positionY:n.get("positionY"),postId:r.getIn(["currentPost","id"],""),transitionEnabledPixels:t.getIn(["transformation","enabledPixels"])}},{onClick:fr.F,setAnimatingIn:fr.D,setAnimatingOut:fr.E})(yr);n("fbUk");function vr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Cr=function(e){d()(n,e);var t=vr(n);function n(e){var d;return l()(this,n),d=t.call(this,e),O()(f()(d),"handleVote",function(e,t){var n=d.props,r=n.isUserLoggedOut,a=n.showGalleryPopOverCTAAction,o=n.onVote,i=n.post,c=n.currentPostMeta,s=n.userAccoladeId,l=n.accoladeRevoked;if(r)return t===Re.b?a(Xn.q,d.upvoteRef.current.parentNode):a(Xn.h,d.downvoteRef.current.parentNode);if(!s||Object(N.A)("confirm")(Object(Ae.a)("accoladesDeleteConfirm",Re.e[t].toLowerCase()))){var u=e.type&&e.type.includes("key")?"Key Press":I.p;o({postId:i.get("id"),vote:t,initialVote:c.getIn(["user","vote"]),trigger:u}),t!==Re.b&&s&&l({userAccoladeId:s})}}),O()(f()(d),"handleFavorite",function(e){var t=d.props,n=t.isUserLoggedOut,r=t.showGalleryPopOverCTAAction,a=t.onFavorite,o=t.post,i=t.currentPostMeta,c=t.openDialogAction;if(n)return r(Xn.i,d.favoriteRef.current.parentNode);var s=e.type&&e.type.includes("key")?"Key Press":I.p,l=i.getIn(["user","favorite"])||o.get("favorite"),u=w.t;return o.get("inGallery")||(u=o.get("isAlbum")?w.s:w.u),a(o.get("id"),!l,o.get("isAlbum"),s,u),l?void 0:c({name:w.d})}),O()(f()(d),"handleCommentsCounterClick",function(){var e=d.props,t=e.onScrollToComments,n=e.commentsListId,r=e.contentOffset,a=e.onScrollToCommentsAnalytics;t(n,r),a()}),O()(f()(d),"onKeyboardInteraction",function(e){var t=d.props,n=t.openDialogAction,r=t.showEmerald;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;var a=d.props.currentPostMeta.getIn(["user","vote"]);switch(e.key){case")":case"0":d.handleFavorite(e);break;case"-":case"_":d.handleVote(e,a===Re.a?Re.c:Re.a);break;case"+":case"=":d.handleVote(e,a===Re.b?Re.c:Re.b);break;case"*":case"8":if(!r)return e;n({name:Te.a,eventSource:I.a.HOTKEY})}return e}),d.upvoteRef=q.a.createRef(),d.downvoteRef=q.a.createRef(),d.favoriteRef=q.a.createRef(),d}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(N.mb)("keydown",this.onKeyboardInteraction)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.currentPostMeta,r=e.openDialogAction,a=e.transformationStyle,o=e.showEmerald,i=e.availableAccolades,c=e.isEmerald,s=e.accolades,l=e.currentUsername,u=e.showsTransformationButton;return q.a.createElement("div",{className:"Gallery-EngagementBar"},q.a.createElement("div",{className:"Gallery-EngagementBarContainer",style:{paddingBottom:0}},q.a.createElement(ir,{postId:t.get("id"),vote:n.getIn(["user","vote"])||Re.c,score:n.getIn(["post","point_count"])||0,onVote:this.handleVote,isFavorite:n.getIn(["user","favorite"])||t.get("favorite")||!1,onFavorite:this.handleFavorite,hidePoints:t.get("isAd")||0<t.get("adType"),upvoteRef:this.upvoteRef,downvoteRef:this.downvoteRef,favoriteRef:this.favoriteRef,transformationStyle:a,showEmerald:o,availableAccolades:i,isEmerald:c,onEmeraldClick:function(e){r({name:Te.a,eventSource:e})},onPointsClick:function(){return r({name:w.D})},accolades:s,currentUsername:l,inGallery:t.get("inGallery")}),u&&q.a.createElement(br,null),q.a.createElement(mr,null),!t.get("commentsDisabled")&&q.a.createElement(pr,{commentsCount:n.getIn(["post","comment_count"]),onClick:this.handleCommentsCounterClick,transformationStyle:a})))}}]),n}(q.a.Component);Cr.defaultProps={onFavorite:function(){},onVote:function(){},onScrollToComments:function(){},availableAccolades:[]},Cr.__docgenInfo={description:"",methods:[{name:"handleVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"handleFavorite",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCommentsCounterClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"GalleryEngagementBar",props:{onFavorite:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onVote:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},onScrollToComments:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},availableAccolades:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},currentPostMeta:{type:{name:"object"},required:!0,description:""},onScrollToCommentsAnalytics:{type:{name:"func"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},showGalleryPopOverCTAAction:{type:{name:"func"},required:!0,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},setRef:{type:{name:"func"},required:!1,description:""},openDialogAction:{type:{name:"func"},required:!0,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},showEmerald:{type:{name:"bool"},required:!0,description:""},isEmerald:{type:{name:"bool"},required:!0,description:""},accolades:{type:{name:"object"},required:!1,description:""},currentUsername:{type:{name:"string"},required:!1,description:""},userAccoladeId:{type:{name:"number"},required:!1,description:""},accoladeRevoked:{type:{name:"func"},required:!1,description:""},showsTransformationButton:{type:{name:"bool"},required:!0,description:""}}};var Er=Object(ee.b)(function(e,t){var n=e.ui,r=e.user,a=e.postsData,o=e.ad,i=!a.getIn(["currentPost","isAd"],!1),c=Object(K.d)(o,r),s=(new Date).getTime(),l={};return o.getIn(["transformation","enabled"])&&(l={borderColor:"rgb(".concat(o.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(o.getIn(["transformation","primaryColor"]),", 0.32)")}),{contentOffset:n.cover.get("collapsed",0),isUserLoggedOut:!r.get("isLoggedIn"),isEmerald:r.getIn(["subscription","isSubscribed"]),transformationStyle:l,showEmerald:i,currentPostMeta:a.get("currentPostMeta"),availableAccolades:a.getIn(["currentPostMeta","accolades","available"]),accolades:Object(Ht.c)(a.getIn(["currentPostMeta","accolades","available"]),a.getIn(["currentPostMeta","post","accolades_counts"]),a.getIn(["currentPostMeta","user","accolades","accolade_id"])),currentUsername:r.get("username",""),userAccoladeId:a.getIn(["currentPostMeta","user","accolades","accolade_id"]),showsTransformationButton:c&&(t.post.getIn(["adConfig","showsAds"])||t.post.get("inGallery")&&!t.post.get("isAd")||o.getIn(["transformation","promotedPostIds"]).includes(t.post.get("id")))&&s>o.getIn(["transformation","startTime"])&&(s<o.getIn(["transformation","endTime"])||o.getIn(["transformation","enabled"]))}},{onFavorite:ce.Z,onVote:ce.Qb,onScrollToComments:Qn.g,onScrollToCommentsAnalytics:ce.Ab,showGalleryPopOverCTAAction:Xn.s,openDialogAction:Oe.I,accoladeRevoked:He.l})(Cr),kr=n("JPcv"),Sr=n("f6ut"),Or=n("yzPS"),Pr=n("66r6"),Nr=n("QIN0"),Ir=n("DfB6"),wr=(n("eeI0"),n("/y0k"));n("WYmX");function qr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var jr=function(e){d()(r,e);var n=qr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"handleFileInput",function(e){(0,t.props.startCommentUpload)(e.target.files),t.inputRef.value=""}),O()(f()(t),"componentDidMount",function(){(0,t.props.onLoad)(t.wrapperRef)}),t.inputRef=q.a.createRef(),t.wrapperRef=q.a.createRef(),t}return u()(r,[{key:"render",value:function(){var t=this,e=this.props,n=e.disabled,r=e.title;return q.a.createElement("div",{className:"CommentUploadButton",disabled:n,ref:function(e){t.wrapperRef=e}},q.a.createElement(A.cb,{className:"icon fill",name:A.a,width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:function(e){return t.inputRef.click(e)},title:r}),q.a.createElement("input",{id:"file-input",className:"CommentUpload-fileInput",type:"file",name:"files",ref:function(e){t.inputRef=e},accept:wr.a,onChange:this.handleFileInput,disabled:n}))}}]),r}(q.a.Component);jr.defaultProps={title:Object(S.b)("commentUploadButton")},jr.__docgenInfo={description:"",methods:[{name:"handleFileInput",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"componentDidMount",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentUploadButton",props:{title:{defaultValue:{value:"copy('commentUploadButton')",computed:!0},type:{name:"string"},required:!1,description:""},startCommentUpload:{type:{name:"func"},required:!1,description:""},disabled:{type:{name:"bool"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""}}};var Dr=n("lIU6");function Ar(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Tr=function(e){d()(n,e);var t=Ar(n);function n(e){var c;return l()(this,n),c=t.call(this,e),O()(f()(c),"textareaElem",null),O()(f()(c),"adminBadgeElem",null),O()(f()(c),"handleSubmit",function(e){e.preventDefault();var t=c.state,n=t.value,r=t.hasAdminBadge,a=t.maxChars,o=t.uploadedFile,i=Object(xe.a)(n);(0===i||a<i)&&!o||(0,c.props.onCreate)({comment:n,hasAdminBadge:r,file:o})}),O()(f()(c),"handleClose",function(e){var t=c.state.value;if(!("click"!==e.type&&0<Object(xe.a)(t))){var n=c.props.onClose;n&&n()}}),O()(f()(c),"handleKeyDown",function(e){e.key===E.a?c.handleSubmit(e):[E.d,E.c].includes(e.key)&&c.handleClose(e)}),O()(f()(c),"onChange",function(e){var t=c.state.value;c.updateTextareaHeight(c.textareaElem);var n=e?e.target.value:t,r=Object(xe.a)(n);c.setState({characterCount:r,value:n})}),O()(f()(c),"setFocusIn",function(){c.setState({focused:!0})}),O()(f()(c),"setFocusOut",function(){c.setState({focused:!1})}),O()(f()(c),"setTextareaElem",function(e){c.textareaElem=e}),O()(f()(c),"onCheckboxChange",function(e){c.setState({hasAdminBadge:e.target.checked})}),O()(f()(c),"updateTextareaHeight",function(e){e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px"))}),O()(f()(c),"onGIFSelect",function(e){var t=c.state.value,n="".concat(t).concat(e),r=Object(xe.a)(n);c.setState({value:n,characterCount:r,hasMedia:!0})}),O()(f()(c),"removeUploadedFile",function(){var e=c.state,t=e.maxChars,n=e.fileObjURL;Object(N.rb)(n),c.setState({uploadedFile:null,maxChars:t+j.A,fileObjURL:"",hasMedia:!1})}),O()(f()(c),"getReactionPreview",function(e){var t=Object(Pr.j)(e);if(t)return q.a.createElement(Dr.b,{src:t,onClose:function(){return c.removeReactionMedia(t)}})}),O()(f()(c),"removeReactionMedia",function(e){var t=c.state.value;c.setState({value:t.replace(e,""),hasMedia:!1},c.onChange)}),O()(f()(c),"focusOnTextArea",function(){c.textareaElem.focus()}),O()(f()(c),"startCommentUpload",function(e){if(e&&e[0]){var t=c.state.maxChars;c.setState({uploadedFile:e[0],fileObjURL:Object(N.n)(e[0]),maxChars:t-j.A,hasMedia:!0})}}),O()(f()(c),"showUploadPopOver",function(e){var t=c.props,n=t.showPopOver;return(0,t.viewedCommentUploadPopupAction)(),n(Xn.e,e)}),c.state={characterCount:0,value:"",focused:!!e.autoFocus,hasAdminBadge:!1,maxChars:Ye.f,fileObjURL:"",uploadedFile:null,hasMedia:!1},c}return u()(n,[{key:"componentDidMount",value:function(){this.updateTextareaHeight(this.textareaElem)}},{key:"componentDidUpdate",value:function(e){var t=e.isLoading,n=this.props.isLoading,r=this.state.uploadedFile;t&&!n&&(r&&this.removeUploadedFile(),this.setState({characterCount:0,value:"",hasAdminBadge:!1}))}},{key:"renderUploadedFile",value:function(e,t){return q.a.createElement(q.a.Fragment,null,q.a.createElement(Dr.b,{src:t,isVideo:Object(Nr.d)(e.name),onClose:this.removeUploadedFile,isUpload:!0}),q.a.createElement(Dr.a,null))}},{key:"getCommentMedia",value:function(){var e=this.state,t=e.value,n=e.uploadedFile,r=e.fileObjURL;return n?this.renderUploadedFile(n,r):this.getReactionPreview(t)}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.characterCount,r=e.focused,a=e.maxChars,o=e.hasMedia,i=a-n,c=i<0,s=this.props,l=s.placeholder,u=s.isCommunityTeam,d=s.autoFocus,m=s.onClose,p=s.transformationCreateStyles,f=s.isLoading,h=s.shouldShowCommentUploadTooltip,g=!1;0!==n&&!c||o||(g=!0);var y=$()({"Comment-create-textarea":!0,over:c}),b=$()({"Comment-create-charCount":!0,over:c}),v=$()({"Create-submitBtn":!0,disabled:g}),C=$()({"Comment-create-bar":!0,focused:r}),E={};return E=o?{commentUpload:Object(S.b)("commentPreviewAlreadyExists"),reactionGIF:Object(S.b)("commentPreviewAlreadyExists")}:{commentUpload:Object(S.b)("commentUploadButton"),reactionGIF:Object(S.b)("gifOnHover")},q.a.createElement("div",{className:"Comment-create",style:p},q.a.createElement("form",{className:"Comment-create-form",onSubmit:this.handleSubmit},q.a.createElement("div",{className:C,onClick:this.focusOnTextArea},m&&q.a.createElement(A.cb,{name:A.g,onClick:this.handleClose,width:"25",height:"25",viewBox:"0 0 32 32",className:"Comment-create-close"}),q.a.createElement("textarea",{ref:this.setTextareaElem,autoFocus:d,className:y,value:t,onChange:this.onChange,onKeyDown:this.handleKeyDown,onFocus:this.setFocusIn,onBlur:this.setFocusOut,placeholder:l}),this.getCommentMedia()),q.a.createElement("div",{className:"Comment-create-summary"},q.a.createElement("a",{className:"Comment-create-rules",target:"_blank",href:"/rules"},Object(S.b)("readCommunityRules")),q.a.createElement("div",{className:"Comment-create-actions"},q.a.createElement(jr,{disabled:o,startCommentUpload:this.startCommentUpload,title:E.commentUpload,onLoad:h(this.showUploadPopOver)}),q.a.createElement(Ir.a,{disabled:o,onSelect:this.onGIFSelect,title:E.reactionGIF}),u&&q.a.createElement(Sr.a,{className:"Comment-create-adminbadge",text:Object(S.b)("showAdminBadgeCheckbox"),handleOnChange:this.onCheckboxChange,checkmarkPosition:"right"}),q.a.createElement("div",{className:b},"".concat(i)),q.a.createElement(Ne.c,{onClick:this.handleSubmit,className:v,isLoading:f,label:Object(S.b)("post")})))))}}]),n}(q.a.PureComponent);var Rr={showPopOver:Xn.s,viewedCommentUploadPopupAction:Oe.P};Tr.defaultProps={placeholder:Object(S.b)("commentWrite"),shouldShowCommentUploadTooltip:function(){return function(){}}},Tr.__docgenInfo={description:"",methods:[{name:"handleSubmit",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleClose",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setFocusIn",docblock:null,modifiers:[],params:[],returns:null},{name:"setFocusOut",docblock:null,modifiers:[],params:[],returns:null},{name:"setTextareaElem",docblock:null,modifiers:[],params:[{name:"domElem",type:null}],returns:null},{name:"onCheckboxChange",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"updateTextareaHeight",docblock:null,modifiers:[],params:[{name:"textareaElem",type:null}],returns:null},{name:"onGIFSelect",docblock:null,modifiers:[],params:[{name:"GifURL",type:null}],returns:null},{name:"removeUploadedFile",docblock:null,modifiers:[],params:[],returns:null},{name:"renderUploadedFile",docblock:null,modifiers:[],params:[{name:"file",type:null},{name:"fileObjURL",type:null}],returns:null},{name:"getCommentMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"text",type:null}],returns:null},{name:"removeReactionMedia",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"focusOnTextArea",docblock:null,modifiers:[],params:[],returns:null},{name:"startCommentUpload",docblock:null,modifiers:[],params:[{name:"files",type:null}],returns:null},{name:"showUploadPopOver",docblock:null,modifiers:[],params:[{name:"wrapperRef",type:null}],returns:null}],displayName:"CommentForm",props:{placeholder:{defaultValue:{value:"copy('commentWrite')",computed:!0},type:{name:"string"},required:!1,description:""},shouldShowCommentUploadTooltip:{defaultValue:{value:"() => () => {}",computed:!1},type:{name:"func"},required:!1,description:""},onCreate:{type:{name:"func"},required:!0,description:""},onClose:{type:{name:"func"},required:!1,description:""},isCommunityTeam:{type:{name:"bool"},required:!1,description:""},autoFocus:{type:{name:"bool"},required:!1,description:""},transformationCreateStyles:{type:{name:"object"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},showPopOver:{type:{name:"func"},required:!1,description:""},viewedCommentUploadPopupAction:{type:{name:"func"},required:!1,description:""}}};var xr=Object(ee.b)(function(e){var t=e.ui,n=e.user,r=e.ad,a={};return r.getIn(["transformation","enabled"])&&(a={borderColor:"rgb(".concat(r.getIn(["transformation","primaryColor"]),")"),boxShadow:"0 0 8px rgba(".concat(r.getIn(["transformation","primaryColor"]),", 0.32)")}),{shouldShowCommentUploadTooltip:function(e){return t.emeraldFeature.get("viewedCommentUploadTooltip")?function(){}:e},isCommunityTeam:-1!==n.get("roles").indexOf(Or.c),isLoading:t.spinner.get("createPostComment")&&t.spinner.get("createPostComment").loading,transformationCreateStyles:a}},Rr)(Tr),Mr=n("hIyu"),Lr=n("0WSl");function Fr(e){var t=e.postId,n=e.commentId,r=e.parentId,a=e.username,o=e.currentUsername,i=e.muteUserData,c=e.setDeleteCommentData,s=e.openDeleteCommentDialog,l=e.isLoggedIn,u=e.history,d=o&&a.toLowerCase()===o.toLowerCase(),m=l&&!d&&q.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),i(a,Se.b,n)}},q.a.createElement(A.cb,{className:"icon",name:A.x,width:"32",height:"32",fillColor:"#B4B9C2"}),q.a.createElement("span",{className:"label"},Object(S.b)("commentMuteUser"))),p=l&&d&&q.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),c(n),s()}},q.a.createElement(A.cb,{className:"icon",name:A.F,width:"32",height:"32",fillColor:"#B4B9C2"}),q.a.createElement("span",{className:"label"},Object(S.b)("commentDelete"))),f=q.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(de.c)(t,n))}},q.a.createElement(A.cb,{className:"icon stroke",name:A.u,width:"32",height:"32",fillColor:"#B4B9C2"}),q.a.createElement("span",{className:"label"},Object(S.b)("commentPermalink"))),h=!!r&&q.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),u.push(Object(de.d)(t,n))}},q.a.createElement(A.cb,{className:"icon stroke",name:A.u,width:"32",height:"32",fillColor:"#B4B9C2"}),q.a.createElement("span",{className:"label"},Object(S.b)("commentContext")));return q.a.createElement(At.a,{className:"CommentDropdown-menu Dropdown--btn",dropdownIcon:q.a.createElement(A.cb,{name:A.l,width:"24",height:"24"})},f,h,m,p,q.a.createElement(xt,{reportType:Tt.d,id:n,isMature:!1}))}Fr.defaultProps={currentUsername:""};Fr.__docgenInfo={description:"",methods:[],displayName:"CommentDropDownMenu",props:{currentUsername:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},muteUserData:{type:{name:"func"},required:!0,description:""},openDeleteCommentDialog:{type:{name:"func"},required:!0,description:""},setDeleteCommentData:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},parentId:{type:{name:"number"},required:!1,description:""}}};var _r=Object(ie.d)(Object(ee.b)(function(e){var t=e.user;return{isLoggedIn:!!t.get("isLoggedIn"),currentUsername:t.get("username","")}},{muteUserData:oe.L,openDeleteCommentDialog:Je.x,setDeleteCommentData:Je.B}),b.h)(Fr);n("G6+a");function Ur(e){var t=e.avatar,n=e.username,r=e.isSubComment,a=e.onUserProfileClick;return q.a.createElement("div",{className:"GalleryComment-avatar-bar"},q.a.createElement("div",{className:"avatar"},q.a.createElement(ye,{username:n,onClick:a},q.a.createElement("span",{style:{backgroundImage:"url(".concat(t,")")},title:n}))),r&&q.a.createElement("div",{className:"verticalLine"}))}Ur.__docgenInfo={description:"",methods:[],displayName:"CommentAvatarBar",props:{avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""}}};n("Dk6w");function Gr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Vr=function(e){d()(n,e);var t=Gr(n);function n(e){var o;return l()(this,n),o=t.call(this,e),O()(f()(o),"randomVector",function(){return 2*Math.random()-1}),O()(f()(o),"createParticles",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!o.shouldCreateParticles)return e;for(var t=Ue()(e),n=0;n<6;n++)t.push({x:o.canvas.width/2+100*o.randomVector(),y:o.canvas.height/2,size:Math.floor(Math.random()*Math.floor(8)),opacity:1,vectorX:o.randomVector(),vectorY:o.randomVector()});return t}),O()(f()(o),"drawParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=o.context,n=Ue()(e),r=0;r<n.length;r++){t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size,0,2*Math.PI);var a=t.createRadialGradient(n[r].x,n[r].y,.5*n[r].size,n[r].x+.1,n[r].y,.1);a.addColorStop(.2143,"rgba(45, 217, 244, ".concat(n[r].opacity,")")),a.addColorStop(1,"rgba(22, 191, 118, ".concat(n[r].opacity,")")),t.fillStyle=a,t.filter="none",t.closePath(),t.fill(),t.beginPath(),t.arc(n[r].x,n[r].y,.5*n[r].size+2,0,2*Math.PI),t.fillStyle="rgba(67, 208, 189, ".concat(n[r].opacity,")"),t.filter="blur(".concat(8,"px)"),t.closePath(),t.fill()}return n}),O()(f()(o),"moveParticles",function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Ue()(e),n=0;n<t.length;n++)t[n].x+=.8*t[n].vectorX,t[n].y+=.8*t[n].vectorY,t[n].size=Math.max(0,t[n].size-.005),t[n].opacity=Math.max(0,t[n].opacity-.012),t[n].opacity<=0&&t.splice(n,1);return t}),O()(f()(o),"clearFrame",function(){var e=o.context;e&&e.clearRect&&e.clearRect(0,0,o.canvas.width,o.canvas.height)}),O()(f()(o),"draw",function(){if(o.counter++,o.shouldAnimate){if(o.clearFrame(),!o.particles.length&&!o.shouldCreateParticles)return o.stopAnimation(!0);o.particles=o.moveParticles(o.particles),o.drawParticles(o.particles),o.lastFrameId=Object(N.pb)(function(){return o.draw()})}}),O()(f()(o),"startAnimation",function(e){if(o.counter=0,!o.canvas)return e;o.stopAnimation(!0),o.shouldAnimate=!0,o.shouldCreateParticles=!0,o.particles=[],o.particles=o.createParticles(o.particles),o.animationTimer=Object(N.xb)(function(){o.particles=o.createParticles(o.particles)},250),o.draw(o.particles)}),O()(f()(o),"stopAnimation",function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0])return Object(N.e)(o.lastFrameId),o.clearFrame(),o.particles=[],o.shouldAnimate=!1,void Object(N.g)(o.animationTimer);o.shouldCreateParticles=!1}),o.canvas=Object(P.createRef)(),o.context=null,o.particles=[],o.animationTimer=null,o.lastFrameId=null,o.shouldAnimate=!1,o.shouldCreateParticles=!0,o}return u()(n,[{key:"componentDidMount",value:function(){this.context=this.canvas.getContext("2d")}},{key:"componentWillUnmount",value:function(){this.stopAnimation(!0)}},{key:"render",value:function(){var t=this,e=this.props.rank;return q.a.createElement("div",{className:"badge-best-wrapper"},q.a.createElement("canvas",{className:"badge-best-animation",ref:function(e){t.canvas=e}}),q.a.createElement(ue.a,{to:"/leaderboard",className:"badge-best",onMouseEnter:this.startAnimation,onMouseLeave:function(){return t.stopAnimation()}},q.a.createElement("span",null,Object(S.b)("bestComment",e))))}}]),n}(q.a.PureComponent);Vr.__docgenInfo={description:"",methods:[{name:"randomVector",docblock:null,modifiers:[],params:[],returns:null},{name:"createParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"drawParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"moveParticles",docblock:null,modifiers:[],params:[{name:"particles",type:null}],returns:null},{name:"clearFrame",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[],returns:null},{name:"startAnimation",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"stopAnimation",docblock:null,modifiers:[],params:[{name:"immediately",type:null}],returns:null}],displayName:"CommentLeaderboardBadge",props:{rank:{type:{name:"number"},required:!0,description:""}}};n("WHPL");function Br(e){var t=e.postId,n=e.username,r=e.commentId,a=e.parentId,o=e.hasOpBadge,i=e.hasAdminBadge,c=e.avatar,s=e.onAvatarProfileClick,l=e.onUserProfileClick,u=e.createdAtDate,d=e.platform,m=e.isSubComment,p=e.rank,f=e.onGiveEmerald,h=e.isUserLoggedIn,g=e.currentUsername,y=e.isPromotedPost,b=$()({"byline-badge":!0,"byline-badge-admin":i,"byline-badge-op":o&&!i}),v=new Date(u),C=Object(xe.e)(d);return q.a.createElement("div",{className:"GalleryComment-byLine"},q.a.createElement("div",{className:"Meta"},q.a.createElement(Ur,{username:n,avatar:c,isSubComment:m,onUserProfileClick:s}),q.a.createElement(ye,{className:"author-name",username:n,onClick:l}),(o||i)&&q.a.createElement("div",{className:b},i&&q.a.createElement("a",{className:"admin-badge-link",href:Lr.a,target:"_blank",rel:"noopener noreferrer"},q.a.createElement(A.cb,{name:A.M,width:"16",height:"16"}),q.a.createElement("span",{className:"byline-badge-text"},Object(S.b)("adminBadge"))),o&&i&&q.a.createElement("div",{className:"delimiter byline-badge-text"},"|"),o&&q.a.createElement("span",{className:"byline-badge-text"},"OP")),q.a.createElement("span",{className:"date",title:v},q.a.createElement("span",{className:"delimiter"},"•"),Object(Me.o)(v," ago"),C&&q.a.createElement(q.a.Fragment,null," via ",q.a.createElement("a",{className:"platform bold",href:"/apps"},C))),q.a.createElement(Nt.a,{currentUsername:g,itemUsername:n,isUserLoaded:!0,isPromoted:y,isEnabled:j.v},q.a.createElement(It.a,{isUserLoggedIn:h,showTitle:!0,onClick:f,customClasses:"GiveEmeraldButton-secondary"})),p&&q.a.createElement(Vr,{rank:p}),q.a.createElement(_r,{postId:t,commentId:r,parentId:a,username:n})))}Br.__docgenInfo={description:"",methods:[],displayName:"CommentByline",props:{postId:{type:{name:"string"},required:!0,description:""},avatar:{type:{name:"string"},required:!0,description:""},username:{type:{name:"string"},required:!0,description:""},createdAtDate:{type:{name:"string"},required:!0,description:""},platform:{type:{name:"string"},required:!0,description:""},commentId:{type:{name:"number"},required:!0,description:""},hasOpBadge:{type:{name:"bool"},required:!1,description:""},hasAdminBadge:{type:{name:"bool"},required:!1,description:""},onAvatarProfileClick:{type:{name:"func"},required:!0,description:""},onUserProfileClick:{type:{name:"func"},required:!0,description:""},parentId:{type:{name:"number"},required:!1,description:""},rank:{type:{name:"number"},required:!1,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onGiveEmerald:{type:{name:"func"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};n("Lz/x");function Wr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Hr=function(e){d()(o,e);var a=Wr(o);function o(){var n;l()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),O()(f()(n),"collapseReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!1)}),O()(f()(n),"extendReplies",function(e){var t=n.props.toggleReplies;e.stopPropagation(),t(!0)}),n}return u()(o,[{key:"render",value:function(){var e=this.props,t=e.replies,n=e.isExpanded,r=e.onReply,a=e.showReply,o=e.vote,i=e.pointCount,c=e.hasMoreComments,s=e.loadMore,l=e.onVote;return q.a.createElement("div",{className:"GalleryComment-actions"},q.a.createElement("div",{className:"vote-btn upvote actions-btn",onClick:function(e){return l(e,o===Re.b?Re.c:Re.b)},title:Object(S.b)("upvoteHint")},q.a.createElement($n.b,{selected:o===Re.b,isMini:!0,strokeColor:"#B4B9C2"})),q.a.createElement("div",{className:"points ".concat(o)},"".concat(Object(xe.h)(i))),q.a.createElement("div",{className:"vote-btn down actions-btn",onClick:function(e){return l(e,o===Re.a?Re.c:Re.a)},title:Object(S.b)("downvoteHint")},q.a.createElement($n.a,{selected:o===Re.a,isMini:!0,strokeColor:"#B4B9C2"})),!c&&q.a.createElement(q.a.Fragment,null,q.a.createElement("button",{type:"button",onClick:this.collapseReplies,className:$()({hide:!n,"toggle-replies":!0,"actions-btn":!0})},q.a.createElement(A.cb,{name:A.Y,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(S.b)("commentCollapseReplies")),q.a.createElement("button",{type:"button",onClick:this.extendReplies,className:$()({hide:n||!t.size,"toggle-replies":!0,"actions-btn":!0})},q.a.createElement(A.cb,{name:A.Z,width:"16",height:"16",fillColor:"#B4B9C2",viewBox:"0 1 16 16"}),Object(S.b)("commentRepliesCount",t.size))),c&&q.a.createElement("button",{type:"button",className:"load-more actions-btn",onClick:s},Object(S.b)("loadMore")),a&&q.a.createElement("button",{type:"button",className:"reply actions-btn",onClick:r},q.a.createElement(A.cb,{name:A.O,width:"16",height:"16",strokeColor:"#FFFFFF"}),Object(S.b)("commentReply")))}}]),o}(q.a.PureComponent);Hr.__docgenInfo={description:"",methods:[{name:"collapseReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"extendReplies",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"CommentActions",props:{toggleReplies:{type:{name:"func"},required:!0,description:""},replies:{type:{name:"object"},required:!0,description:""},isExpanded:{type:{name:"bool"},required:!1,description:""},onReply:{type:{name:"func"},required:!0,description:""},showReply:{type:{name:"bool"},required:!0,description:""},onVote:{type:{name:"func"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},pointCount:{type:{name:"number"},required:!1,description:""},loadMore:{type:{name:"func"},required:!1,description:""},hasMoreComments:{type:{name:"bool"},required:!1,description:""}}};n("o+s0");function zr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Yr=function(e){d()(r,e);var n=zr(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"toggleBadComments",function(){t.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),O()(f()(t),"renderBadComments",function(){var e=t.props.replies.filter(function(e){return e.get("point_count")<0});return e.size?q.a.createElement("div",null,q.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:t.toggleBadComments},q.a.createElement(A.cb,{name:t.state.expandBadComments?A.Y:A.Z,width:"16",height:"16"}),q.a.createElement("span",null,Object(S.b)("commentToggleBadReplies",t.state.expandBadComments))),t.state.expandBadComments&&e.map(function(e){return q.a.createElement(Zr,{key:e.get("id"),comment:e,isSubComment:!0,onCreateComment:t.props.onCreateComment})})):""}),t.state={expandBadComments:!1},t}return u()(r,[{key:"render",value:function(){var t=this;return q.a.createElement("div",{className:"GalleryComment-replies"},this.props.replies.filter(function(e){return 0<=e.get("point_count")}).map(function(e){return q.a.createElement(Zr,{key:e.get("id"),comment:e,isSubComment:!0,level:t.props.level,expandMode:t.props.expandMode,onCreateComment:t.props.onCreateComment})}),this.renderBadComments())}}]),r}(q.a.Component);Yr.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentReplies",props:{replies:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},level:{type:{name:"number"},required:!0,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""}}};n("GGeJ");function Jr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Kr=function(e){d()(n,e);var t=Jr(n);function n(e){var s;return l()(this,n),s=t.call(this,e),O()(f()(s),"isCommentExpanded",function(e){return e.expandMode===Ye.e&&e.level<Ye.a&&0<e.comment.get("comments").size}),O()(f()(s),"hasMoreComments",function(){var e=s.props,t=e.level,n=e.comment;return t===Ye.a&&(0<n.get("comments").size||n.get("next"))}),O()(f()(s),"toggleReplies",function(e){s.setState({expanded:e})}),O()(f()(s),"onReply",function(e){var t=s.props,n=t.isUserLoggedOut,r=t.showPopOver;if(e.stopPropagation(),n)return r(Xn.k,e.currentTarget);s.setState({reply:!0})}),O()(f()(s),"onCloseReply",function(){s.setState({reply:!1})}),O()(f()(s),"onCreate",function(e){var t=e.comment,n=e.hasAdminBadge,r=e.file,a=s.props;(0,a.onCreateComment)({comment:t,hasAdminBadge:n,parentId:a.comment.get("id"),file:r}),s.setState({reply:!1,expanded:!0})}),O()(f()(s),"onVote",function(e,t){var n=s.props,r=n.comment,a=n.onVote,o=n.isUserLoggedOut,i=n.showPopOver,c=n.vote;return e.stopPropagation(),o?i(t===Re.b?Xn.f:Xn.d,e.currentTarget):a(r.get("id"),t,c)}),O()(f()(s),"onProfileClick",function(e){var t=s.props,n=t.comment;return(0,t.onProfileClick)(n.get("account_id"),e)}),O()(f()(s),"onUserProfileClick",function(){return s.onProfileClick("Username Comment")}),O()(f()(s),"onAvatarProfileClick",function(){return s.onProfileClick("Avatar Comment")}),O()(f()(s),"onContainerClick",function(e){var t=s.state.expanded;0<s.props.comment.get("comments").size&&"A"!==e.target.tagName&&s.setState({expanded:!t})}),O()(f()(s),"loadMore",function(e){var t=s.props,n=t.comment,r=t.history;e.stopPropagation(),r.push(Object(de.d)(n.get("post_id"),n.get("id")))}),O()(f()(s),"onGiveEmerald",function(){var e=s.props,t=e.giveEmeraldData,n=e.comment,r=n.getIn(["account"]);t({recipientUsername:r.get("username"),recipientId:r.get("id"),source:Te.l,sourceURL:j.V+Object(de.c)(n.get("post_id"),n.get("id")),postId:n.get("post_id"),commentId:n.get("id")})}),s.state={expanded:s.isCommentExpanded(s.props),reply:!1},s}return u()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.expandMode,n=this.state.expanded;e.expandMode!==t&&(n&&t<=Ye.d?this.setState({expanded:!1}):!n&&this.isCommentExpanded(this.props)&&this.setState({expanded:!0}))}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.isSubComment,r=e.opUsername,a=e.level,o=e.displayUsername,i=e.vote,c=e.expandMode,s=e.onCreateComment,l=e.postMedia,u=e.isUserLoggedOut,d=e.currentUsername,m=e.isPromotedPost,p=this.state,f=p.expanded,h=p.reply,g=t.getIn(["account","username"]),y=t.get("comments"),b=$()({"GalleryComment-wrapper":!0,"comment-op":g===r,"comment-admin":t.get("has_admin_badge")}),v=this.hasMoreComments();return q.a.createElement("div",{className:"GalleryComment"},q.a.createElement("div",{className:b},q.a.createElement("div",{className:"hover-background"}),q.a.createElement("div",{className:"GalleryComment-container",onClick:this.onContainerClick},q.a.createElement("div",{className:"GalleryComment-content"},q.a.createElement(Br,{username:g,hasOpBadge:g===r,hasAdminBadge:t.get("has_admin_badge"),onAvatarProfileClick:this.onAvatarProfileClick,onUserProfileClick:this.onUserProfileClick,isSubComment:n,commentId:t.get("id"),parentId:t.get("parent_id"),postId:t.get("post_id"),platform:t.get("platform"),createdAtDate:t.get("created_at"),avatar:t.getIn(["account","avatar"]),rank:t.get("rank"),onGiveEmerald:this.onGiveEmerald,isUserLoggedIn:!u,currentUsername:d,isPromotedPost:m}),q.a.createElement("div",{className:"GalleryComment-body"},q.a.createElement(Mr.a,{expandlink:"true",opUsername:r,isLinkifyTargetMedia:!0,postMedia:l},t.get("comment"))),q.a.createElement(Hr,{replies:y,toggleReplies:this.toggleReplies,isExpanded:f,onReply:this.onReply,showReply:!h&&!v,vote:i,onVote:this.onVote,pointCount:t.get("point_count"),hasMoreComments:v,loadMore:this.loadMore})))),h&&q.a.createElement("div",{className:"GalleryComment-reply"},q.a.createElement("div",{className:"avatar"},q.a.createElement(Pt.b,{displayUsername:o}),q.a.createElement("div",{className:"verticalLine"})),q.a.createElement(xr,{onCreate:this.onCreate,onClose:this.onCloseReply,placeholder:Object(S.b)("commentWriteReply"),autoFocus:!0})),f&&!v&&q.a.createElement(Yr,{replies:y,level:a+1,expandMode:c,onCreateComment:s}))}}]),n}(q.a.Component);Kr.defaultProps={level:1},Kr.__docgenInfo={description:"",methods:[{name:"isCommentExpanded",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"hasMoreComments",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleReplies",docblock:null,modifiers:[],params:[{name:"expand",type:null}],returns:null},{name:"onReply",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onCloseReply",docblock:null,modifiers:[],params:[],returns:null},{name:"onCreate",docblock:null,modifiers:[],params:[{name:"{\n    comment: commentString,\n    hasAdminBadge,\n    file,\n}",type:null}],returns:null},{name:"onVote",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"vote",type:null}],returns:null},{name:"onProfileClick",docblock:null,modifiers:[],params:[{name:"location",type:null}],returns:null},{name:"onUserProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onAvatarProfileClick",docblock:null,modifiers:[],params:[],returns:null},{name:"onContainerClick",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"loadMore",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onGiveEmerald",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Comment",props:{level:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},comment:{type:{name:"object"},required:!0,description:""},isSubComment:{type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!0,description:""},showPopOver:{type:{name:"func"},required:!0,description:""},opUsername:{type:{name:"string"},required:!1,description:""},isUserLoggedOut:{type:{name:"bool"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},displayUsername:{type:{name:"string"},required:!0,description:""},currentUsername:{type:{name:"string"},required:!0,description:""},vote:{type:{name:"string"},required:!1,description:""},onProfileClick:{type:{name:"func"},required:!0,description:""},history:{type:{name:"object"},required:!0,description:""},postMedia:{type:{name:"object"},required:!0,description:""},giveEmeraldData:{type:{name:"func"},required:!0,description:""},isPromotedPost:{type:{name:"bool"},required:!0,description:""}}};var Zr=Object(ie.d)(Object(ee.b)(function(e,t){var n=e.postsData,r=e.user,a=t.comment;return{opUsername:n.getIn(["currentPost","account","username"]),postMedia:n.getIn(["currentPost","media"]),isPromotedPost:n.getIn(["currentPost","isAd"]),vote:n.getIn(["currentPostMeta","user","comment_votes","".concat(a.get("id"))]),isUserLoggedOut:!r.get("isLoggedIn"),displayUsername:r.get("displayUsername")||"",currentUsername:r.get("username")||""}},{onVote:Je.C,showPopOver:Xn.s,onProfileClick:oe.Y,giveEmeraldData:He.s}),b.h)(Kr);n("q8cC");function Qr(e){var t=e.count,n=void 0===t?1:t;return q.a.createElement("div",{className:"CommentsList-Placeholder-wrapper"},function(){for(var e=[],t=0;t<n;t++)e.push(q.a.createElement("div",{key:t,className:"CommentsList-Placeholder"},q.a.createElement("div",{className:"CommentsList-Placeholder-avatar-wrapper"},q.a.createElement("div",{className:"CommentsList-Placeholder-avatar"})),q.a.createElement("div",{className:"CommentsList-Placeholder-line-wrapper"},q.a.createElement("div",{className:"CommentsList-Placeholder-line"}),q.a.createElement("div",{className:"CommentsList-Placeholder-line"}),q.a.createElement("div",{className:"CommentsList-Placeholder-line"}),q.a.createElement("div",{className:"CommentsList-Placeholder-line"}))));return e}())}Qr.__docgenInfo={description:"",methods:[],displayName:"CommentsPlaceholder",props:{count:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""}}};n("B0tv");function Xr(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var $r=function(e){d()(n,e);var t=Xr(n);function n(e){var i;return l()(this,n),i=t.call(this,e),O()(f()(i),"toggleBadComments",function(){i.setState(function(e){return{expandBadComments:!e.expandBadComments}})}),O()(f()(i),"shouldRefetchComments",function(e){var t=i.props,n=t.postId,r=t.commentId,a=t.parentContext,o=t.isUserLoaded;return e.postId!==n||e.commentId!==r||e.parentContext!==a||e.isUserLoaded!==o}),O()(f()(i),"loadMoreHandler",function(){var e=i.props,t=e.commentsSort,n=e.postCommentsNextPageLink;(0,e.fetchComments)(t,n)}),O()(f()(i),"renderEmptyState",function(){return q.a.createElement("div",{className:"CommentsList-comments--empty"},q.a.createElement(Ie.Z,{name:Ie.p,width:92}),q.a.createElement("span",null,Object(S.b)("beTheFirstToComment")))}),O()(f()(i),"renderBadComments",function(e){var t=i.props,a=t.expandMode,o=t.onCreateComment,n=i.state.expandBadComments,r=e.filter(function(e){return e.get("point_count")<0});return r.size?q.a.createElement("div",null,q.a.createElement("button",{className:"toggle-bad-comments",type:"button",onClick:i.toggleBadComments},q.a.createElement(A.cb,{name:n?A.Y:A.Z,width:"16",height:"16"}),q.a.createElement("span",null,Object(S.b)("commentToggleBadComments",n))),n&&r.entrySeq().map(function(e){var t=nr()(e,2),n=t[0],r=t[1];return q.a.createElement(Zr,{key:n,comment:r,expandMode:a,onCreateComment:o})})):""}),O()(f()(i),"renderLoadingComponent",function(){var e=i.props,t=e.isMainContentReady,n=e.isLoading,r=e.isAllCommentsLoaded,a=e.parentContext;return t&&!n?!r&&!a&&q.a.createElement(cn,{message:Object(S.b)("loadMoreComments"),onClick:i.loadMoreHandler}):q.a.createElement(Qr,{count:3})}),i.commentsListContainer=Object(P.createRef)(),i.state={expandBadComments:!1,commentsListContainerStyles:{}},i}return u()(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchComments)()}},{key:"componentWillUnmount",value:function(){(0,this.props.resetPostCommentsAction)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.resetPostCommentsAction,r=t.fetchComments;this.shouldRefetchComments(e)&&(n(),r())}},{key:"render",value:function(){var t=this,e=this.props,n=e.comments,r=e.postId,a=e.isMainContentReady,o=e.isLoading,i=e.commentId,c=e.expandMode,s=e.onCreateComment,l=this.state.commentsListContainerStyles;return q.a.createElement("div",{className:"CommentsList-comments",ref:function(e){t.commentsListContainer=e},style:l},i&&q.a.createElement("div",{className:"single-comment-thread"},q.a.createElement("span",null,Object(S.b)("viewingSingleComment")),q.a.createElement("p",null,q.a.createElement(ue.a,{to:"/".concat(D.m,"/").concat(r),className:"load-more"},Object(S.b)("seeRestComments")))),q.a.createElement("div",{className:"CommentsList-comments--container"},a&&0<n.size&&n.filter(function(e){return 0<=e.get("point_count")}).entrySeq().map(function(e){var t=nr()(e,2),n=t[0],r=t[1];return q.a.createElement(Zr,{key:n,comment:r,expandMode:c,onCreateComment:s})}),a&&this.renderBadComments(n),!n.size&&!o&&this.renderEmptyState()),q.a.createElement("div",{className:"CommentsList-comments--loading"},this.renderLoadingComponent()))}}]),n}(q.a.Component);$r.__docgenInfo={description:"",methods:[{name:"toggleBadComments",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldRefetchComments",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"loadMoreHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"renderEmptyState",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBadComments",docblock:null,modifiers:[],params:[{name:"comments",type:null}],returns:null},{name:"renderLoadingComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CommentsList",props:{postId:{type:{name:"string"},required:!0,description:""},comments:{type:{name:"object"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},postCommentsNextPageLink:{type:{name:"string"},required:!1,description:""},id:{type:{name:"string"},required:!0,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isAllCommentsLoaded:{type:{name:"bool"},required:!1,description:""},isMainContentReady:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},isUserLoaded:{type:{name:"bool"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},expandMode:{type:{name:"number"},required:!0,description:""},onCreateComment:{type:{name:"func"},required:!0,description:""},fetchComments:{type:{name:"func"},required:!0,description:""}}};var ea=Object(ee.b)(function(e){var t=e.postsData,n=e.comments,r=e.ui,a=e.user;return{postId:t.get("currentPost").get("id"),comments:n.get("postComments"),commentsSort:n.get("postCommentsSort"),postCommentsNextPageLink:n.get("postCommentsNextPageLink"),isLoading:r.spinner.get("postComments",{}).loading||!1,isAllCommentsLoaded:n.get("isAllPostCommentsLoaded"),isMainContentReady:t.get("isMainContentReady"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded")}},{resetPostCommentsAction:Je.z,commentSortSelectedAction:Je.p})($r),ta=n("gjSL");n("QqH4");function na(){return q.a.createElement("div",{className:"Comment-create"},q.a.createElement("div",{className:"Comment-create-guest"},q.a.createElement("span",{className:"placeholder"},Object(S.b)("signInToLeaveComment")),q.a.createElement("div",null,q.a.createElement(Ne.b,{className:"Button signin",label:Object(S.b)("signIn"),title:Object(S.b)("signIn"),href:Object(ta.a)()}),q.a.createElement(Ne.b,{className:"Button signup",label:Object(S.b)("signUp"),title:Object(S.b)("signUp"),href:Object(ta.b)()}))))}function ra(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}na.__docgenInfo={description:"",methods:[],displayName:"SignInToLeaveComment"};var aa=function(e){d()(n,e);var t=ra(n);function n(e){var m;return l()(this,n),m=t.call(this,e),O()(f()(m),"expandAll",function(){m.setState({expandMode:Ye.e})}),O()(f()(m),"collapseAll",function(){m.setState(function(e){return{expandMode:Ye.d-Math.abs(e.expandMode)}})}),O()(f()(m),"handleClickToggleForceExpanded",function(){m.state.expandMode!==Ye.e?m.expandAll():m.collapseAll()}),O()(f()(m),"onKeyboardInteraction",function(e){if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case"[":m.handleClickToggleForceExpanded(e);break;case"]":m.collapseAll()}return e}),O()(f()(m),"createComment",function(e){var t=e.comment,n=e.hasAdminBadge,r=void 0!==n&&n,a=e.parentId,o=void 0===a?null:a,i=e.file,c=void 0===i?null:i,s=m.props,l=s.postId;(0,s.createPostCommentAction)({imageId:l,comment:t,parentId:o,hasAdminBadge:r,file:c})}),O()(f()(m),"fetchComments",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=m.props,r=n.id,a=n.fetchPostCommentsAction,o=n.commentId,i=n.parentContext,c=n.scrollToComments,s=n.contentOffset,l=n.galleryId,u=n.isUserLoggedIn;if(n.isUserLoaded){var d=u?Ye.h:Ye.i;t&&(d=Ye.g),a(l,e,t,o,0!==i,d),o&&c(r,s)}}),O()(f()(m),"setPlaceholderHeight",function(){m.setState({commentsListContainerStyles:{minHeight:"".concat(m.commentsListContainer.current.getBoundingClientRect().height,"px")}})}),O()(f()(m),"sortHandler",function(e){var t=m.props,n=t.commentSortSelectedAction,r=t.resetPostCommentsAction;m.setPlaceholderHeight(),r(),m.fetchComments(e),n(e)}),m.commentsListContainer=q.a.createRef(),m.state={expandMode:e.commentId?Ye.e:Ye.c,commentsListContainerStyles:{}},m}return u()(n,[{key:"componentDidMount",value:function(){Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentWillUnmount",value:function(){Object(N.mb)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.postId,r=t.commentId,a=t.comments;!e.commentId&&r&&this.expandAll(),e.commentId&&!r&&e.postId===n&&this.setState({expandMode:Ye.d}),a.size&&!Object(kr.is)(e.comments,a)&&this.setState({commentsListContainerStyles:{}})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.lazyLoad,r=e.postId,a=e.isUserLoggedIn,o=e.commentsSortList,i=e.commentsSort,c=e.commentCount,s=e.parentContext,l=e.commentId,u=this.state,d=u.expandMode,m=u.commentsListContainerStyles,p=d===Ye.e,f=q.a.createElement(ea,{id:t,expandMode:d,onCreateComment:this.createComment,fetchComments:this.fetchComments,parentContext:s,commentId:l});return q.a.createElement("div",{id:t,className:"CommentsList",ref:this.commentsListContainer,style:m},a?q.a.createElement(xr,{key:"commentForm-".concat(r),onCreate:this.createComment}):q.a.createElement(na,null),q.a.createElement("div",{id:"".concat(t,"-headline"),className:"CommentsList-headline"},q.a.createElement("div",{className:"CommentsList-headline--counter"},q.a.createElement("span",null,Object(S.b)("postCommentsCounter",Object(xe.h)(c)))),q.a.createElement("div",{className:"CommentsList-headline--expand",onClick:this.handleClickToggleForceExpanded},q.a.createElement("span",null,Object(S.b)("expandAll",p))," ",q.a.createElement(A.cb,{name:p?A.T:A.V,width:"15",height:"15",fillColor:"#DADCE2"})),q.a.createElement(At.a,{className:"CommentsList-headline--sort",dropdownIcon:q.a.createElement(Ie.Z,{name:Ie.f,width:15}),options:o,value:i,onChange:this.sortHandler})),n?q.a.createElement(W,{lazyLoadBuffer:400},function(){return f}):f)}}]),n}(q.a.Component);aa.__docgenInfo={description:"",methods:[{name:"expandAll",docblock:null,modifiers:[],params:[],returns:null},{name:"collapseAll",docblock:null,modifiers:[],params:[],returns:null},{name:"handleClickToggleForceExpanded",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"createComment",docblock:null,modifiers:[],params:[{name:"{\n    comment,\n    hasAdminBadge = false,\n    parentId = null,\n    file = null,\n}",type:null}],returns:null},{name:"fetchComments",docblock:null,modifiers:[],params:[{name:"sort",type:null},{name:"postCommentsNextPageLink",type:null}],returns:null},{name:"setPlaceholderHeight",docblock:null,modifiers:[],params:[],returns:null},{name:"sortHandler",docblock:null,modifiers:[],params:[{name:"sort",type:null}],returns:null}],displayName:"CommentsListWrapper",props:{id:{type:{name:"string"},required:!0,description:""},lazyLoad:{type:{name:"bool"},required:!0,description:""},postId:{type:{name:"string"},required:!0,description:""},isUserLoggedIn:{type:{name:"bool"},required:!1,description:""},comments:{type:{name:"object"},required:!0,description:""},commentsSortList:{type:{name:"array"},required:!0,description:""},commentsSort:{type:{name:"string"},required:!0,description:""},commentCount:{type:{name:"number"},required:!0,description:""},commentId:{type:{name:"string"},required:!1,description:""},isUserLoaded:{type:{name:"bool"},required:!1,description:""},parentContext:{type:{name:"number"},required:!1,description:""},contentOffset:{type:{name:"number"},required:!0,description:""},galleryId:{type:{name:"string"},required:!1,description:""},createPostCommentAction:{type:{name:"func"},required:!0,description:""},commentSortSelectedAction:{type:{name:"func"},required:!0,description:""},fetchPostCommentsAction:{type:{name:"func"},required:!0,description:""},resetPostCommentsAction:{type:{name:"func"},required:!0,description:""},scrollToComments:{type:{name:"func"},required:!0,description:""}}};var oa=Object(b.h)(Object(ee.b)(function(e,t){var n=e.postsData,r=e.comments,a=e.user,o=e.ui,i=t.match;return{postId:n.get("currentPost").get("id"),commentCount:n.getIn(["currentPostMeta","post","comment_count"],0),commentId:(i.params||{}).commentId||null,comments:r.get("postComments"),commentsSort:r.get("postCommentsSort"),commentsSortList:r.get("postCommentsSortList"),isUserLoggedIn:a.get("isLoggedIn"),isUserLoaded:a.get("isLoaded"),parentContext:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.showContext,r=t.commentId;return n||(r?1:0)}(i.params),contentOffset:o.cover.get("collapsed",0),galleryId:(i.params||{}).galleryId}},{createPostCommentAction:Je.r,commentSortSelectedAction:Je.p,fetchPostCommentsAction:Je.t,resetPostCommentsAction:Je.z,scrollToComments:Qn.g})(aa));function ia(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var ca=function(e){d()(r,e);var n=ia(r);function r(e){var t;return l()(this,r),t=n.call(this,e),O()(f()(t),"onResize",function(e){t.updateContentWrapperWidth(e)}),O()(f()(t),"updateContentWrapperWidth",function(){(0,t.props.updateGalleryContentWrapperWidth)(t.getMaxWidth())}),O()(f()(t),"getMaxWidth",function(){var e=t.contentWrapper.current;return e&&e.getBoundingClientRect().width||Ct.q}),t.contentWrapper=q.a.createRef(),t}return u()(r,[{key:"componentDidMount",value:function(){Object(N.c)("resize",this.onResize),this.updateContentWrapperWidth(this.getMaxWidth())}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.transformationAnimating,r=e.transformationTitleStyle,a=e.isFadeOut,o=e.style,i=e.commentsListId,c=e.isContentWrapperMount,s=e.commentPermalinkId;return q.a.createElement(vt.c,{isLoading:!t},t?q.a.createElement("div",{className:"Gallery".concat(n?" Gallery--transformation":""),style:o},q.a.createElement("div",{className:"Gallery-MainContainer".concat(a?" fadeOut":"")},q.a.createElement(Er,{post:t,commentsListId:i}),q.a.createElement("div",{className:"Gallery-contentWrapper"},q.a.createElement("div",{className:"Gallery-insideContentWrapper",ref:this.contentWrapper},c&&q.a.createElement(yn,{post:t,transformationTitleStyle:r}),c&&!t.get("commentsDisabled")&&q.a.createElement(oa,{id:i,lazyLoad:!s})))),q.a.createElement("div",{className:"Gallery-Sidebar"},q.a.createElement(Jn,null))):q.a.createElement("div",{className:"placeholder"}))}}]),r}(q.a.Component);ca.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"updateContentWrapperWidth",docblock:null,modifiers:[],params:[],returns:null},{name:"getMaxWidth",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostContentWrapper",props:{post:{type:{name:"object"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},isFadeOut:{type:{name:"bool"},required:!1,description:""},style:{type:{name:"object"},required:!1,description:""},commentsListId:{type:{name:"string"},required:!1,description:""},isContentWrapperMount:{type:{name:"bool"},required:!1,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!1,description:""},commentPermalinkId:{type:{name:"string"},required:!1,description:""}}};n("CVa3");function sa(e){var t=e.style,n=e.children,r=e.showGate,a=Object(S.b)("desktopAgeGate"),o=Object(P.useState)(!1),i=nr()(o,2),c=i[0],s=i[1];return r&&!c?q.a.createElement("div",{className:"WallPage"},q.a.createElement("div",{className:"WallPage-background"}),q.a.createElement(te.a,{minHeight:0,className:"GalleryCover",backgroundType:k.n,hideNewPostNotification:!0}),q.a.createElement("div",{className:"Wall",style:t},q.a.createElement("img",{src:Ie.a[Ie.I]}),a.text,q.a.createElement("div",{className:"Wall-choices"},q.a.createElement("a",{className:"Wall-Button Button btn-wall--no",href:"/"},a.backButton),q.a.createElement("div",{className:"Wall-Button Button btn-wall--yes",onClick:function(){return s(!0)}},a.continueButton)),q.a.createElement("div",{className:"Wall-footer"},a.terms))):n}function la(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}sa.__docgenInfo={description:"",methods:[],displayName:"Wall",props:{style:{type:{name:"object"},required:!1,description:""},children:{type:{name:"element"},required:!1,description:""},showGate:{type:{name:"bool"},required:!1,description:""}}};var ua=function(e){d()(n,e);var t=la(n);function n(e){var d;return l()(this,n),d=t.call(this,e),O()(f()(d),"onResize",function(e){(0,d.props.updateViewportHeightAction)(e)}),O()(f()(d),"scrollToFirstMedia",function(){var e=Object(N.L)(),t=d.props.byLinePosition;(d.state.previousByLinePosition-26<=e||t-25<e)&&Object(N.tb)(0,t-25)}),O()(f()(d),"onKeyboardInteraction",function(e){var t=d.props,n=t.history,r=t.newPostAction,a=t.goToPreviousPostAction,o=t.goToNextPostAction,i=t.params,c=t.toggleAudioState;if(e.target&&["INPUT","TEXTAREA"].includes(e.target.tagName))return e;switch(e.key){case E.f:case E.e:d.lastNavArrow=!0,a(I.n.HOTKEY,i);break;case E.h:case E.g:d.lastNavArrow=!0,o(I.n.HOTKEY,i);break;case"`":r(),n.push("/".concat(D.y));break;case"m":case"M":c()}return e}),O()(f()(d),"retrievePost",function(e){var t=d.props,n=t.params,r=t.post,a=t.retrievePostAction,o=t.retrievePostMetaAction,i=t.retrievePromotedPostAction,c=t.failedFetchAttempts,s=t.toastError,l=t.incomingPost,u=d.state.setToast;3!==c?r&&!l&&r.get("id")===e||(l&&l.get("isAdInserted")?i(e):l&&l.get("inGallery")&&l.get("media")&&0<l.get("media").size?o(e,l):a(e)):u||(d.setState({setToast:!0}),s({id:"post-".concat(n.galleryId),description:Object(S.b)("errorLoadingPost")}))}),O()(f()(d),"calculateTopOffset",function(e){return Math.max(0,e-k.h)}),O()(f()(d),"onScroll",function(){var e=d.props,t=e.reachedBottom,n=e.post,r=e.isLoading,a=e.isCommentsLoading,o=Object(N.ab)(),i=Object(N.t)(),c=Object(N.r)(),s=o+i;c-I.o<=s&&n&&!d.reachedBottomSent&&!r&&!a&&(t(n,c),d.reachedBottomSent=!0)}),d.state={isFadeOut:!1,isContentWrapperMount:!1,setToast:!1,prevPostId:null,previousByLinePosition:e.byLinePosition},d.reachedBottomSent=!1,d.lastNavArrow=!1,d}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.params,n=e.retrievePostAction,r=t.galleryId;n&&this.retrievePost(r);var a=this.props.history;a&&"PUSH"===a.action&&Object(N.tb)(0,0),Object(N.c)("keydown",this.onKeyboardInteraction)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.params,r=t.post,a=t.isLoading,o=t.promotedPostViewAction,i=t.setTransformationAction,c=t.sctuLoaded,s=t.isPromotedTransformation,l=t.transformationEnabled,u=t.updateAdConfigAction,d=t.sendToTop,m=t.retrievePostAction,p=this.state.isFadeOut,f=n.galleryId;if((!e.retrievePostAction&&m||r&&f!==r.get("id")&&!a)&&(this.retrievePost(f),this.reachedBottomSent=!1),p&&(this.lastNavArrow&&c||d?Object(N.sb)(function(){return Object(N.tb)(0,0)}):Object(N.sb)(this.scrollToFirstMedia),this.lastNavArrow=!1),r&&!e.post&&Object(N.sb)(function(){return Object(N.Eb)("resize")}),r){var h=!e.post||r.get("id")!==e.post.get("id"),g=!r.getIn(["adConfig","showsAds"])&&e.post&&e.post.getIn(["adConfig","showsAds"]);r.get("isAd")&&h?(o(r.get("id")),!s&&l&&i(!1,!1)):g&&!s&&!r.get("inGallery")&&l&&i(!1,!1),!h||r.get("inGallery")||r.getIn(["adConfig","showsAds"])||u({enabled:!1})}}},{key:"componentWillUnmount",value:function(){var e=this.props.resetPostDataAction;Object(N.mb)("resize",this.onResize),Object(N.mb)("keydown",this.onKeyboardInteraction),e()}},{key:"shouldShowGate",value:function(){var e=this.props,t=e.isLoggedIn,n=e.post;if(t||!n||n.get("inGallery"))return!1;var r=n.getIn(["adConfig","wallFlags"]);return r&&r.includes(w.k)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.topOffset,r=e.isLoggedIn,a=e.transformationAnimating,o=e.transformationCoverStyle,i=e.transformationBackgroundStyle,c=e.transformationTitleStyle,s=e.postpageBetaOptOutAction,l=e.adsEnabled,u=e.updateGalleryContentWrapperWidth,d=e.params,m=e.isMainContentReady,p=this.state,f=p.isFadeOut,h=p.isContentWrapperMount,g={marginTop:this.calculateTopOffset(n)},y="CommentsList-".concat(t&&t.get("id"));return q.a.createElement(sa,{showGate:this.shouldShowGate()},q.a.createElement("div",{className:"GalleryPage",style:i},q.a.createElement(Q,{post:t}),q.a.createElement(J.a,null),q.a.createElement(G.d,null),q.a.createElement(lt,null),r&&q.a.createElement(q.a.Fragment,null,q.a.createElement(qe,null),q.a.createElement(De,null),q.a.createElement(Ze,null),q.a.createElement(at,null)),q.a.createElement(ze,null),q.a.createElement(H.a,null),q.a.createElement(z.a,null),q.a.createElement(Y.a,null),q.a.createElement("div",{className:"GalleryPage-background",style:o}),q.a.createElement(ke,null),q.a.createElement(ca,{style:g,post:t,transformationAnimating:a,transformationTitleStyle:c,isFadeOut:f,commentsListId:y,isContentWrapperMount:h,updateGalleryContentWrapperWidth:u,commentPermalinkId:d.commentId}),q.a.createElement("div",{className:"badges-wrapper"},r&&q.a.createElement(T,{href:j.K}),q.a.createElement(R,{onPostPageOptOut:s}),q.a.createElement(_.a,null)),t&&l&&q.a.createElement(pt,{post:t}),t&&m&&q.a.createElement(W,{lazyLoadBuffer:800},function(){return q.a.createElement(bt,{adsEnabled:l,adConfig:t.get("ad_config")})}),q.a.createElement(U.a,null),q.a.createElement(F,{onScroll:this.onScroll})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.failedFetchAttempts,r=e.isLoading,a=e.isLoadingMeta,o=e.post,i=e.byLinePosition,c=t.setToast,s=t.prevPostId,l=t.isFadeOut;if(o&&o.get("id")!==s)return{prevPostId:o.get("id"),isContentWrapperMount:!0,setToast:!1};if(0===n&&c)return{setToast:!1};if(o&&(r||a)){if(!l)return{previousByLinePosition:i,isFadeOut:!0}}else if(l)return{isFadeOut:!1};return null}}]),n}(q.a.Component);ua.defaultProps={failedFetchAttempts:0};var da=function(e,t){var n=e.postsData,r=e.posts,a=e.ui,o=e.user,i=e.ad,c=i.getIn(["transformation","enabled"]),s={},l={},u={};if(i.getIn(["transformation","animatingIn"])&&(s={opacity:0}),c){var d=i.getIn(["transformation","backgroundColor"]);s={background:"linear-gradient(rgba(".concat(d,", 0.4) 0%, rgba(").concat(d,", 1) 100%), url(").concat(i.getIn(["transformation","backgroundImage"]),")"),opacity:i.getIn(["transformation","animatingOut"])?0:1},l={background:"rgb(".concat(i.getIn(["transformation","backgroundColor"]),")")},u={fontFamily:i.getIn(["transformation","fontFamily"]),fontSize:i.getIn(["transformation","titleFontSize"])}}return{post:n.get("currentPost"),incomingPost:r.getIn(["posts",C()(t,"match.params.galleryId")]),isMainContentReady:n.get("isMainContentReady"),topOffset:a.cover.get("height"),isLoggedIn:!!o.get("isLoggedIn"),isLoading:a.spinner.get("retrievePost",{}).loading,isLoadingMeta:a.spinner.get("retrievePostMeta",{}).loading,isCommentsLoading:a.spinner.get("postComments",{}).loading||!1,byLinePosition:n.get("byLinePosition"),sctuLoaded:i.get("sctuLoaded"),adsEnabled:Object(K.d)(i,o),isPromotedTransformation:i.getIn(["transformation","promotedPostIds"]).includes(n.getIn(["currentPost","id"])),transformationAnimating:i.getIn(["transformation","animatingIn"])||i.getIn(["transformation","animatingOut"]),transformationCoverStyle:s,transformationBackgroundStyle:l,transformationTitleStyle:u,transformationEnabled:c,failedFetchAttempts:n.get("error").failedFetchAttempts,sendToTop:C()(t,"location.state.sendToTop",!1)}};function ma(e){var t=Object(b.g)();return q.a.createElement(ua,p()({params:t},e))}ua.__docgenInfo={description:"",methods:[{name:"onResize",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"scrollToFirstMedia",docblock:null,modifiers:[],params:[],returns:null},{name:"onKeyboardInteraction",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"retrievePost",docblock:null,modifiers:[],params:[{name:"galleryId",type:null}],returns:null},{name:"calculateTopOffset",docblock:null,modifiers:[],params:[{name:"coverHeight",type:null}],returns:null},{name:"onScroll",docblock:null,modifiers:[],params:[],returns:null},{name:"shouldShowGate",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostDetail",props:{failedFetchAttempts:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},params:{type:{name:"object"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""},post:{type:{name:"object"},required:!1,description:""},incomingPost:{type:{name:"object"},required:!1,description:""},topOffset:{type:{name:"number"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isLoading:{type:{name:"bool"},required:!1,description:""},isLoadingMeta:{type:{name:"bool"},required:!1,description:""},byLinePosition:{type:{name:"number"},required:!1,description:""},isCommentsLoading:{type:{name:"bool"},required:!1,description:""},transformationAnimating:{type:{name:"bool"},required:!1,description:""},transformationCoverStyle:{type:{name:"object"},required:!1,description:""},transformationBackgroundStyle:{type:{name:"object"},required:!1,description:""},transformationTitleStyle:{type:{name:"object"},required:!1,description:""},transformationEnabled:{type:{name:"bool"},required:!1,description:""},sctuLoaded:{type:{name:"bool"},required:!1,description:""},adsEnabled:{type:{name:"bool"},required:!0,description:""},setTransformationAction:{type:{name:"func"},required:!1,description:""},toggleAudioState:{type:{name:"func"},required:!1,description:""},isPromotedTransformation:{type:{name:"bool"},required:!1,description:""},postpageBetaOptOutAction:{type:{name:"func"},required:!0,description:""},promotedPostViewAction:{type:{name:"func"},required:!0,description:""},reachedBottom:{type:{name:"func"},required:!0,description:""},updateViewportHeightAction:{type:{name:"func"},required:!0,description:""},updateGalleryContentWrapperWidth:{type:{name:"func"},required:!0,description:""},goToNextPostAction:{type:{name:"func"},required:!0,description:""},goToPreviousPostAction:{type:{name:"func"},required:!0,description:""},newPostAction:{type:{name:"func"},required:!0,description:""},retrievePostAction:{type:{name:"func"},required:!0,description:""},retrievePromotedPostAction:{type:{name:"func"},required:!0,description:""},retrievePostMetaAction:{type:{name:"func"},required:!0,description:""},resetPostDataAction:{type:{name:"func"},required:!0,description:""},toastError:{type:{name:"func"},required:!0,description:""},isMainContentReady:{type:{name:"bool"},required:!0,description:""},updateAdConfigAction:{type:{name:"func"},required:!0,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}},ma.__docgenInfo={description:"",methods:[],displayName:"PostDetailWithParams"}},QFwP:function(e,t,n){},QqH4:function(e,t,n){},"R/W3":function(e,t,n){var r=n("KwMD"),a=n("2ajD"),o=n("CZoQ");e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},Rhnt:function(e,t,n){},SeDK:function(e,t,n){},T7zL:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("q1tI"),i=n.n(r),c=(n("17x9"),n("G5ih")),s=n("gGMO"),l=n("Nm7g");n("pxaO");function a(e){var t=e.points,n=e.ups,r=e.downs,a=66*Math.PI,o=n*a/(n+r);return i.a.createElement("div",{className:"ChartData"},i.a.createElement("div",{className:"Chart"},i.a.createElement("svg",{width:"192",height:"192",viewBox:"14 0 178 192",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{filter:"url(#filter0_d)"},i.a.createElement("g",{filter:"url(#filter1_d)"},i.a.createElement("circle",{cx:"96",cy:"86",r:"65",fill:"#FE6065"})),i.a.createElement("circle",{r:"33",cx:"0",cy:"0",stroke:"#2FBE7C",strokeWidth:"97",strokeDasharray:"".concat(o," ").concat(a),transform:"rotate(-90) scale(1, -1) translate(-86, -96)"}),i.a.createElement("g",{filter:"url(#filter2_d)"},i.a.createElement("circle",{cx:"96",cy:"86",r:"50",fill:"#3C424B"})),i.a.createElement("text",{x:"96",y:"82",textAnchor:"middle",className:"points"},Object(l.h)(t)),i.a.createElement("text",{x:"96",y:"100",textAnchor:"middle",className:"pointsLabel"},Object(c.b)("statisticsDialogPoints"))),i.a.createElement("defs",null,i.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"192",height:"192",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"10"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter1_d",x:"17",y:"17",width:"158",height:"158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"10"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),i.a.createElement("filter",{id:"filter2_d",x:"32",y:"24",width:"128",height:"128",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),i.a.createElement("feOffset",{dy:"2"}),i.a.createElement("feGaussianBlur",{stdDeviation:"7"}),i.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),i.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),i.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))),i.a.createElement("div",{className:"Votes"},i.a.createElement("div",{className:"ups"},i.a.createElement(s.b,{isMini:!0,selected:!0})," ",Object(l.h)(n)),i.a.createElement("div",{className:"downs"},i.a.createElement(s.a,{isMini:!0,selected:!0})," ",Object(l.h)(r))))}a.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{points:{type:{name:"number"},required:!0,description:""},ups:{type:{name:"number"},required:!0,description:""},downs:{type:{name:"number"},required:!0,description:""}}}},Uyyq:function(e,t,n){e.exports=n.p+"desktop-assets/drag.660828a621ac6ca507e8b0ec53165870.png"},Uz4u:function(e,t,n){e.exports=n.p+"desktop-assets/ReactionGifEmptySearch.2ac15cedf0d98e71a201086d56b96c2a.svg"},Uzvo:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("pVnL"),g=n.n(r),a=n("lSNA"),o=n.n(a),i=n("lwsE"),c=n.n(i),s=n("W8MJ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("AoHe"),E=n("+qLk");n("ZYtQ");function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function O(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}function P(h){return function(e){d()(n,e);var t=O(n);function n(){return c()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){if(!h)return null;var e=this.props,t=e.post,n=e.height,r=e.width,a=e.colorLoading,o=e.streamSection,i=e.streamParam;if(!t)return null;var c=t.toJS(),s={color:a,height:n},l=Object(C.b)(c,r,n),u=l.contentWidth,d=l.contentHeight,m=Object(C.e)(c.isAd,n,d,null!=c.title&&c.title.length),p="".concat(function(e,t,n){return!e&&t&&n?"/".concat(t,"/").concat(n):e&&!e.inGallery||![E.F,E.r,E.E,E.t,E.u].includes(t)?t&&n?"/".concat(t,"/").concat(n):e&&e.isAlbum?"/a":"":"/".concat(E.n)}(c,o,i),"/").concat(c.id),f=S(S({},this.props),{},{spinner:s,post:S(S({},c),{},{width:u,height:d,href:p}),styles:m});return b.a.createElement(h,g()({className:"Post-item"},f))}}]),n}(b.a.Component)}function N(e,t){var n=e.posts,r=e.user,a=e.gallery,o=t.id;return{post:n.getIn(["posts",o]),isUserLoggedIn:r.get("isLoggedIn"),streamSection:a.get("streamSection"),streamParam:a.get("streamParam")}}var I=function(e){return Object(v.b)(N)(P(e))}},VhX2:function(e,t,n){var r=n("vlbB");e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},VtCw:function(e,t,n){},W8uW:function(e,t,n){},WHPL:function(e,t,n){},WYmX:function(e,t,n){},X9Zs:function(e,t,n){e.exports=n.p+"desktop-assets/b3.e6334893f2151aa2c16ce7596c4daeaa.svg"},"XF+e":function(e,t,n){},XVVZ:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),v=n.n(a),o=n("J4zp"),C=n.n(o),E=n("q1tI"),k=n.n(E),S=(n("17x9"),n("b5GN")),O=n("AG5K"),P=n("OX3u"),N=n("GB65"),I=n("pNV7"),w=n("BWa0");n("7Yk7");function q(e){function t(e){""!==e?(e=Math.min(Math.max(a,e),o))!==l&&(u(e),i(e)):u(e)}function n(e,t){return k.a.createElement(w.cb,{name:e,width:"26",height:"26",viewBox:"0 0 26 26",className:t?"disabled":"",fillColor:t?"#585D6A":"#ffffff",strokeColor:t?"#585D6A":"#ffffff"})}var r=e.initialNumber,a=e.minNumber,o=e.maxNumber,i=e.onNumberChange,c=Object(E.useState)(r),s=C()(c,2),l=s[0],u=s[1];return k.a.createElement("div",{className:"InputStepper"},k.a.createElement("div",{className:"InputStepper-minus",onClick:function(){return t(l-1)}},n(w.J,a===l)),k.a.createElement("div",{className:"InputStepper-number"},k.a.createElement("input",{type:"number",value:l,onChange:function(e){return t(e.target.value)},onBlur:function(){l||u(a)},min:a,max:o})),k.a.createElement("div",{className:"InputStepper-plus",onClick:function(){return t(l+1)}},n(w.K,o===l)))}q.defaultProps={initialNumber:1,minNumber:1,maxNumber:12,onNumberChange:function(){}},q.__docgenInfo={description:"",methods:[],displayName:"InputStepper",props:{initialNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},minNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},maxNumber:{defaultValue:{value:"12",computed:!1},type:{name:"number"},required:!1,description:""},onNumberChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""}}};n("rlD7");function j(e){var t=e.monthNumber,n=e.price,r=e.onClick,a=e.isDisabled;return k.a.createElement("button",{type:"button",className:"GiveGiftButton",onClick:r,disabled:a},k.a.createElement("div",{className:"GiveGiftButton-description"},k.a.createElement(w.cb,{name:w.W,width:"20",height:"20",viewBox:"0 0 20 20"}),k.a.createElement("span",null,Object(O.a)("giftPeriod",t))),k.a.createElement("div",{className:"GiveGiftButton-price"},"$".concat((n*t).toFixed(2))))}j.defaultProps={monthNumber:1,price:5,onClick:function(){}},j.__docgenInfo={description:"",methods:[],displayName:"GiveGiftButton",props:{monthNumber:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""},price:{defaultValue:{value:"5",computed:!1},type:{name:"number"},required:!1,description:""},onClick:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}};var D=n("7oyi");n("IgJu");var i=n("wAdX"),c=n("/PhX"),s=n("RUHF");t.a=Object(r.b)(function(e){var t=e.emerald,n=e.user,r=t.get("giveEmeraldData").toJS();return r.gifterId=n.get("id"),{giftData:r}},function(t){return{close:function(){t(Object(c.y)(P.p)),t(Object(s.w)())},submit:function(e){t(Object(s.q)(e))}}})(function(y,e){var b=1<arguments.length&&void 0!==e?e:{};function t(e){var t=e.giftData,n=e.close,r=e.onDialogOpen,a=e.submit;if(!t.recipientUsername)return null;var o=Object(E.useState)(t.amount||1),i=C()(o,2),c=i[0],s=i[1],l=Object(E.useState)(t.anonymous||!1),u=C()(l,2),d=u[0],m=u[1],p=Object(E.useState)(!1),f=C()(p,2),h=f[0],g=f[1];return k.a.createElement(y,v()({className:"GiveGiftDialog",isModal:!1,onClose:n,name:P.p,onOpen:r},b),k.a.createElement("div",{className:"GiveGiftDialog-head"},k.a.createElement(I.Z,{name:I.U}),k.a.createElement(D.b,{className:"GiveGiftDialog-head--close",image:k.a.createElement(w.cb,{name:w.g,width:"32",height:"32"}),onClick:n})),k.a.createElement("div",{className:"GiveGiftDialog-content"},k.a.createElement("div",{className:"GiveGiftDialog-title"},t.title||Object(O.a)("giveGiftDialogTitle")),k.a.createElement("div",{className:"GiveGiftDialog-description"},Object(O.a)("giveGiftDialogDescription",t.recipientUsername)),k.a.createElement("div",{className:"GiveGiftDialog-input"},k.a.createElement("span",null,Object(O.a)("howManyMonths")),k.a.createElement(q,{initialNumber:c,onNumberChange:s})),k.a.createElement("div",{className:"GiveGiftDialog-anonymously"},k.a.createElement("label",{className:"GiveGiftDialog-anonymously--input"},k.a.createElement("input",{type:"checkbox",name:"giftAnonymously",id:"giftAnonymously",onChange:function(){return m(!d)},checked:d}),k.a.createElement("span",null)),k.a.createElement("label",{className:"GiveGiftDialog-anonymously--label",htmlFor:"giftAnonymously"},Object(O.a)("giftAnonymously"))),k.a.createElement("div",{className:"GiveGiftDialog-button"},k.a.createElement(j,{monthNumber:c,onClick:function(){g(!0);var e=Object(N.G)();a(Object.assign(t,{amount:c,anonymous:d,redirectURL:e,sourceURL:t.sourceURL?t.sourceURL:e,recipientUsername:t.recipientUsername}))},isDisabled:h})),k.a.createElement("div",{className:"GiveGiftDialog-footer"},Object(O.a)("giveGiftDialogFooter"),k.a.createElement("a",{href:"/".concat(S.f,"?source=giveGiftDialog"),target:"_blank",rel:"noreferrer noopener"},Object(O.a)("fullInfo")))))}return t.defaultProps={onDialogOpen:function(){}},t}(i.a))},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},Ya97:function(e,t,n){},ZCgT:function(e,t,n){var r=n("tLB3");e.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},ZYtQ:function(e,t,n){},"a/1F":function(e,t,n){},c0eP:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("lSNA"),a=n.n(r),o=n("q1tI"),i=n.n(o),c=(n("17x9"),n("/MKj")),s=n("55Ip"),l=n("TSYQ"),u=n.n(l),d=n("pNV7"),m=n("b5GN"),p=n("G5ih"),f=n("fdoY"),h=(n("W8uW"),Object(p.b)("newPost"));function g(e){var t=e.className,n=e.onClick,r=u()(a()({Button:!0,upload:!0},t,t));return i.a.createElement(s.a,{className:r,to:"/".concat(m.y),onClick:n},i.a.createElement("img",{src:d.a[d.o]}),i.a.createElement("span",{className:"newPostLabel"},h))}function y(e){var t=e.onClick;return i.a.createElement(s.a,{to:"/".concat(m.y),onClick:t},h)}g.defaultProps={className:""};var b=Object(c.b)(null,{onClick:f.eb}),v=b(y);g.__docgenInfo={description:"",methods:[],displayName:"NewPostButton",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},onClick:{type:{name:"func"},required:!1,description:""}}},t.b=b(g),y.__docgenInfo={description:"",methods:[],displayName:"NewPostLink",props:{onClick:{type:{name:"func"},required:!1,description:""}}}},cG8M:function(e,t,n){"use strict";n.d(t,"b",function(){return j}),n.d(t,"a",function(){return D});var r=n("pVnL"),N=n.n(r),a=n("lwsE"),i=n.n(a),o=n("W8MJ"),c=n.n(o),s=n("PJYZ"),l=n.n(s),u=n("7W2i"),d=n.n(u),m=n("a1gu"),p=n.n(m),f=n("Nsbk"),h=n.n(f),g=n("lSNA"),y=n.n(g),b=(n("4cSd"),n("q1tI")),T=n.n(b),v=(n("17x9"),n("/MKj")),C=n("TSYQ"),R=n.n(C),E=n("GB65"),I=n("wmRA"),x=n("yA1n"),k=n("WY5P"),S=n("2c7z"),w=n("ej/z"),M=n("F8bk");n("qhsG");function O(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var q=function(e){d()(n,e);var t=O(n);function n(e){var o;return i()(this,n),o=t.call(this,e),y()(l()(o),"movementStartPos",0),y()(l()(o),"volumeStart",0),y()(l()(o),"stateIndicator",T.a.createRef()),y()(l()(o),"time",T.a.createRef()),y()(l()(o),"scrubber",T.a.createRef()),y()(l()(o),"bar",T.a.createRef()),y()(l()(o),"audioIndicator",T.a.createRef()),y()(l()(o),"volume",T.a.createRef()),y()(l()(o),"updateDimensionsFromScrubber",function(){var e=o.scrubber.current.offsetWidth;e=e||1,o.updateDimensions(e,o.scrubber.current.getBoundingClientRect().left)}),y()(l()(o),"handleMouseDown",function(){Object(E.c)("mouseup",o.handleMouseUp),Object(E.c)("mousemove",o.handleMouseMove),Object(E.x)("body").style.userSelect="none",o.setState({dragging:!0})}),y()(l()(o),"handleMouseUp",function(){var t=o.props.onTimeChange;Object(E.mb)("mouseup",o.handleMouseUp),Object(E.mb)("mousemove",o.handleMouseMove),Object(E.x)("body").style.userSelect="auto",o.setState(function(e){return{scrubPauseWait:t(e.playedPercentModifier),dragging:!1}})}),y()(l()(o),"handleMouseMove",function(e){var t=o.props.onScrubbing,n=o.state.scrubberWidth;t();var r=o.movementStartPos,a=n;o.setState({playedPercentModifier:o.getPlayedPercentModifier(e.pageX,r,a)})}),y()(l()(o),"handleMouseDownVolume",function(){Object(E.c)("mouseup",o.handleMouseUpVolume),Object(E.c)("mousemove",o.handleMouseMoveVolume),Object(E.x)("body").style.userSelect="none",o.volumeStart=o.volume.current.getBoundingClientRect().left}),y()(l()(o),"handleMouseUpVolume",function(e){Object(E.mb)("mouseup",o.handleMouseUpVolume),Object(E.mb)("mousemove",o.handleMouseMoveVolume),Object(E.x)("body").style.userSelect="auto",o.setVolumeFromCoordinates(e.pageX)}),y()(l()(o),"handleMouseMoveVolume",function(e){o.setVolumeFromCoordinates(e.pageX)}),y()(l()(o),"handleScrubberBarClick",function(e){var t=o.props.onTimeChange,n=o.state.scrubberWidth,r=o.movementStartPos,a=n;t(o.getPlayedPercentModifier(e.pageX,r,a))}),o.state={scrubPauseWait:0,playedPercentModifier:null,scrubberWidth:1,dragging:!1,volume:e.volume},o}return c()(n,[{key:"componentDidMount",value:function(){var t=this;this.updateDimensionsFromScrubber(),Object(E.c)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.a)(e,t.updateDimensionsFromScrubber)})}},{key:"componentWillUnmount",value:function(){var t=this;Object(E.mb)("resize",this.updateDimensionsFromScrubber),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.ib)(e,t.updateDimensionsFromScrubber)})}},{key:"updateDimensions",value:function(e,t){this.setState({scrubberWidth:e}),this.movementStartPos=t}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state,n=t.playedPercentModifier,r=t.scrubPauseWait;null!==n&&e.playedPercent>r&&this.setState({scrubPauseWait:0,playedPercentModifier:null})}},{key:"setVolumeFromCoordinates",value:function(e){var t=this.props.onVolumeChange,n=1-Math.min(Math.max((this.volumeStart+104+Object(E.A)("scrollX")-e)/104,0),1);t(n),this.setState({volume:n})}},{key:"getPlayedPercentModifier",value:function(e,t,n){var r=(e-t)/n;return r<0?0:1<r?1:r}},{key:"pad",value:function(e){var t=e.toString();return t.length<2&&(t="0".concat(t)),t}},{key:"slide",value:function(e,t){e=Math.max(Math.min(100*e/t,100),1);for(var n=[[0,[27,183,110]],[44,[58,221,214]],[100,[123,133,247]]],r=[],a=0;a<n.length;a++)if(e<=n[a][0]){r=[a-1,a];break}var o=n[r[0]][1],i=n[r[1]][1],c=n[r[0]][0],s=(e-c)/(n[r[1]][0]-c);return this.pickRgb(i,o,s).join()}},{key:"pickRgb",value:function(e,t,n){var r=((2*n-1)/1+1)/2,a=1-r;return[Math.round(e[0]*r+t[0]*a),Math.round(e[1]*r+t[1]*a),Math.round(e[2]*r+t[2]*a)]}},{key:"render",value:function(){var e=this.props,t=e.playedPercent,n=e.duration,r=e.time,a=e.playState,o=e.audioState,i=e.fullscreen,c=e.onPlayToggle,s=e.toggleFullscreen,l=e.hasAudio,u=e.onAudioToggle,d=e.id,m=e.hash,p=e.title,f=e.index,h=this.state,g=h.playedPercentModifier,y=h.scrubberWidth,b=h.volume,v=h.dragging,C=t;null!==g&&(C=g);var E=y*C,k=-1*E,S=(E+=5)-25,O=Math.floor(n-r),P="".concat(E,"px"),N=a===x.c.PLAY_STATE.PRESENT_PLAYING?"playing":"paused",I=this.slide(E,y),w="0 0 10px 0 rgb(".concat(I,"), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 2px 4px 0 rgba(0, 0, 0, 0.5), 0 0px 20px 0 rgb(").concat(I,")"),q=o===x.c.AUDIO_STATE.PRESENT_MUTED?"mute":"on",j=R()({"PostVideoControls-fullscreen":!0,fullscreen:i}),D=o===x.c.AUDIO_STATE.PRESENT_MUTED?0:104*b,A=D;return T.a.createElement("div",{className:"PostVideoControls",id:d},!l&&T.a.createElement(M.a,{hash:m,title:p,indexForComment:f}),T.a.createElement("div",{className:"PostVideoControls-container"},T.a.createElement("span",{onClick:c,className:"PostVideoControls-state"},T.a.createElement("span",{ref:this.stateIndicator,className:"PostVideoControls-state-indicator PostVideoControls-state-indicator-".concat(N)}," ")),T.a.createElement("span",{ref:this.time,className:"PostVideoControls-time"},Math.floor(O/60),":",this.pad(O%60)),T.a.createElement("span",{ref:this.scrubber,className:"PostVideoControls-scrubber",onClick:this.handleScrubberBarClick},T.a.createElement("div",{className:"PostVideoControls-scrubber-backdrop"}," "),T.a.createElement("div",{ref:this.bar,className:"PostVideoControls-scrubber-bar",style:{width:P}},T.a.createElement("style",null,"\n                                ".concat(d?"#".concat(d):""," .PostVideoControls-scrubber-bar::after{\n                                    width: ").concat(y,"px;\n                                }\n                                ").concat(d?"#".concat(d):""," .PostVideoControls-scrubber-knob-extender {\n                                    background: rgb(").concat(I,")\n                                }\n\n                            "))),T.a.createElement("div",{className:"PostVideoControls-scrubber-buffer",style:{left:P}}),v&&T.a.createElement("div",{className:"PostVideoControls-knob-extender-container"},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-top",style:{left:S}},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:k}})),T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-extender PostVideoControls-scrubber-knob-extender-bottom",style:{left:S}},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:k}}))),T.a.createElement("div",{className:"PostVideoControls-scrubber-knob",style:{left:P,background:"rgb(".concat(I,")"),boxShadow:w},onMouseDown:this.handleMouseDown},T.a.createElement("div",{className:"PostVideoControls-scrubber-knob-bg",style:{left:k}}))),s&&T.a.createElement("span",{onClick:function(){return s(!0)},className:j}," ")),l?T.a.createElement("span",{className:"PostVideoControls-audio-container"},T.a.createElement("span",{ref:this.audioIndicator,onClick:u,className:"PostVideoControls-audio PostVideoControls-audio-".concat(q)}),T.a.createElement("div",{className:"PostVideoControls-volume",ref:this.volume,onMouseDown:this.handleMouseDownVolume},T.a.createElement("div",{className:"PostVideoControls-volume-fill",style:{width:D}}),T.a.createElement("div",{className:"PostVideoControls-volume-knob",style:{left:A}})),T.a.createElement(M.a,{hash:m,title:p,indexForComment:f})):"")}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),n}(T.a.Component);q.defaultProps={volume:x.a},q.__docgenInfo={description:"",methods:[{name:"updateDimensionsFromScrubber",docblock:null,modifiers:[],params:[],returns:null},{name:"updateDimensions",docblock:null,modifiers:[],params:[{name:"scrubberWidth",type:null},{name:"movementStartPos",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUp",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseMove",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseDownVolume",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseUpVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleMouseMoveVolume",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"setVolumeFromCoordinates",docblock:null,modifiers:[],params:[{name:"x",type:null}],returns:null},{name:"handleScrubberBarClick",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getPlayedPercentModifier",docblock:null,modifiers:[],params:[{name:"xPos",type:null},{name:"start",type:null},{name:"width",type:null}],returns:null},{name:"pad",docblock:null,modifiers:[],params:[{name:"number",type:null}],returns:null},{name:"slide",docblock:null,modifiers:[],params:[{name:"position",type:null},{name:"sliderWidth",type:null}],returns:null},{name:"pickRgb",docblock:null,modifiers:[],params:[{name:"color1",type:null},{name:"color2",type:null},{name:"weight",type:null}],returns:null}],displayName:"PostVideoControlsComponent",props:{volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},playedPercent:{type:{name:"number"},required:!1,description:""},time:{type:{name:"number"},required:!1,description:""},onScrubbing:{type:{name:"func"},required:!0,description:""},duration:{type:{name:"number"},required:!1,description:""},onTimeChange:{type:{name:"func"},required:!0,description:""},onVolumeChange:{type:{name:"func"},required:!0,description:""},audioState:{type:{name:"string"},required:!1,description:""},onAudioToggle:{type:{name:"func"},required:!0,description:""},playState:{type:{name:"string"},required:!1,description:""},onPlayToggle:{type:{name:"func"},required:!0,description:""},onSeek:{type:{name:"func"},required:!0,description:""},fullscreen:{type:{name:"bool"},required:!1,description:""},toggleFullscreen:{type:{name:"func"},required:!0,description:""},hasAudio:{type:{name:"bool"},required:!1,description:""},id:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!0,description:""}}};function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h()(r);if(a){var n=h()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p()(this,e)}}var j=function(e){d()(r,e);var n=P(r);function r(e){var d;i()(this,r),d=n.call(this,e),y()(l()(d),"unmount",!1),y()(l()(d),"timeStarted",-1),y()(l()(d),"timePlayed",0),y()(l()(d),"duration",0),y()(l()(d),"soundWasEverEnabled",!1),y()(l()(d),"videoContainer",T.a.createRef()),y()(l()(d),"srcmp4",T.a.createRef()),y()(l()(d),"video",T.a.createRef()),y()(l()(d),"updateAudioState",function(e){var t=d.props,n=t.globalAudioState,r=t.hash,a=t.setHashWithAudioOn,o=t.isFirst,i=t.hashWithAudioOn,c=d.state.audioState;if(e.globalAudioState!==n&&n!==c){if(n===x.c.AUDIO_STATE.PRESENT_ON&&r!==i)return void(!i&&o&&(d.setState({audioState:n}),a(r)));d.setState({audioState:n})}}),y()(l()(d),"changeEvent",function(){Object(E.x)("mozFullScreen")||Object(E.x)("webkitIsFullScreen")||Object(E.x)("fullscreen")||d.toggleFullscreen(!1)}),y()(l()(d),"isVideoElementUnavailable",function(){return d.unmount||!d.video.current}),y()(l()(d),"onPlayToggle",function(){d.isVideoElementUnavailable()||(d.video.current.paused?d.play():d.pause())}),y()(l()(d),"onAudioToggle",function(){if(!d.isVideoElementUnavailable()){var e=d.props,t=e.hash,n=e.updateAudioState,r=e.setHashWithAudioOn,a=d.state.audioState===x.c.AUDIO_STATE.PRESENT_ON,o=a?x.c.AUDIO_STATE.PRESENT_MUTED:x.c.AUDIO_STATE.PRESENT_ON;d.video.current.muted=a,d.setState({audioState:o},function(){!a&&t&&r(t)}),n(o),d.soundWasEverEnabled||(d.soundWasEverEnabled=!a)}}),y()(l()(d),"onScrubbing",function(){if(!d.isVideoElementUnavailable()){var e=d.video.current;e.paused||e.pause()}}),y()(l()(d),"onTimeChange",function(e){if(!d.isVideoElementUnavailable()){var t=d.video.current;return t.currentTime=t.duration*e,d.isPlaying()&&d.play(),t.currentTime/t.duration}}),y()(l()(d),"onVolumeChange",function(e){if(!d.isVideoElementUnavailable()){var t=d.props,n=t.hash,r=t.updateAudioState,a=t.updateAudioVolume,o=t.setHashWithAudioOn;d.video.current.volume=e,d.setState({audioState:x.c.AUDIO_STATE.PRESENT_ON,volume:e},function(){0<e&&n&&o(n)}),a(e),r(x.c.AUDIO_STATE.PRESENT_ON)}}),y()(l()(d),"handleTimeUpdate",function(e){if(!d.isVideoElementUnavailable()){var t=d.state.progressVisible;d.videoInterval(e),t&&d.setState({playedPercent:d.video.current.currentTime/d.video.current.duration,currentTime:Math.floor(d.video.current.currentTime)})}}),y()(l()(d),"handleMetadata",function(){if(!d.isVideoElementUnavailable()){var e=d.state.currentTime;d.video.current.currentTime=e,d.setState(function(e){return{playedPercent:e.currentTime/d.video.current.duration,duration:Math.floor(d.video.current.duration)}})}}),y()(l()(d),"handleData",function(e){if(!d.isVideoElementUnavailable()){var t=!1;void 0!==e.target.webkitAudioDecodedByteCount&&0<e.target.webkitAudioDecodedByteCount?t=!0:void 0!==e.target.mozHasAudio&&e.target.mozHasAudio?t=!0:void 0!==e.target.audioTracks&&0<e.target.audioTracks.length&&(t=!0);var n=d.state.volume;d.video.current.volume=n,d.setState(function(e){return{playedPercent:e.currentTime/d.video.current.duration,duration:Math.floor(d.video.current.duration),hasAudio:t}})}}),y()(l()(d),"handleCanPlay",function(e){d.isVideoElementUnavailable()||d.isPaused()||(1!==d.video.current.readyState&&4!==d.video.current.readyState||d.play(),(0,d.props.handleCanPlay)(e))}),y()(l()(d),"handleVideoSourceError",function(e){!d.video.current||0!==d.video.current.readyState&&3!==d.video.current.networkState||(d.setState({isError:!0}),(0,d.props.onError)(e))}),y()(l()(d),"toggleFullscreen",function(e){d.isVideoElementUnavailable()||(Object(E.x)("body").mozRequestFullScreen||Object(E.x)("body").webkitRequestFullScreen||Object(E.x)("body").requestFullScreen)&&(d.state.fullscreen||!1===e?(Object(E.Bb)(),Object(E.x)("body").classList.remove("video-hidden-body"),d.setState({fullscreen:!1})):(d.videoContainer.current&&Object(E.Cb)(d.videoContainer.current),Object(E.x)("body").classList.add("video-hidden-body"),d.setState({fullscreen:!0})))}),y()(l()(d),"videoStartedPlaying",function(){d.setState({playState:x.c.PLAY_STATE.PRESENT_PLAYING}),d.props.promoted&&(d.timeStarted=(new Date).getTime()/1e3)}),y()(l()(d),"videoInterval",function(e){if(!d.isVideoElementUnavailable()){var t=d.props,n=t.promoted,r=t.controls,a=t.trackPromotedPostVideo,o=t.hash,i=t.postId;if(n&&!d.video.current.paused&&r){var c=d.state,s=c.duration,l=c.controlsEverDisplayed;if(s){if(0<d.timeStarted){var u=(new Date).getTime()/1e3-d.timeStarted;d.timeStarted=-1,d.timePlayed+=u}"timeupdate"===e.type&&(d.timeStarted=(new Date).getTime()/1e3),a({timePlayed:d.timePlayed,supportsAutoPlay:d.supportsAutoPlay,albumHash:i,soundOn:0<d.video.current.volume&&!d.video.current.muted,isControlsOn:l,duration:s,hash:o}),d.timePlayed=0}}}}),y()(l()(d),"handleSeek",function(e){d.isVideoElementUnavailable()||(d.video.current.currentTime=e)}),y()(l()(d),"handleMouseOver",function(){d.setState({progressVisible:!0,controlsEverDisplayed:!0})}),y()(l()(d),"handleMouseOut",function(){d.setState({progressVisible:!1})}),function(e){if("function"!=typeof e)return;var t=document.createElement("video");t.pause();var n="play"in t&&t.play();e(!t.paused||"Promise"in window&&n instanceof Promise)}(function(e){d.supportsAutoPlay=e});var t=e.playAudioIfAvailable&&e.isFirst&&void 0!==e.handleCanPlay?x.c.AUDIO_STATE.PRESENT_ON:x.c.AUDIO_STATE.PRESENT_MUTED;return e.playState===x.c.PLAY_STATE.PRESENT_PAUSED&&e.audioState&&(t=e.audioState),d.state={playedPercent:0,playState:e.playVideo?x.c.PLAY_STATE.PRESENT_PLAYING:x.c.PLAY_STATE.PRESENT_PAUSED,currentTime:e.currentTime||0,duration:0,fullscreen:!1,hasAudio:!1,progressVisible:!1,audioState:t,isError:!1,volume:e.volume,controlsEverDisplayed:!1},d}return c()(r,[{key:"componentWillUnmount",value:function(){var t=this;this.unmount=!0,["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.ib)(e,t.changeEvent)}),this.srcmp4.current&&this.srcmp4.current.removeAttribute("src"),this.video.current&&this.video.current.load()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.playVideo,r=t.hashWithAudioOn;e.playVideo!==n&&(e.playVideo&&this.pause(),n&&this.play()),e.hashWithAudioOn!==r&&this.handleGlobalUnmute(r),this.updateAudioState(e)}},{key:"componentDidMount",value:function(){var t=this;this.srcmp4.current&&(this.srcmp4.current.onerror=this.handleVideoSourceError),["mozfullscreenchange","webkitfullscreenchange","fullscreenchange"].forEach(function(e){return Object(E.a)(e,t.changeEvent)})}},{key:"handleGlobalUnmute",value:function(e){e===this.props.hash||this.unmount||this.setState({audioState:x.c.AUDIO_STATE.PRESENT_MUTED})}},{key:"play",value:function(){var e=this;if(!this.isVideoElementUnavailable()){var t=this.video.current.play();void 0!==t?t.then(function(){e.setState({playState:x.c.PLAY_STATE.PRESENT_PLAYING})}).catch(function(){e.setState({playState:x.c.PLAY_STATE.PRESENT_PAUSED})}):this.setState({playState:x.c.PLAY_STATE.PRESENT_PLAYING})}}},{key:"pause",value:function(){this.isVideoElementUnavailable()||(this.video.current.pause(),this.setState({playState:x.c.PLAY_STATE.PRESENT_PAUSED}))}},{key:"isPlaying",value:function(){return this.state.playState===x.c.PLAY_STATE.PRESENT_PLAYING}},{key:"isPaused",value:function(){return this.state.playState===x.c.PLAY_STATE.PRESENT_PAUSED}},{key:"render",value:function(){var e=this.props,t=e.animationType,n=e.src,r=e.hash,a=e.width,o=e.height,i=e.dataURL,c=e.controls,s=e.classNames,l=e.fallbackMedia,u=e.maxHeight,d=e.title,m=e.index,p=this.state,f=p.isError,h=p.audioState,g=p.fullscreen,y=p.playedPercent,b=p.currentTime,v=p.duration,C=p.playState,E=p.hasAudio,k=p.volume;if(f)return l(n);var S={key:r,style:{width:a,height:u||o},draggable:!1,playsInline:"playsInline",controls:!1};h===x.c.AUDIO_STATE.PRESENT_MUTED&&(S.muted=!0),this.isPlaying()?S.autoPlay="autoplay":S.preload="metadata",t===I.n&&(S.loop="loop"),i&&(S["data-url"]=i);var O=R()({PostVideo:!0,fullscreen:g}),P=R()({"PostVideo-video-wrapper":!0,"PostVideo--unconstrained":!Object(w.b)(a,o)});return T.a.createElement("div",{className:O,ref:this.videoContainer,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},c&&this.isPaused()&&T.a.createElement("span",{title:"Play video",className:"video-play pointer",onClick:this.onPlayToggle}),T.a.createElement("div",{className:P},T.a.createElement("video",N()({},S,{onPlay:this.videoStartedPlaying,onPlaying:this.videoStartedPlaying,onEnded:this.videoInterval,onPause:this.videoInterval,onTimeUpdate:this.handleTimeUpdate,onLoadedMetadata:this.handleMetadata,onLoadedData:this.handleData,onCanPlay:this.handleCanPlay,className:g?"fullscreen":s,ref:this.video}),T.a.createElement("source",{ref:this.srcmp4,type:"video/mp4",src:n.video}))),c&&T.a.createElement(q,{playedPercent:y,time:b,onScrubbing:this.onScrubbing,duration:v,onTimeChange:this.onTimeChange,onVolumeChange:this.onVolumeChange,audioState:h,onAudioToggle:this.onAudioToggle,playState:C,onPlayToggle:this.onPlayToggle,onSeek:this.handleSeek,fullscreen:g,toggleFullscreen:this.toggleFullscreen,hasAudio:E,volume:k,id:"PostVideoControls-".concat(r),hash:r,title:d,index:m}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.volume;return n!==t.volume?{volume:n}:null}}]),r}(T.a.Component);j.defaultProps={animationType:I.n,controls:!1,src:{image:"",video:""},playState:x.c.PLAY_STATE.PRESENT_PAUSED,currentTime:0,volume:x.a,handleCanPlay:function(){},fallbackMedia:function(e){return T.a.createElement("img",{src:e,"data-url":e})},dataUrl:"",promoted:!1,classNames:"",playVideo:!0,onError:function(){},updateAudioState:function(){},updateAudioVolume:function(){},setHashWithAudioOn:function(){},isFirst:!1,globalAudioState:x.c.AUDIO_STATE.PRESENT_MUTED};var D=Object(v.b)(function(e){var t=e.video,n=e.postsData.get("currentPost");return{playAudioIfAvailable:t.get("audioState")===x.c.AUDIO_STATE.PRESENT_ON,hashWithAudioOn:t.get("hashWithAudioOn"),volume:t.get("volume"),postId:n&&n.get("id"),promoted:n&&!!n.get("promoted"),globalAudioState:t.get("audioState")}},{updateAudioState:S.g,updateAudioVolume:S.h,setHashWithAudioOn:S.e,trackPromotedPostVideo:k.d})(j);j.__docgenInfo={description:"",methods:[{name:"updateAudioState",docblock:null,modifiers:[],params:[{name:"prevProps",type:null}],returns:null},{name:"changeEvent",docblock:null,modifiers:[],params:[],returns:null},{name:"isVideoElementUnavailable",docblock:null,modifiers:[],params:[],returns:null},{name:"handleGlobalUnmute",docblock:null,modifiers:[],params:[{name:"hashWithAudioOn",type:null}],returns:null},{name:"onPlayToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onAudioToggle",docblock:null,modifiers:[],params:[],returns:null},{name:"onScrubbing",docblock:null,modifiers:[],params:[],returns:null},{name:"onTimeChange",docblock:null,modifiers:[],params:[{name:"offset",type:null}],returns:null},{name:"onVolumeChange",docblock:null,modifiers:[],params:[{name:"volume",type:null}],returns:null},{name:"handleTimeUpdate",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMetadata",docblock:null,modifiers:[],params:[],returns:null},{name:"handleData",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleCanPlay",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleVideoSourceError",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"play",docblock:null,modifiers:[],params:[],returns:null},{name:"pause",docblock:null,modifiers:[],params:[],returns:null},{name:"toggleFullscreen",docblock:null,modifiers:[],params:[{name:"state",type:null}],returns:null},{name:"videoStartedPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"videoInterval",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handleSeek",docblock:null,modifiers:[],params:[{name:"time",type:null}],returns:null},{name:"handleMouseOver",docblock:null,modifiers:[],params:[],returns:null},{name:"handleMouseOut",docblock:null,modifiers:[],params:[],returns:null},{name:"isPlaying",docblock:null,modifiers:[],params:[],returns:null},{name:"isPaused",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},controls:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playState:{defaultValue:{value:"VIDEO_CONTROLS.PLAY_STATE.PRESENT_PAUSED",computed:!0},type:{name:"string"},required:!1,description:""},currentTime:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},volume:{defaultValue:{value:"DEFAULT_VOLUME",computed:!0},type:{name:"number"},required:!1,description:""},handleCanPlay:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},fallbackMedia:{defaultValue:{value:"(src) => (<img src={src} data-url={src} />)",computed:!1},type:{name:"func"},required:!1,description:""},dataUrl:{defaultValue:{value:"''",computed:!1},required:!1},promoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},classNames:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},onError:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioState:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},updateAudioVolume:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},setHashWithAudioOn:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},isFirst:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},globalAudioState:{defaultValue:{value:"VIDEO_CONTROLS.AUDIO_STATE.PRESENT_MUTED",computed:!0},type:{name:"enum",computed:!0,value:"Object.values(VIDEO_CONTROLS.AUDIO_STATE)"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},playAudioIfAvailable:{type:{name:"bool"},required:!1,description:""},audioState:{type:{name:"string"},required:!1,description:""},hash:{type:{name:"string"},required:!1,description:""},dataURL:{type:{name:"string"},required:!1,description:""},postId:{type:{name:"string"},required:!1,description:""},trackPromotedPostVideo:{type:{name:"func"},required:!1,description:""},hashWithAudioOn:{type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!1,description:""},index:{type:{name:"number"},required:!1,description:""}}}},"cm4/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var r=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=s(n("q1tI")),o=s(n("+80P")),i=s(n("wRvv")),c=s(n("17x9"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=t.linkify=new o.default;d.tlds(i.default);var m=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,l.default.Component),r(p,[{key:"getMatches",value:function(e){return d.match(e)}},{key:"parseString",value:function(o){var i=this,c=[];if(""===o)return c;var e=this.getMatches(o);if(!e)return o;var s=0;return e.forEach(function(e,t){e.index>s&&c.push(o.substring(s,e.index));var n={href:e.url,key:"parse"+i.parseCounter+"match"+t};for(var r in i.props.properties){var a=i.props.properties[r];a===p.MATCH&&(a=e.url),n[r]=a}c.push(l.default.createElement(i.props.component,n,e.text)),s=e.lastIndex}),s<o.length&&c.push(o.substring(s)),1===c.length?c[0]:c}},{key:"parse",value:function(e){var t=this,n=e;return"string"==typeof e?n=this.parseString(e):l.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?n=l.default.cloneElement(e,{key:"parse"+ ++this.parseCounter},this.parse(e.props.children)):e instanceof Array&&(n=e.map(function(e){return t.parse(e)})),n}},{key:"render",value:function(){this.parseCounter=0;var e=this.parse(this.props.children);return l.default.createElement("span",{className:this.props.className},e)}}]),p);function p(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=n=u(this,(e=p.__proto__||Object.getPrototypeOf(p)).call.apply(e,[this].concat(a)))).parseCounter=0,u(n,t)}m.MATCH="LINKIFY_MATCH",m.propTypes={className:c.default.string,component:c.default.any,properties:c.default.object,urlRegex:c.default.object,emailRegex:c.default.object},m.defaultProps={className:"Linkify",component:"a",properties:{}},t.default=m},co09:function(e,t,n){},dQpi:function(e,t,n){var r=n("yGk4"),a=n("vN+2"),o=n("rEGp"),i=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},dZW6:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var r=n("pVnL"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("/MKj")),k=n("/PhX"),S=n("GB65"),O=n("G5ih");function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)}}function N(r){var e=function(e){m()(n,e);var t=P(n);function n(e){var r;return i()(this,n),r=t.call(this,e),b()(u()(r),"timeoutId",null),b()(u()(r),"clipboardCopy",function(){var t=r.inputElement.value;r.inputElement.current.select(),r.timeoutId&&clearTimeout(r.timeoutId);try{var e=Object(S.o)("copy");Object(S.M)().removeAllRanges(),e?(r.props.clipboardCopySuccess(t),r.timeoutId=Object(S.Ab)(r.props.clipboardCopyClear,3e3)):r.props.clipboardCopyFail(t,Object(O.b)("clipboardCopyFailMessage"))}catch(e){r.props.clipboardCopyFail(t,e.message)}}),b()(u()(r),"renderInput",function(e){var t=e.className,n=e.text;return C.a.createElement("input",{className:t,ref:r.inputElement,readOnly:!0,value:n})}),r.inputElement=C.a.createRef(),r}return s()(n,[{key:"render",value:function(){return C.a.createElement(r,a()({},this.props,{renderInput:this.renderInput,clipboardCopy:this.clipboardCopy}))}}]),n}(C.a.Component);return e.displayName="WithClipboardCopy(".concat(function(e){return e.displayName||e.name||"Component"}(r),")"),Object(E.b)(null,{clipboardCopyFail:k.w,clipboardCopySuccess:k.x,clipboardCopyClear:k.v})(e)}},eeI0:function(e,t,n){},"ega+":function(e,t,n){"use strict";n.d(t,"a",function(){return Ce}),n.d(t,"b",function(){return Se});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),j=n.n(h),g=n("q1tI"),D=n.n(g),y=n("sEfC"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("TSYQ"),N=n.n(C),E=n("4TFA"),I=n("G5ih"),k=n("wmRA"),w=n("jlYo"),q=n("fPgW"),S=n("Bw9V"),O=n("ErBw"),P=n("fdoY"),A=n("Uzvo"),T=n("GB65"),R=n("Y22u"),x=n("aYmD"),M=n("mcUd");n("VtCw");function L(e){for(var t=e.points,n=e.radius,r=360/t*Math.PI/180,a=[],o=0;o<t;o++)a.push({cx:16+(16-n)*Math.cos(r*o),cy:16+(16-n)*Math.sin(r*o)});return D.a.createElement("span",{className:"FireworkAnimate"},D.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(32," ").concat(32)},a.map(function(e,t){return D.a.createElement("circle",{key:"point-".concat(t),cx:e.cx,cy:e.cy,r:n})})))}L.defaultProps={points:8,radius:2},L.__docgenInfo={description:"",methods:[],displayName:"FireworkAnimate",props:{points:{defaultValue:{value:"8",computed:!1},type:{name:"number"},required:!1,description:""},radius:{defaultValue:{value:"2",computed:!1},type:{name:"number"},required:!1,description:""}}};var F=n("pNV7");n("wMLv");function _(e){var t=e.onVote,n=e.value.toLocaleString();return D.a.createElement("div",{className:"PostInfo vote downs uScaleTransition",onClick:t},D.a.createElement("span",{className:"icon icon-downvote-fill"}),D.a.createElement("span",null,n))}function U(e){var t=e.onVote,n=e.value,r=e.isVoted,a=n.toLocaleString();return D.a.createElement("div",{className:"PostInfo vote ups uScaleTransition",onClick:t},D.a.createElement("span",{className:"icon icon-upvote-fill"},r&&D.a.createElement(L,null)),D.a.createElement("span",null,a))}function G(e){var t=e.value,n=t.toLocaleString();return Math.trunc(t/1e3)&&(n=Object(I.b)("lotComments")),D.a.createElement("div",{className:"PostInfo uScaleTransition"},D.a.createElement("span",{className:"icon ".concat(F.d)},D.a.createElement(F.Z,{name:F.d})),D.a.createElement("span",null,n))}function V(e){var t=e.value,n=e.className,r=t.toLocaleString();return Math.trunc(t/1e3)&&(r=Math.round(t/1e3,1)+Object(I.b)("viewsK")),Math.trunc(t/1e6)&&(r=Math.round(t/1e6,1)+Object(I.b)("viewsM")),D.a.createElement("div",{className:"PostInfo uScaleTransition views ".concat(n)},D.a.createElement("span",{className:"icon ".concat(F.l)},D.a.createElement(F.Z,{name:F.l})),D.a.createElement("span",null,r))}function B(e){var t=e.text;return D.a.createElement("div",{className:"PostInfo label"},t)}function W(e){var t=e.text,n=e.lines,r=e.fontSize,a=e.lineHeight;return D.a.createElement("span",{style:function(e,t,n){return{display:"-webkit-box",maxHeight:e*t*n,overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:e}}(n,r,a)},t)}U.defaultProps={isVoted:!1},U.__docgenInfo={description:"",methods:[],displayName:"PostVoteUp",props:{isVoted:{defaultValue:{value:"false",computed:!(_.__docgenInfo={description:"",methods:[],displayName:"PostVoteDown",props:{onVote:{type:{name:"func"},required:!(V.defaultProps={className:""}),description:""},value:{type:{name:"number"},required:!0,description:""}}})},type:{name:"bool"},required:!1,description:""},onVote:{type:{name:"func"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},V.__docgenInfo={description:"",methods:[],displayName:"PostViews",props:{className:{defaultValue:{value:"''",computed:!(G.__docgenInfo={description:"",methods:[],displayName:"PostComments",props:{value:{type:{name:"number"},required:!0,description:""}}})},type:{name:"string"},required:!1,description:""},value:{type:{name:"number"},required:!0,description:""}}},B.__docgenInfo={description:"",methods:[],displayName:"PostLabel",props:{text:{type:{name:"string"},required:!0,description:""}}},W.__docgenInfo={description:"",methods:[],displayName:"TruncatedText",props:{text:{type:{name:"string"},required:!0,description:""},lines:{type:{name:"number"},required:!0,description:""},fontSize:{type:{name:"number"},required:!0,description:""},lineHeight:{type:{name:"number"},required:!0,description:""}}};n("yQno");function H(e){var t=e.title,n=e.children,r=e.isNotAd,a=e.privacy,o=e.className,i=e.views;if(!r&&!t)return null;var c=-1===[k.q,k.l].indexOf(a),s=N()(j()({"Post-item-title-wrap":!0},o,o));return D.a.createElement("div",{className:s},D.a.createElement("div",{className:"Post-item-title"},D.a.createElement(W,{lines:2,fontSize:14,lineHeight:1.14,text:t})),D.a.createElement("div",{className:"Post-item-info"},c&&r&&n,a===k.q&&D.a.createElement(B,{text:Object(I.b)("postPrivate")}),a===k.l&&D.a.createElement(B,{text:Object(I.b)("postHidden")}),r&&1<=i&&D.a.createElement(V,{value:i,className:a===k.l?"hidden":""})))}H.defaultProps={className:"",privacy:k.r},H.__docgenInfo={description:"",methods:[],displayName:"Title",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},privacy:{defaultValue:{value:"POST_PUBLIC",computed:!0},type:{name:"string"},required:!1,description:""},title:{type:{name:"string"},required:!0,description:""},children:{type:{name:"array"},required:!1,description:""},isNotAd:{type:{name:"bool"},required:!0,description:""},views:{type:{name:"number"},required:!0,description:""}}};var z=n("STNw"),Y=n("gmqy"),J=n("CG6i"),K=n("cG8M");function Z(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Q=function(e){u()(o,e);var a=Z(o);function o(){var t;i()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),j()(s()(t),"imageLoaded",!1),j()(s()(t),"handlerLoad",function(e){t.imageLoaded=!0,t.props.onLoad&&t.props.onLoad(e)}),t}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.onError,a=e.animationType,o=e.playVideo,i=e.src,c=e.placeholderSrc,s=e.showImage,l=c||i.coverImage,u=l;return o&&(u=i.video),a!==k.p&&(u=l),s||a!==k.n||!this.imageLoaded?D.a.createElement(J.a,{thumbSrc:u,originalSrc:u,height:n,width:t,onError:r,onLoad:this.handlerLoad}):D.a.createElement(K.b,this.props)}}]),o}(D.a.Component);Q.defaultProps={animationType:k.n,src:{image:"",video:"",coverImage:""},playVideo:!0,showImage:!1},Q.__docgenInfo={description:"",methods:[{name:"handlerLoad",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PostHomeVideoComponent",props:{animationType:{defaultValue:{value:"POST_LOOP",computed:!0},type:{name:"number"},required:!1,description:""},src:{defaultValue:{value:"{\n    image: '',\n    video: '',\n    coverImage: '',\n}",computed:!1},type:{name:"shape",value:{image:{name:"string",required:!1},coverImage:{name:"string",required:!1},video:{name:"string",required:!1}}},required:!1,description:""},playVideo:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},showImage:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},height:{type:{name:"number"},required:!1,description:""},width:{type:{name:"number"},required:!1,description:""},onLoad:{type:{name:"func"},required:!1,description:""},onError:{type:{name:"func"},required:!1,description:""},placeholderSrc:{type:{name:"string"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!1,description:""}}};function X(e){var t=e.onLoad,n=e.height,r=e.width;return Object(g.useEffect)(function(){t()},[]),D.a.createElement("div",{className:"Post-item-media",style:{width:r,height:n}})}var $=Object(Y.a)(Q),ee=n("n/mK");X.__docgenInfo={description:"",methods:[],displayName:"PostHomeDeleted",props:{onLoad:{type:{name:"func"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""}}};var te=Object(Y.a)(X),ne=n("HWIq");n("MZXA");function re(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach(function(e){j()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function oe(e){var t=e.children,n=e.display,r=void 0===n?[]:n;if(0===r.length)return t;var a=function(e){var t="",n={};return(0<arguments.length&&void 0!==e?e:[]).forEach(function(e){switch(e.type){case"accolade_border":n=ae(ae({},n),function(e){var t=0<arguments.length&&void 0!==e?e:[],n=t.length;if(0===n)return{};var r="linear-gradient(165deg,";if(1<n){var a=0,o=100/(n-1);t.forEach(function(e){var t=100===a?")":", ";r+="#".concat(e," ").concat(a,"%").concat(t),a+=o})}else 1===n&&(r+="#".concat(t[0]," 0%, #").concat(t[0]," 100%)"));return{background:r}}(e.colors));break;case"accolade_icon":t=e.url}}),{styles:n,accoladeImage:t}}(r),o=a.styles,i=a.accoladeImage;return D.a.createElement("div",{style:o,className:"AccoladeBorder"},i&&D.a.createElement(ne.a,{imageUrl:i,background:!0}),t)}oe.defaultProps={display:[]},oe.__docgenInfo={description:"",methods:[],displayName:"AccoladeBorder",props:{display:{defaultValue:{value:"[]",computed:!1},type:{name:"array"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""}}};var ie=n("fTpD"),ce=n.n(ie),se=n("D0BC"),le=n.n(se),ue=n("E9Wd"),de=null,me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_";function pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(n),!0).forEach(function(e){j()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function he(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ge(e){return e*(Math.PI/180)}var ye=function(e){u()(n,e);var t=he(n);function n(e){var q;return i()(this,n),q=t.call(this,e),j()(s()(q),"clearKey",function(e){var t=q.state,n=t.interactionsShowing,r=t.interactionTimeouts;Object(T.h)(r[e]);var a=fe({},n),o=fe({},r);delete a[e],delete o[e],q.setState({interactionsShowing:a,interactionTimeouts:o})}),j()(s()(q),"handleClick",function(){var e=q.props,t=e.adTileInteractions,n=e.onClick,r=e.innerRef,a=r.current.getBoundingClientRect(),o=a.height,i=a.width,c=Object(R.d)(r.current,o/2),s=Object(R.d)(r.current)&&Object(R.b)(r.current),l=Object(R.b)(r.current,-o/2),u=ce()(q.spots.filter(function(e){return!(e.top&&!c)&&(!(e.bottom&&!l)&&(!(e.middle&&(e.left||e.right)&&!s)&&e.id!==q.lastUsedSpotId))}));q.lastUsedSpotId=u.id;var d=ce()(t);d.height=Math.min(d.height,o),d.width=Math.min(d.width,i);var m={maxHeight:"".concat(o,"px"),maxWidth:"".concat(i,"px"),position:"absolute",zIndex:-1,opacity:1,transform:"rotate(0) scale(0)",top:0,left:0},p=0,f=0,h=ce()([0,d.width/4]),g=ce()([0,d.width/4]);u.top&&(p=-d.height-g),u.bottom&&(p=o+g),u.middle&&(u.top||u.bottom)&&(f=(i-d.width+le()(-d.width,d.width))/2),u.left&&(f=-d.width-h),u.right&&(f=i+h),u.middle&&(u.left||u.right)&&(p=(o-d.height+le()(-d.height,d.height))/2);var y=le()(0,45)*u.rotationModifier,b=function(e){for(var t="",n=me.length,r=0;r<Math.max(2,e);r++)t+=me.charAt(Math.floor(Math.random()*n));return t}(7);if(0!=y){var v=Math.abs(y),C=90-v,E=ge(90),k=ge(v),S=ge(C),O=d.width,P=O*(Math.sin(k)/Math.sin(E)),N=O*(Math.sin(S)/Math.sin(E)),I=(N+N)/3,w=P/3;p=(0<=p?1:-1)*(Math.abs(p)-w/2),f=(0<=f?1:-1)*(Math.abs(f)-I/2)}p="".concat(p,"px"),f="".concat(f,"px"),function(e){de||(de=document.createElement("style"),document.head.appendChild(de)),de.sheet.insertRule(e)}("@keyframes ".concat(b," {\n            20% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n            }\n            90% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n                opacity: 1;\n            }\n            100% {\n                top: ").concat(p,";\n                left: ").concat(f,";\n                transform: rotate(").concat(y,"deg) scale(1);\n                opacity: 0;\n            }\n        }")),m.animation="".concat(b," ").concat(5500,"ms"),q.setState(function(e){var t=fe(j()({},b,D.a.createElement("img",{src:"".concat(ue.W,"/").concat(d.id,".gif"),style:m,key:b})),e.interactionsShowing),n=Object(T.Ab)(function(){q.clearKey(b)},5500);return{interactionsShowing:t,interactionTimeouts:fe(j()({},b,n),e.interactionTimeouts)}}),n()}),q.spots=[{id:1,top:!0,right:!1,bottom:!1,left:!0,middle:!1,rotationModifier:-1},{id:2,top:!0,right:!1,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:3,top:!0,right:!0,bottom:!1,left:!1,middle:!1,rotationModifier:1},{id:4,top:!1,right:!0,bottom:!1,left:!1,middle:!0,rotationModifier:0},{id:5,top:!1,right:!0,bottom:!0,left:!1,middle:!1,rotationModifier:-1},{id:6,top:!1,right:!1,bottom:!0,left:!1,middle:!0,rotationModifier:0},{id:7,top:!1,right:!1,bottom:!0,left:!0,middle:!1,rotationModifier:1},{id:8,top:!1,right:!1,bottom:!1,left:!0,middle:!0,rotationModifier:0}],q.lastUsedSpotId=0,q.state={interactionsShowing:{},interactionTimeouts:{}},q}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.innerRef,a=this.state.interactionsShowing;return D.a.createElement("div",{ref:r,onClick:this.handleClick,className:t},Object.values(a),n)}}]),n}(D.a.Component);ye.__docgenInfo={description:"",methods:[{name:"clearKey",docblock:null,modifiers:[],params:[{name:"key",type:null}],returns:null},{name:"handleClick",docblock:null,modifiers:[],params:[],returns:null}],displayName:"InteractableAdTile",props:{adTileInteractions:{type:{name:"array"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""}}};n("ZYtQ");function be(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ve(e){var t=e.isDeleted,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave,o=e.to,i=e.target,c=e.onClick,s=e.innerRef,l=e.isExternalAd,u=e.state,d=e.children,m=e.adTileInteractions;return t?D.a.createElement("div",{className:n},d):0<m.length?D.a.createElement(ye,{innerRef:s,className:n,adTileInteractions:m,onClick:c},d):D.a.createElement(ee.a,{draggable:"false",onMouseEnter:r,onMouseLeave:a,className:n,to:o,target:i,onClick:c,innerRef:s,isExternalAd:l,state:u},d)}var Ce=function(e){u()(n,e);var t=be(n);function n(e){var f;return i()(this,n),f=t.call(this,e),j()(s()(f),"isVoteHandler",!1),j()(s()(f),"getVoteHandler",function(c){return function(e){var t=f.props,n=t.post,r=t.isUserLoggedIn,a=t.onGalleryImageVote,o=n.title;if(!r||!a)return!0;e.preventDefault();var i=n.vote;if(f.isVoteHandler=!0,i===c)return a({postId:n.id,vote:q.c,initialVote:i,trigger:E.p,location:E.k.OUTSIDE,title:o});a({postId:n.id,vote:c,initialVote:i,trigger:E.p,location:E.k.OUTSIDE,title:o})}}),j()(s()(f),"handlerSaveGalleryPage",function(){var e=f.props,t=e.onSaveGalleryPage,n=e.post;if(!t)return!0;t(n.galleryPage)}),j()(s()(f),"clickHandler",function(){var e=f.props,t=e.post,n=e.adTileTappedAction,r=e.streamSection,a=e.navigationTrigger,o=e.navigationDirection,i=e.postNavigateAnalyticsAction,c=e.location,s=t.meta;t.isAd&&n&&n(t.id,c,0<s.interactions.length),r&&a&&o&&i(t.id,o,a,M.a[r])}),j()(s()(f),"inViewHandler",function(){var e=f.props,t=e.post,n=e.location,r=e.adTileInViewAction;r&&Object(R.c)(f.post.current)&&(r(t.id,n),Object(T.mb)("scroll",f.inViewHandler))}),j()(s()(f),"getMediaComponent",function(){var e=f.props,t=e.post,n=e.spinner,r=e.styles,a=e.isViewPort,o=e.viewGif,i=e.isWebPSupported,c=e.isDeleted,s=t.isVideo,l=t.src,u=t.animationType,d=t.height,m=t.width,p=function(e,t){return t?e.webPImage:e.coverImage}(l,i);return c?D.a.createElement(te,{styles:r,spinner:n,isDeleted:c,height:d,width:m}):s?D.a.createElement($,{animationType:u,styles:r,src:l,height:d,width:m,playVideo:o&&u===k.n&&a,spinner:n,placeholderSrc:l.videoPoster,showImage:!o,isDeleted:c}):D.a.createElement(J.b,{thumbSrc:p,originalSrc:p,height:d,width:m,styles:r,spinner:n,isDeleted:c})}),f.post=D.a.createRef(),f.props.post.isAd&&(f.inViewHandler=b()(f.inViewHandler.bind(s()(f)),100),Object(T.c)("scroll",f.inViewHandler)),f}return c()(n,[{key:"componentDidMount",value:function(){this.props.post.isAd&&this.inViewHandler()}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.post,a=t.isUserLoggedIn,o=t.onRemoveGalleryPage,i=t.onGalleryImageVote,c=t.usePrivacy,s=t.viewGif,l=t.sendToTop,u=t.isDeleted,d=r.adUrl,m=r.adType,p=r.title,f=r.href,h=r.target,g=r.views,y=r.commentCount,b=r.ups,v=r.isAd,C=r.downs,E=r.meta,k=r.display,S=r.createdAt,O=a&&i&&(r.vote||q.c),P=N()((e={},j()(e,n,!!n),j()(e,"".concat(O,"vote"),!!O),j()(e,"novote",!O),j()(e,"Post-item--deleted",u),j()(e,"Post-item--interactions",E.interactions.length),e));return D.a.createElement(ve,{draggable:"false",onMouseEnter:this.handlerSaveGalleryPage,onMouseLeave:o,className:P,to:0<m&&d?d:f,target:h,onClick:this.clickHandler,innerRef:this.post,isExternalAd:m===w.e,state:{sendToTop:l},isDeleted:u,adTileInteractions:E.interactions},D.a.createElement(oe,{display:u?[]:k},D.a.createElement("div",{className:"Post-item-container"},this.getMediaComponent(),this.props.children,D.a.createElement(z.a,{isPromotedAd:E.isPromotedAd,isThumbnailAd:E.isThumbnailAd,isInteractiveAd:0<E.interactions.length,imagesCount:E.imagesCount,metaLabel:s?"":E.label}),D.a.createElement(H,{title:p,isNotAd:!v,views:g,privacy:c?r.privacy:""},u?D.a.createElement("div",{className:"Post-item-title--deleted"},Object(I.b)("deletedPost",new Date(S).getTime())):"",D.a.createElement(U,{value:O===q.b?b+1:b,onVote:this.getVoteHandler(q.b),isVoted:this.isVoteHandler&&O===q.b}),a&&D.a.createElement(_,{value:O===q.a?C+1:C,onVote:this.getVoteHandler(q.a)}),D.a.createElement(G,{value:y})),E.pixels&&E.pixels.map(function(e,t){return D.a.createElement("img",{key:"tilePixel-".concat(t),src:e,style:{display:"none"}})}))))}}]),n}(g.Component);Ce.defaultProps={className:"",usePrivacy:!1,viewGif:!0};function Ee(e){var t=e.gallery,n=e.agent;return{viewGif:t.get("viewGif")&&!t.get("pauseAnimation"),isWebPSupported:n.get(x.s)}}var ke={onGalleryImageVote:P.Qb,onSaveGalleryPage:S.M,onRemoveGalleryPage:S.J,adTileInViewAction:O.p,adTileTappedAction:O.q,postNavigateAnalyticsAction:P.ib},Se=Object(v.b)(Ee,ke)(Ce);Ce.__docgenInfo={description:"",methods:[{name:"getVoteHandler",docblock:null,modifiers:[],params:[{name:"voteType",optional:!1,type:null}],returns:null},{name:"handlerSaveGalleryPage",docblock:null,modifiers:[],params:[],returns:null},{name:"clickHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"inViewHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"getMediaComponent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"PostHome",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},usePrivacy:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},viewGif:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},spinner:{type:{name:"object"},required:!0,description:""},isViewPort:{type:{name:"bool"},required:!1,description:""},isUserLoggedIn:{type:{name:"bool"},required:!0,description:""},styles:{type:{name:"object"},required:!1,description:""},isDeleted:{type:{name:"bool"},required:!0,description:""},onGalleryImageVote:{type:{name:"func"},required:!1,description:""},onSaveGalleryPage:{type:{name:"func"},required:!1,description:""},onRemoveGalleryPage:{type:{name:"func"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},adTileInViewAction:{type:{name:"func"},required:!1,description:""},adTileTappedAction:{type:{name:"func"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},isWebPSupported:{type:{name:"bool"},required:!1,description:""},streamSection:{type:{name:"string"},required:!1,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},postNavigateAnalyticsAction:{type:{name:"func"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}};t.c=Object(A.a)(Object(v.b)(Ee,ke)(Ce));ve.__docgenInfo={description:"",methods:[],displayName:"PostHomeLinker",props:{isDeleted:{type:{name:"bool"},required:!0,description:""},className:{type:{name:"string"},required:!0,description:""},onMouseEnter:{type:{name:"func"},required:!0,description:""},onMouseLeave:{type:{name:"func"},required:!0,description:""},to:{type:{name:"string"},required:!0,description:""},target:{type:{name:"string"},required:!0,description:""},onClick:{type:{name:"func"},required:!0,description:""},innerRef:{type:{name:"object"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!0,description:""},state:{type:{name:"object"},required:!0,description:""},children:{type:{name:"node"},required:!0,description:""},adTileInteractions:{type:{name:"array"},required:!0,description:""}}}},"ej/z":function(e,t,n){"use strict";function r(e,t,n){if(t<=e)return null;var r=n/t;return Math.ceil(e*r)}function a(e,t){return t/2<e}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},emG5:function(e,t,n){},f6ut:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("lSNA"),p=n.n(r),a=n("q1tI"),f=n.n(a),o=n("TSYQ"),h=n.n(o),g=(n("17x9"),n("m+bm"),{default:"",left:"Checkmark--left",right:"Checkmark--right"});function i(e){var t=e.selected,n=e.text,r=void 0===n?"":n,a=e.handleOnChange,o=void 0===a?function(){}:a,i=e.checkmarkPosition,c=void 0===i?"default":i,s=e.name,l=void 0===s?"":s,u=e.value,d=void 0===u?"":u,m=h()(p()({Checkmark:!0},g[c],!0));return f.a.createElement("label",{className:"Checkbox-wrapper"},r,f.a.createElement("input",{onChange:o,type:"checkbox",defaultChecked:t,name:l,value:d}),f.a.createElement("div",{className:m}))}i.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{text:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},handleOnChange:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},checkmarkPosition:{defaultValue:{value:"'default'",computed:!1},type:{name:"enum",value:[{value:"'default'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},name:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},value:{defaultValue:{value:"''",computed:!1},type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},reference:{type:{name:"func"},required:!1,description:""}}}},fTpD:function(e,t,n){var r=n("VhX2"),a=n("98ov"),o=n("Z0cm");e.exports=function(e){return(o(e)?r:a)(e)}},fbUk:function(e,t,n){},gGMO:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var r=n("pVnL"),l=n.n(r),a=n("QILm"),u=n.n(a),o=n("q1tI"),d=n.n(o),i=(n("17x9"),n("TSYQ")),m=n.n(i),p=n("BWa0");n("9JWB");function f(e){var t=e?"16":"32";return{height:t,width:t,fillColor:"none",strokeColor:"#ffffff"}}function c(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,o=u()(e,["selected","isMini"]),i=m()({Vote:!0,"Vote-up":!0,"Vote-up--selected":n}),c=a?p.bb:p.G,s=f(a);return d.a.createElement(p.cb,l()({className:i,name:c},s,o))}function s(e){var t=e.selected,n=void 0!==t&&t,r=e.isMini,a=void 0!==r&&r,o=u()(e,["selected","isMini"]),i=m()({Vote:!0,"Vote-down":!0,"Vote-down--selected":n}),c=a?p.U:p.j,s=f(a);return d.a.createElement(p.cb,l()({className:i,name:c},s,o))}s.__docgenInfo={description:"",methods:[],displayName:"Downvote",props:{selected:{defaultValue:{value:"false",computed:!(c.__docgenInfo={description:"",methods:[],displayName:"Upvote",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}})},type:{name:"bool"},required:!1,description:""},isMini:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},ghid:function(e,t,n){},gmqy:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("pVnL"),c=n.n(r),a=n("lwsE"),o=n.n(a),i=n("W8MJ"),s=n.n(i),l=n("PJYZ"),u=n.n(l),d=n("7W2i"),m=n.n(d),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),y=n("lSNA"),b=n.n(y),v=n("q1tI"),C=n.n(v),E=(n("17x9"),n("TSYQ")),k=n.n(E),S=n("DUmG"),O=n.n(S);function P(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=g()(r);if(a){var n=g()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f()(this,e)}}function N(e){var t=e.isLoading,n=e.color,r=e.height;if(!t)return null;var a={position:"absolute",zIndex:"".concat(O.a.$zIndexPostSpinner),top:0,left:0,width:"100%",height:"".concat(r,"px"),background:"linear-gradient(".concat(n,", ").concat(O.a.$voyagerDarkGrey,")")};return C.a.createElement("div",{className:"Spinner",style:a})}function I(i){return function(e){m()(r,e);var n=P(r);function r(e){var t;return o()(this,r),t=n.call(this,e),b()(u()(t),"_isMounted",!1),b()(u()(t),"loadHandler",function(){t._isMounted&&t.setState({isLoading:!1})}),b()(u()(t),"errorHandler",function(){t.setState({isLoading:!1})}),t.state={isLoading:!0},t}return s()(r,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.spinner,n=e.styles,r=e.isDeleted,a=this.state.isLoading,o=k()({"Post-item-media":!0,"Post-item-media--deleted":r});return C.a.createElement("div",{className:o,style:n},C.a.createElement(N,{isLoading:a,color:t.color,height:t.height}),C.a.createElement(i,c()({},this.props,{onLoad:this.loadHandler,onError:this.errorHandler})))}}]),r}(C.a.Component)}N.__docgenInfo={description:"",methods:[],displayName:"PostSpinner",props:{isLoading:{type:{name:"bool"},required:!1,description:""},color:{type:{name:"string"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""}}}},hIyu:function(e,t,n){"use strict";var r=n("pVnL"),s=n.n(r),a=n("QILm"),l=n.n(a),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),u=n.n(c),d=n("PJYZ"),m=n.n(d),p=n("7W2i"),f=n.n(p),h=n("a1gu"),g=n.n(h),y=n("Nsbk"),b=n.n(y),v=n("lSNA"),C=n.n(v),E=n("q1tI"),k=n.n(E),S=n("/MKj"),O=(n("17x9"),n("1coQ")),P=n("66r6"),N=n("26Ob"),I=n("AoHe"),w=n("RJ0p"),q=n("P5Jw"),j=n("G5ih"),D=n("E9Wd"),A=n("wmRA"),T=n("uGFe"),R=n("fdoY"),x=n("9rNq"),M=n("pNV7");n("Ya97");function L(e){var t=e.id,n=e.downloadImageAction,r=e.isLoggedIn,a=e.onFavorite,o=k.a.createElement(q.CopyToClipboard,{text:D.z+t},k.a.createElement("button",{type:"button"},k.a.createElement("span",{className:"label"},Object(j.b)("imageCopy")))),i=k.a.createElement("button",{type:"button",onClick:function(){return n(t,t)}},k.a.createElement("span",{className:"label"},Object(j.b)("download"))),c=k.a.createElement("button",{type:"button",onClick:function(){return a(t,null,!1,null,A.u)}},k.a.createElement("span",{className:"label"},Object(j.b)("favoriteLabel")));return k.a.createElement(x.a,{className:"mediaDropdown-menu",dropdownIcon:k.a.createElement(M.Z,{name:M.k,width:21})},o,i,r&&c)}L.__docgenInfo={description:"",methods:[],displayName:"MediaItemDropDownMenu",props:{id:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},onFavorite:{type:{name:"func"},required:!0,description:""},downloadImageAction:{type:{name:"func"},required:!0,description:""}}};var F=Object(S.b)(function(e){return{isLoggedIn:!!e.user.get("isLoggedIn")}},{downloadImageAction:T.Mb,onFavorite:R.Z})(L),_=n("9uSn");function U(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=b()(r);if(a){var n=b()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return g()(this,e)}}var G=function(e){f()(o,e);var a=U(o);function o(){var r;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),C()(m()(r),"getReactionPreview",function(e){var t=r.props.onClick;if(e){var n=e.match(P.c);return k.a.createElement("div",{className:"MediaPreview-wrapper",onClick:t},k.a.createElement("div",{className:"MediaMenuContainer"},Object(w.b)(e),k.a.createElement(F,{id:n[1]})))}}),r}return u()(o,[{key:"expandLink",value:function(){return"true"===this.props.expandlink&&this.props.children!==P.a&&new RegExp(P.c).test(this.props.href)}},{key:"renderTargetMedia",value:function(){var e=this.props,t=(e.children,e.href),n=e.postMedia,r=e.onClick,a=l()(e,["children","href","postMedia","onClick"]),o=n.get(parseInt(t,10)-1),i=o.getIn(["src",o.get("isVideo")?"video":"image"]),c=k.a.createElement("a",s()({href:i},a),"#".concat(t));return k.a.createElement(_.a,{className:"Tooltip-targetMedia",onClick:r,inline:!0,src:i},c)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=(e.postMedia,l()(e,["children","href","postMedia"]));if(this.expandLink())return this.getReactionPreview(n);if(t===P.g)return this.renderTargetMedia();var a=t===P.a?n:t,o=k.a.createElement("a",s()({href:n},r),a);return Object(I.h)(n)?k.a.createElement(_.a,{className:"Tooltip-media",inline:!0,src:n},o):o}}]),o}(k.a.Component);G.defaultProps={expandlink:"false"};t.a=Object(S.b)(function(){return{component:G}},function(n){return{onClick:function(e){var t=e.target.src||e.target.href;return!Object(I.h)(t)||(e.preventDefault(),e.stopPropagation(),n(Object(N.b)({show:!0,src:t})),!1)}}})(O.a);G.__docgenInfo={description:"",methods:[{name:"expandLink",docblock:null,modifiers:[],params:[],returns:null},{name:"getReactionPreview",docblock:null,modifiers:[],params:[{name:"href",type:null}],returns:null},{name:"renderTargetMedia",docblock:null,modifiers:[],params:[],returns:null}],displayName:"LinkifyDecorator",props:{expandlink:{defaultValue:{value:"'false'",computed:!1},type:{name:"enum",value:[{value:"'true'",computed:!1},{value:"'false'",computed:!1}]},required:!1,description:""},children:{type:{name:"string"},required:!0,description:""},href:{type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!0,description:""},onClick:{type:{name:"func"},required:!1,description:""},postMedia:{type:{name:"object"},required:!1,description:""}}}},heTe:function(e,t,n){"use strict";var r=n("/MKj"),a=n("pVnL"),d=n.n(a),o=n("J4zp"),m=n.n(o),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("AG5K")),g=n("OX3u"),y=n("b5GN"),b=n("pNV7"),v=n("BWa0"),C=n("7oyi"),E=n("zuLI");n("IgJu");var i=n("wAdX"),c=n("/PhX"),s=n("RUHF");t.a=Object(r.b)(function(e){var t=e.emerald,n=e.user;return{giftData:t.get("giveEmeraldData").toJS(),isSubscribed:n.getIn(["subscription","isSubscribed"])}},function(e){return{close:function(){e(Object(c.y)(g.q)),e(Object(s.w)())}}})(function(l,e){var u=1<arguments.length&&void 0!==e?e:{};function t(e){var t=e.giftData,n=e.close,r=e.onDialogOpen,a=e.isSubscribed;if(!t.recipientUsername)return null;var o=Object(p.useState)(0),i=m()(o,2),c=i[0],s=i[1];return f.a.createElement(l,d()({className:"GiveGiftDialog GiveGiftDialog-ty",isModal:!1,onClose:n,name:g.q,onOpen:r},u),f.a.createElement("div",{className:"GiveGiftDialog-head"},f.a.createElement(b.Z,{name:b.U}),f.a.createElement(C.b,{className:"GiveGiftDialog-head--close",image:f.a.createElement(v.cb,{name:v.g,width:"32",height:"32"}),onClick:n})),f.a.createElement("div",{className:"GiveGiftDialog-ty-content"},f.a.createElement(E.a,{className:"GiveGiftDialog-ty-confetti",run:c,viewWidth:540,viewHeight:500,loadSpeed:1}),f.a.createElement("span",{onClick:function(){s(c+1)}},f.a.createElement(b.Z,{className:"GiveGiftDialog-ty-heart",name:b.S})),f.a.createElement("div",{className:"GiveGiftDialog-ty-title"},Object(h.a)("giveGiftTyGem")),f.a.createElement("div",{className:"GiveGiftDialog-ty-description"},Object(h.a)("giveGiftTyDescription",t.recipientUsername)),!a&&f.a.createElement(C.b,{className:"GiveGiftDialog-ty-button Button",label:Object(h.a)("emeraldJoin"),title:Object(h.a)("emeraldJoin"),href:"/".concat(y.f,"?source=").concat(g.z)})))}return t.defaultProps={onDialogOpen:function(){}},t}(i.a))},hibn:function(e,t,n){},hrf1:function(e,t,n){},"iaU+":function(e,t,n){"use strict";n.d(t,"b",function(){return Ze}),n.d(t,"a",function(){return Qe});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),C=n.n(h),g=n("q1tI"),E=n.n(g),y=(n("17x9"),n("TSYQ")),k=n.n(y),b=n("/MKj"),S=n("E9Wd"),v=n("GB65"),O=n("LZBw"),P=n("zTH+"),N=n("c0eP"),I=n("DzJC"),w=n.n(I),q=n("kpbE"),j=n("G5ih"),D=n("JzwX"),A=n("pNV7"),T=n("xypG"),R=n("oYs2");function x(e){var t=e.suggestion,o=e.searchString,n=t[R.a];return n&&n.length?E.a.createElement("div",{className:"Suggestion-block ".concat(R.a)},E.a.createElement("div",{className:"Suggestion-title"}),n.map(function(e,t){var n="".concat(S.V,"/gallery/").concat(e.hash||e.id),r=e.title,a=B(o,r);return a.length?E.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},E.a.createElement("span",{className:"Suggestion-item-text"},a)):null})):null}x.__docgenInfo={description:"",methods:[],displayName:"SuggestedPosts",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var M=n("55Ip"),L=n("+qLk");function F(e){var t=e.suggestion,a=e.searchString,n=t[R.b];return n&&n.length?E.a.createElement("div",{className:"Suggestion-block ".concat(R.b)},E.a.createElement("div",{className:"Suggestion-title"},R.b),n.map(function(e,t){var n=e.display_name,r=B(a,n);return r.length?E.a.createElement(M.b,{to:"/".concat(L.B,"/").concat(e.name),key:"".concat(t),className:"Suggestion-item",title:n},E.a.createElement("div",{className:"thumbnail ".concat(R.b),style:{backgroundImage:"url(".concat(S.W,"/").concat(e.background_hash,"_d.jpg?maxwidth=60&shape=thumb&fidelity=high)")}}),E.a.createElement("span",{className:"Suggestion-item-text"},"#",r)):null})):null}F.__docgenInfo={description:"",methods:[],displayName:"SuggestedTags",props:{suggestion:{type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};var _=n("7tbW"),U=n.n(_);function G(e){var t=e.suggestion,n=void 0===t?{}:t,i=e.searchString,r=n[R.c];return r&&r.length?E.a.createElement("div",{className:"Suggestion-block ".concat(R.c)},E.a.createElement("div",{className:"Suggestion-title"},R.c),r.map(function(e,t){var n="".concat(S.V,"/user/").concat(e.url),r=e.url,a=r.split(""),o=U()(i.toLowerCase().split(""));return E.a.createElement("a",{href:n,key:"".concat(t),className:"Suggestion-item",title:r},E.a.createElement("div",{className:"thumbnail ".concat(R.c),style:{backgroundImage:"url(".concat(e.avatar,")")}}),E.a.createElement("span",{className:"Suggestion-item-text"},"@",a.map(function(e,t){return-1===o.indexOf(e.toLowerCase())?e:E.a.createElement("strong",{key:"strong-users-".concat(t),className:"Suggestion-match-case"},e)})))})):null}G.__docgenInfo={description:"",methods:[],displayName:"SuggestedUsers",props:{suggestion:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""}}};n("A8WO");function V(e,t){return E.a.createElement("strong",{key:t,className:"Suggestion-match-case"},e)}function B(e,t,n){var r=2<arguments.length&&void 0!==n?n:V,a=[];if(!e)return a;for(var o=e.trim().toLowerCase().replace(/\s+/g," ").split(" ").join("|"),i=new RegExp("(".concat(o,")"),"gi"),c=i.exec(t),s=0;null!==c&&c[0];)s!==c.index&&0<c.index&&a.push(t.slice(s,c.index)),s=c.index+c[0].length,a.push(r(t.slice(c.index,s),c.index)),c=i.exec(t);return s<t.length&&a.push(t.slice(s,t.length)),a}function W(e){function t(e){var t=e.target.closest(".Suggestion-list");t&&0<e.deltaY&&t.clientHeight+t.scrollTop+5>=t.scrollHeight&&e.preventDefault()}var n=e.suggestion,r=e.searchString,a=e.maxHeight;return E.a.createElement("div",{className:"Suggestion"},E.a.createElement("div",{className:"Suggestion-list".concat(a?" Scrollbar":""),onWheel:t,onTouchMove:t,style:{maxHeight:a?a/2:null}},E.a.createElement(T.d,{model:"suggest",size:20}),E.a.createElement(x,{suggestion:n,searchString:r}),E.a.createElement(F,{suggestion:n,searchString:r}),E.a.createElement(G,{suggestion:n,searchString:r})))}W.__docgenInfo={description:"",methods:[],displayName:"SearchbarSuggestion",props:{suggestion:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},searchString:{type:{name:"string"},required:!0,description:""},maxHeight:{type:{name:"number"},required:!1,description:""},loading:{type:{name:"bool"},required:!1,description:""}}};n("oG7g");function H(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var z=function(e){u()(n,e);var t=H(n);function n(e){var o;return i()(this,n),o=t.call(this,e),C()(s()(o),"inputChangeHandler",function(e){if(!e.target.value)return o.setState({isOpen:!1}),void o.props.cleanSearch();o.props.inputSearch(e.target.value)}),C()(s()(o),"getSuggest",function(e){var t=e.handleFetchSuggest,n=e.searchTag,r=e.searchString,a=o.getSearchString(r,n.symbol);o.setState({isOpen:!!a}),a?t(a.toLowerCase(),n.tagName):r||o.props.cleanSearch()}),C()(s()(o),"submitHandler",function(e){e.preventDefault(),o.props.onSubmitSearch(o.props.searchString),Object(v.cb)("".concat(S.V,"/search?q=").concat(Object(v.z)(o.props.searchString)))}),C()(s()(o),"handleMouseDown",function(){o.props.suggest.size&&o.setState({isOpen:!!o.props.suggest.size})}),C()(s()(o),"handleKeyDown",function(e){27===e.keyCode&&o.setState({isOpen:!1})}),o.state={isOpen:!1},o}return c()(n,[{key:"componentDidUpdate",value:function(e,t){if(e.searchString!==this.props.searchString)this.getSuggest(this.props);else if(e.positionY!==this.props.positionY&&this.searchText&&t.isOpen){this.searchText.getBoundingClientRect().bottom<-70&&this.setState({isOpen:!1})}}},{key:"componentDidMount",value:function(){var e=this;this.removeAutoCloser=Object(D.a)({el:function(){return e.searchText},cb:function(){return e.setState({isOpen:!1})}});this.getSuggest=w()(this.getSuggest,600,{leading:!1,trailing:!0})}},{key:"componentWillUnmount",value:function(){this.getSuggest.cancel(),this.removeAutoCloser&&this.removeAutoCloser()}},{key:"getSearchString",value:function(e,t){return-1<["#","@"].indexOf(t)?e.slice(1,e.length):e}},{key:"render",value:function(){var t=this,e=this.props,n=e.searchString,r=e.loading,a=e.suggest,o=e.searchTag,i=e.style,c=a.size&&"function"==typeof a.toObject?a.toObject():a;return E.a.createElement("div",{className:"Searchbar",style:i},E.a.createElement("form",{onSubmit:this.submitHandler,className:"Searchbar-form"},E.a.createElement("input",{ref:function(e){t.searchText=e},placeholder:Object(j.b)("searchPlaceholder"),type:"text",className:"Searchbar-textInput",value:"".concat(n),onChange:this.inputChangeHandler,onMouseDown:this.handleMouseDown,onKeyDown:this.handleKeyDown,onTouchEnd:this.handleMouseDown,style:{height:36}}),E.a.createElement("button",{onClick:this.submitHandler,type:"submit",className:"Searchbar-submitInput"},E.a.createElement(A.Z,{name:A.v}))),this.state.isOpen&&a.size?E.a.createElement(W,{suggestion:c,searchString:this.getSearchString(n,o.symbol),loading:r}):null)}}]),n}(E.a.Component);z.defaultProps={searchTag:{symbol:""},suggest:{},style:{},onSubmitSearch:function(){}},z.__docgenInfo={description:"",methods:[{name:"inputChangeHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"getSearchString",docblock:null,modifiers:[],params:[{name:"searchString",type:null},{name:"symbol",type:null}],returns:null},{name:"getSuggest",docblock:null,modifiers:[],params:[{name:"props",type:null}],returns:null},{name:"submitHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"handleMouseDown",docblock:null,modifiers:[],params:[],returns:null},{name:"handleKeyDown",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"Searchbar",props:{searchTag:{defaultValue:{value:"{\n    symbol: '',\n}",computed:!1},type:{name:"shape",value:{symbol:{name:"string",required:!1},tagName:{name:"string",required:!1}}},required:!1,description:""},suggest:{defaultValue:{value:"{}",computed:!1},type:{name:"instanceOf",value:"Object"},required:!1,description:""},style:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},onSubmitSearch:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:""},searchString:{type:{name:"string"},required:!0,description:""},inputSearch:{type:{name:"func"},required:!0,description:""},cleanSearch:{type:{name:"func"},required:!0,description:""},handleFetchSuggest:{type:{name:"func"},required:!0,description:""},loading:{type:{name:"bool"},required:!1,description:""},positionY:{type:{name:"number"},required:!1,description:""}}};var Y=Object(b.b)(function(e){var t=e.search,n=e.ui,r=e.display;return{searchString:t.get("searchString")||"",searchTag:t.get("searchTag"),suggest:t.get("suggest")||{},loading:n.spinner&&n.spinner.get("suggest")&&n.spinner.get("suggest").loading,positionY:r.get("positionY")}},function(n){return{handleFetchSuggest:function(e,t){return n(Object(q.e)(e,t))},inputSearch:function(e){return n(Object(q.f)(e))},onSubmitSearch:function(e){return n(Object(q.g)(e))},cleanSearch:function(){return n(Object(q.d)())}}})(z),J=n("ygTn"),K=n("+VfX"),Z=n("lZex");n("rvyR");function Q(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var X=function(e){u()(n,e);var t=Q(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props.searchName;return E.a.createElement("div",{className:"NavbarDropdown"},E.a.createElement("ul",null,E.a.createElement("li",null,E.a.createElement(N.a,null)),E.a.createElement("li",null,E.a.createElement(Z.a,null))),e===K.k&&E.a.createElement(Y,{name:"dropdown"}))}}]),n}(E.a.Component);var $=Object(b.b)(function(e){return{searchName:e.ui.cover.getIn(["searchbar","name"])}})(X);X.__docgenInfo={description:"",methods:[],displayName:"NavbarDropdown",props:{searchName:{type:{name:"string"},required:!1,description:""}}};n("HhWI");function ee(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var te=function(e){u()(n,e);var t=ee(n);function n(e){var r;return i()(this,n),r=t.call(this,e),C()(s()(r),"updateDropdownNavbar",function(e,t){var n=r.dropDown;n&&e.target!==n&&n.parentNode.contains(e.target)&&"INPUT"===e.target.tagName?e.preventDefault():r.setState({isOpen:t})}),C()(s()(r),"toggleHandler",function(e){var t=r.state.isOpen;r.updateDropdownNavbar(e,!t)}),r.state={isOpen:!1},r}return c()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.forceClose;this.state.isOpen&&e.forceClose!==t&&this.setState({isOpen:!1})}},{key:"componentDidMount",value:function(){var t=this;this.removeAutoCloser=Object(D.a)({el:function(){return t.dropDown},cb:function(e){return t.updateDropdownNavbar(e,!1),!0}})}},{key:"componentWillUnmount",value:function(){this.removeAutoCloser&&this.removeAutoCloser()}},{key:"render",value:function(){var t=this,e=this.state.isOpen;return E.a.createElement("div",{className:"NavbarMenuButton"},E.a.createElement("div",{className:"icon icon-menu",ref:function(e){t.dropDown=e},onClick:this.toggleHandler}),e&&E.a.createElement($,null))}}]),n}(g.Component);function ne(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}te.__docgenInfo={description:"",methods:[{name:"updateDropdownNavbar",docblock:null,modifiers:[],params:[{name:"e",type:null},{name:"isOpen",type:null}],returns:null},{name:"toggleHandler",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavbarMenuButton",props:{forceClose:{type:{name:"number"},required:!1,description:""}}};var re=function(e){u()(n,e);var t=ne(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.left,a=e.top,o=e.right,i=e.bottom,c=k()(C()({MoveContainer:!0},t,t));return E.a.createElement("div",{className:c,style:{left:r,top:a,right:o,bottom:i}},n)}}]),n}(g.Component);re.defaultProps={className:""},re.__docgenInfo={description:"",methods:[],displayName:"MoveContainer",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},left:{type:{name:"number"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},right:{type:{name:"number"},required:!1,description:""},bottom:{type:{name:"number"},required:!1,description:""}}};var ae=n("Ty5D");n("JHKR");function oe(e){var t=e.className,n=e.history;return E.a.createElement("a",{href:S.V,className:"GoUp-stopDrag",onClick:function(e){e.preventDefault(),Object(v.tb)(0,0),"/"!==n.location.pathname&&n.push("/")}},E.a.createElement("img",{className:k()("GoUp","GoUp-image","GoUp-stopDrag",C()({},t,!!t)),src:"//s.".concat(S.U,"/images/favicon-32x32.png")}))}oe.defaultProps={className:""},oe.__docgenInfo={description:"",methods:[],displayName:"GoUpComponent",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},history:{type:{name:"object"},required:!1,description:""}}};var ie=Object(ae.h)(oe),ce=n("RIqP"),se=n.n(ce),le=n("D0BC"),ue=n.n(le),de=n("sEfC"),me=n.n(de),pe=n("zMZQ"),fe=n.n(pe),he=n("r9xK"),ge=n.n(he),ye=n("DT9I"),be=n.n(ye),ve=n("+sW7"),Ce=n.n(ve),Ee=n("uFEW"),ke=n.n(Ee),Se=n("naFI"),Oe=n.n(Se),Pe=n("X9Zs"),Ne=n.n(Pe),Ie=[fe.a,ge.a,be.a,Ce.a],we=[ke.a,Oe.a,Ne.a],qe=[-90,90],je=[-45,45];n("w1ny");function De(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ae=100,Te={limit:50,speed:[5.5,2.5],wind:[-.5,.5],spin:[-25,25]};function Re(e,t,n,r){var a=[];e.forEach(function(e){var t=ue.a.apply(void 0,se()(Te.spin));a.push(Object.assign(e,{y:e.y+e.speed},{x:e.x+e.wind},{rotate:e.rotate+t}))});var o=a.filter(function(e){return function(e){return e.x<Object(v.u)()&&e.y<Object(v.t)()}(e)});return t<n&&o.length<Ae?(o.push(function(e,t){var n=t();return n.speed=ue.a.apply(void 0,se()(Te.speed)),n.wind=ue.a.apply(void 0,se()(Te.wind)),n.x=ue()(0,Object(v.u)()),n.y=-10,n.key=e,n}("particle ".concat(t+1),r)),{totalCreated:t+1,confetti:o}):{totalCreated:t,confetti:o.slice(0,n)}}var xe=function(e){u()(n,e);var t=De(n);function n(e){var o;return i()(this,n),o=t.call(this,e),C()(s()(o),"startConfetti",me()(function(){var r=o.props.particleGenerator;o.setState(function(e){var t=e.limit+Te.limit,n=Re(e.confetti,e.totalCreated,t,r);return{confetti:n.confetti,totalCreated:n.totalCreated,limit:t}},function(){1===o.state.confetti.length&&o.runAnimation()})},500,{leading:!0})),C()(s()(o),"runAnimation",function(){var t=o.props.particleGenerator,e=o.state,n=e.confetti,r=e.totalCreated,a=e.limit;Object(v.pb)(function(){var e=Re(n,r,a,t);o.setState({confetti:e.confetti,totalCreated:e.totalCreated}),e.confetti.length&&o.runAnimation()})}),o.state={confetti:[],totalCreated:0,limit:0},o}return c()(n,[{key:"componentDidMount",value:function(){var e=this.props.eventName;Object(v.c)(e,this.startConfetti,!0)}},{key:"componentWillUnmount",value:function(){var e=this.props.eventName;Object(v.mb)(e,this.startConfetti,!0)}},{key:"render",value:function(){var e=this.state.confetti;return E.a.createElement("div",null,0<e.length&&e.map(function(e){return E.a.createElement("img",{className:"confetti-particle",src:e.svg,style:{transform:"rotateZ(".concat(e.rotate,"deg)"),top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),maxWidth:36,maxHeight:36},key:e.key})}))}}]),n}(E.a.Component);xe.defaultProps={particleGenerator:function(){var e={};return Math.random()<.15?(e.svg=we[Math.floor(Math.random()*we.length)],e.rotate=ue.a.apply(void 0,je)):(e.svg=Ie[Math.floor(Math.random()*Ie.length)],e.rotate=ue.a.apply(void 0,qe)),e},eventName:"confetti"},xe.__docgenInfo={description:"",methods:[{name:"runAnimation",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Confetti",props:{particleGenerator:{defaultValue:{value:"party",computed:!0},type:{name:"func"},required:!1,description:""},eventName:{defaultValue:{value:"'confetti'",computed:!1},type:{name:"string"},required:!1,description:""}}};var Me=[-45,45,-90,90];function Le(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Fe="accolade_confetti",_e=function(e){u()(o,e);var r=Le(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),C()(s()(a),"getUrls",function(){var e=a.props,t=e.accoladeData,n=e.accolades,r=t.get("accoladeIds");if(!n||!r)return[];return r.map(function(e){return function(e){return e&&e.get("image_url")}(n.find(function(t){return function(e){return e.get("id")===parseInt(t,10)}}(e)))}).filter(function(e){return!!e})}),a}return c()(o,[{key:"componentDidUpdate",value:function(e){this.props.accoladeData!==e.accoladeData&&Object(v.Eb)(Fe)}},{key:"render",value:function(){var e=this.getUrls();return 0===e.length?null:E.a.createElement(E.a.Fragment,null,E.a.createElement(xe,{eventName:Fe,particleGenerator:function(e){return function(){return{svg:e[Math.floor(Math.random()*e.length)],rotate:ue.a.apply(void 0,Me)}}}(e)}))}}]),o}(E.a.Component);_e.defaultProps={accoladeData:null,accolades:null},_e.__docgenInfo={description:"",methods:[{name:"getUrls",docblock:null,modifiers:[],params:[],returns:null}],displayName:"AccoladeConfetti",props:{accoladeData:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""},accolades:{defaultValue:{value:"null",computed:!1},type:{name:"object"},required:!1,description:""}}};var Ue=Object(b.b)(function(e){var t=e.postsData;return{accoladeData:e.ui.gallery.get("accoladeData"),accolades:t&&t.getIn(["currentPostMeta","accolades","available"])}},{})(_e);n("oJUB"),n("sUKj"),n("6IHV");function Ge(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ve=function(e){u()(n,e);var t=Ge(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props,t=e.username,n=e.top,r=e.forceClose,a=k()({"Navbar HomeNavbar":!0,active:t});return E.a.createElement(re,{className:a,top:n},E.a.createElement(Ue,null),E.a.createElement(xe,null),E.a.createElement(te,{"forceСlose":r}),E.a.createElement("div",{className:"NavbarContainer-left"},E.a.createElement(J.a,null),E.a.createElement(N.b,null),E.a.createElement(ie,{className:"ProfileCover-up"})),E.a.createElement("div",{className:"NavbarContainer-center"},E.a.createElement(Y,null)),E.a.createElement("div",{className:"NavbarContainer-right"},E.a.createElement(O.a,null)))}}]),n}(E.a.Component);Ve.defaultProps={username:""},Ve.__docgenInfo={description:"",methods:[],displayName:"Navbar",props:{username:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},fireMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},fireInDropDownMessagingNavAnalytics:{type:{name:"func"},required:!1,description:""},top:{type:{name:"number"},required:!1,description:""},searchName:{type:{name:"string"},required:!1,description:""},forceClose:{type:{name:"number"},required:!1,description:""}}};var Be=Object(b.b)(function(e){var t=e.user,n=e.ui,r=e.display;return{username:t.get("username"),top:n.cover.getIn(["navbar","top"]),searchName:n.cover.getIn(["searchbar","name"]),forceClose:r.get("positionY")}},function(e){return{fireMessagingNavAnalytics:function(){e(Object(P.d)("topNavBar"))},fireInDropDownMessagingNavAnalytics:function(){e(Object(P.d)("usernameDropdown")),e(Object(P.g)("messages"))}}})(Ve),We=n("Bw9V");n("hrf1");function He(e){var t=e.newPosts,n=e.handleGalleryPostRerender;return t?E.a.createElement("div",{className:"NewPostsNotification",onClick:n},E.a.createElement(A.Z,{name:A.b,className:"".concat(A.b)}),Object(j.b)("newPosts",t)):null}He.__docgenInfo={description:"",methods:[],displayName:"NewPostsNotification",props:{newPosts:{type:{name:"number"},required:!0,description:""},handleGalleryPostRerender:{type:{name:"func"},required:!0,description:""}}};var ze=Object(b.b)(function(e){return{newPosts:e.ui.newPosts.get("newPostsNumber")}},{handleGalleryPostRerender:We.B})(He),Ye=n("/PhX");n("sQc6");function Je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ke(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Ze=function(e){u()(o,e);var r=Ke(o);function o(){var a;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),C()(s()(a),"scrollHandler",function(){var e=a.props.onScroll;a._lastKnownScrollPosition=Math.round(Object(v.ab)()),a._ticking||Object(v.pb)(function(){a.calculatePositioning(a._lastKnownScrollPosition),e&&e(),a._ticking=!1}),a._ticking=!0}),C()(s()(a),"updateHeight",function(){var e=a.props,t=e.coverHeight,n=e.modifyCoverHeight;if(a._elem){var r=Math.round(a._elem.getBoundingClientRect().height);t!==r&&n({height:r})}}),a}return c()(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.modifyCoverHeight,n=e.updateHeightHandler;this._elem&&t({height:this._elem.getBoundingClientRect().height});this._lastKnownScrollPosition=0,this._ticking=!1,Object(v.a)("scroll",this.scrollHandler),"function"==typeof n&&n(this.updateHeight)}},{key:"calculatePositioning",value:function(e){var t=this.props,n=t.coverFixed,r=t.coverHeight,a=t.modifyCoverPosition;n&&e>r+K.a||a({scrollY:e})}},{key:"componentWillUnmount",value:function(){(0,this.props.modifyCoverHeight)({height:0,top:0}),Object(v.ib)("scroll",this.scrollHandler)}},{key:"componentDidUpdate",value:function(){this.updateHeight()}},{key:"render",value:function(){var t=this,e=this.props,n=e.isPromoted,r=e.backgroundHash,a=e.coverTop,o=e.coverFixed,i=e.children,c=e.className,s=e.backgroundType,l=e.minHeight,u=e.Banner,d=e.isNavBar,m=e.SCTU,p=e.SCTUPath,f=e.SCTUTargeting,h=e.hideNewPostNotification,g=e.transformationStyle,y=e.customStyle,b=k()(C()({isFixed:o,isPromoted:n},c,c)),v=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach(function(e){C()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({top:a,minHeight:l,backgroundImage:function(e,t){switch(e){case K.o:case K.n:return;case K.s:return"linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.3) 20%), url(".concat(S.W,"/").concat(t,".jpg)");case K.p:return"linear-gradient( rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2) ), url(".concat(S.V,"/user/").concat(t,"/cover)");case K.u:return"linear-gradient(180deg, rgba(39, 42, 51, 0.8) 21%, #272A33 77%), linear-gradient(116.32deg, rgba(105, 19, 254, 0.56) 0%, rgba(1, 185, 107, 0.56) 100%), url(".concat(S.W,"/").concat(t,".jpg)");case K.t:return"linear-gradient(rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 1) 100%), url(".concat(S.W,"/").concat(t,".jpg)");default:return"linear-gradient(167deg, rgba(68, 215, 142, 0), rgba(41, 182, 112, 0)), linear-gradient(rgba(0, 0, 0, 0.43), rgba(0, 0, 0, 0.43)), linear-gradient(141deg, #3023ae, #3ec871), url(".concat(S.W,"/").concat(t,".jpg)")}}(s,r)},y);return o&&(v=Object.assign(v,g)),E.a.createElement("div",{className:"App-cover NewCover ".concat(b),style:v,ref:function(e){t._elem=e}},m&&E.a.createElement(m,{path:p,onStatusChange:this.updateHeight,slotTargeting:f}),u&&E.a.createElement(u,{onStatusChange:this.updateHeight}),d&&E.a.createElement(Be,null),i,!h&&o&&E.a.createElement(ze,null))}}]),o}(E.a.Component);Ze.defaultProps={className:"",backgroundHash:"",isPromoted:!1,top:0,minHeight:K.l,isNavBar:!0,SCTUTargeting:{},hideNewPostNotification:!1,preventFixed:!1,useOffset:!1};var Qe=Object(b.b)(function(e,t){var n=e.gallery,r=e.ui,a=e.fastGrid,o=e.ad,i=t.backgroundType,c=t.backgroundHash,s=t.preventFixed,l=t.useOffset,u=i===K.p?(c||"").toLowerCase():n.get("streamBackgroundHash"),d={};o.getIn(["transformation","animatingIn"])&&(d={opacity:0}),o.getIn(["transformation","enabled"])&&(d={background:"linear-gradient(rgba(".concat(o.getIn(["transformation","backgroundColor"]),", 0.64), rgba(").concat(o.getIn(["transformation","backgroundColor"]),", 0.9)), url(").concat(o.getIn(["transformation","backgroundImage"]),")"),opacity:o.getIn(["transformation","animatingOut"])?0:1});var m={};return l&&(m.paddingLeft=a.get("leftOffset"),m.paddingRight=a.get("rightOffset")),{coverTop:r.cover.get("top"),coverHeight:r.cover.get("height"),isPromoted:n.get("streamIsPromoted"),backgroundHash:u,customStyle:m,transformationStyle:d,coverFixed:!s&&r.cover.get("fixed")}},{modifyCoverHeight:Ye.E,modifyCoverPosition:Ye.F})(Ze);Ze.__docgenInfo={description:"",methods:[{name:"scrollHandler",docblock:null,modifiers:[],params:[],returns:null},{name:"calculatePositioning",docblock:null,modifiers:[],params:[{name:"position",type:null}],returns:null},{name:"updateHeight",docblock:null,modifiers:[],params:[],returns:null}],displayName:"CoverHeader",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},backgroundHash:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},isPromoted:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},top:{defaultValue:{value:"0",computed:!1},required:!1},minHeight:{defaultValue:{value:"DEFAULT_HEIGHT",computed:!0},type:{name:"number"},required:!1,description:""},isNavBar:{defaultValue:{value:"true",computed:!1},type:{name:"bool"},required:!1,description:""},SCTUTargeting:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},hideNewPostNotification:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},preventFixed:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},coverTop:{type:{name:"number"},required:!1,description:""},modifyCoverHeight:{type:{name:"func"},required:!0,description:""},modifyCoverPosition:{type:{name:"func"},required:!0,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},backgroundType:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},coverFixed:{type:{name:"bool"},required:!1,description:""},updateHeightHandler:{type:{name:"func"},required:!1,description:""},Banner:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTU:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1,description:""},SCTUPath:{type:{name:"number"},required:!1,description:""},onScroll:{type:{name:"func"},required:!1,description:""},transformationStyle:{type:{name:"object"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""},leftOffset:{type:{name:"number"},required:!1,description:""},rightOffset:{type:{name:"number"},required:!1,description:""}}}},iww3:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("q1tI"),s=n.n(r),a=(n("17x9"),n("TSYQ")),l=n.n(a);n("58bT");function o(e){var t=e.name,n=e.value,r=e.toggleHandler,a=e.labelText,o=e.className,i=e.children,c=e.isDisabled;return s.a.createElement("div",{className:l()("UploadCheckbox",{isDisabled:c},o)},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",name:t,value:"true",id:t,checked:n,onChange:r,disabled:c}),s.a.createElement("span",null)),a&&s.a.createElement("label",{htmlFor:t},a),i)}o.__docgenInfo={description:"",methods:[],displayName:"UploadCheckbox",props:{name:{type:{name:"string"},required:!0,description:""},value:{type:{name:"bool"},required:!0,description:""},toggleHandler:{type:{name:"func"},required:!0,description:""},labelText:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!0,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},isDisabled:{type:{name:"bool"},required:!1,description:""}}}},jAEK:function(e,t,n){},"jbM+":function(e,t,n){var r=n("R/W3");e.exports=function(e,t){return!!(null==e?0:e.length)&&-1<r(e,t,0)}},jlYo:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return l});var r="active",a="scheduled",o="expired",i=1,c=3,s=4,l="Campaign not found"},kVJ9:function(e,t,n){},lQn5:function(e,t,n){"use strict";n.d(t,"a",function(){return ae});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("sEfC")),C=n.n(v),E=n("/MKj"),k=n("ANjH"),S=n("Ty5D"),O=n("if3o"),P=n("Bw9V"),N=n("Gk2F"),I=n("+qLk"),w=n("TSYQ"),q=n.n(w),j=n("Njrs");function D(e){var t,n=e.children,r=e.data,a=e.handleDragItem,o=e.dragEnd,i=e.className,c=q()(g()({Draggable:!0},i,!!i));return b.a.createElement("div",{ref:function(e){t=e},className:c,draggable:"true","data-transfer":JSON.stringify(r),onDragStart:function(e){e.stopPropagation();try{e.dataTransfer.setDragImage(t,-20,-20)}catch(e){}e.dataTransfer.setData("text","{}"),a()},onDragEnd:o},n)}D.defaultProps={className:""};var A=Object(E.b)(null,function(e,t){var n=t.name,r=t.data;return{handleDragItem:function(){return e(Object(j.c)({name:n,data:r}))},dragEnd:function(){return e(Object(j.d)({name:n}))}}})(D);D.__docgenInfo={description:"",methods:[],displayName:"Draggable",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},data:{type:{name:"object"},required:!1,description:""},src:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},handleDragItem:{type:{name:"func"},required:!1,description:""},dropItem:{type:{name:"func"},required:!1,description:""},dragEnd:{type:{name:"func"},required:!1,description:""}}};var T=n("fKOs");function R(e){var t=e.selected,n=e.children,r=e.className,a=e.handleToggle,o=["Selectable"];return r&&o.push(r),t&&o.push("Selectable-selected"),b.a.createElement("div",{className:o.join(" "),onClick:function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),a())}},n)}var x=Object(E.b)(function(e,t){var n=t.name,r=t.data,a=e.selectables.get(n);return{selected:a&&a.has(r)}},function(e,t){var n=t.name,r=t.data;return{handleToggle:function(){return e(Object(T.f)({name:n,data:r}))}}})(R);R.__docgenInfo={description:"",methods:[],displayName:"Selectable",props:{data:{type:{name:"string"},required:!1,description:""},children:{type:{name:"object"},required:!0,description:""},name:{type:{name:"string"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},selected:{type:{name:"bool"},required:!1,description:""},handleToggle:{type:{name:"func"},required:!1,description:""}}};var M=n("G5ih"),L=n("f6ut"),F=n("9uSn");n("wmkP");function _(e){var t=e.checked,n=e.onToggle,r=e.withTooltip,a=b.a.createElement(L.a,{handleOnChange:n,selected:t});return b.a.createElement("div",{className:"FavoritesPostCheckbox"},r&&b.a.createElement(F.a,{text:Object(M.b)("dragDropTooltip")},a),!r&&a)}_.defaultProps={checked:!1,withTooltip:!1},_.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostCheckbox",props:{checked:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onToggle:{type:{name:"func"},required:!0,description:""}}};n("FuWu");function U(e){var t=e.onClick,n=e.withTooltip,r=b.a.createElement("span",{className:"icon-trash"});return b.a.createElement("div",{className:"FavoritesPostDelete",onClick:t},n&&b.a.createElement(F.a,{text:Object(M.b)("deleteFavFromAll")},r),!n&&r)}U.defaultProps={withTooltip:!1},U.__docgenInfo={description:"",methods:[],displayName:"FavoritesPostDelete",props:{withTooltip:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},onClick:{type:{name:"func"},required:!0,description:""}}};var G=n("ega+"),V=n("1Gek"),B=n("Uzvo"),W=n("Uyyq"),H=n.n(W),z=n("mpKo"),Y=n.n(z);n("wcKY");function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Z(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var Q="selectedFavorites",X=function(e){u()(o,e);var a=Z(o);function o(){var r;i()(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),g()(s()(r),"handlerRemoveFromFavorite",function(){var e=r.props,t=e.folderInfo,n=e.post;(0,e.removeFromFavorite)(n.id,n.isAlbum,Object(V.f)(n),t&&t.get("id"))}),g()(s()(r),"handlerToggle",function(){var e=r.props,t=e.firstTime,n=e.post;(0,e.handleToggle)(Object(V.f)(n),t)}),r}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.post,n=e.folderInfo,r=e.firstTime,a=e.selectables,o=e.isOwner,i=e.username;if(!n)return null;var c=Object(V.f)(t),s=n&&n.get("id"),l="".concat(Object(V.a)(n.toJS(),o,i),"/").concat(t.id),u=a&&1<a.size,d=a&&a.has(c),m=r&&s===O.a,p=K(K({},this.props),{},{post:Object.assign(t,{href:l})});if(!o)return b.a.createElement(G.b,p);var f=q()({FavoritesPost:!0,isSelected:d});return b.a.createElement("div",{className:f},b.a.createElement(A,{className:"FavoritesPost-draggable",name:"favorites",src:u?Y.a:H.a,data:{selectableName:Q,id:c}},b.a.createElement(x,{name:Q,className:"FavoritesPost-selectable",data:c},b.a.createElement(G.b,K(K({},p),{},{usePrivacy:!t.inGallery})))),b.a.createElement(U,{withTooltip:m,onClick:this.handlerRemoveFromFavorite}),b.a.createElement(_,{onToggle:this.handlerToggle,checked:d,withTooltip:m}))}}]),o}(y.Component);X.defaultProps={className:""},X.__docgenInfo={description:"",methods:[{name:"handlerRemoveFromFavorite",docblock:null,modifiers:[],params:[],returns:null},{name:"handlerToggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"FavoritesPost",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},post:{type:{name:"object"},required:!0,description:""},isOwner:{type:{name:"bool"},required:!1,description:""},folderInfo:{type:{name:"object"},required:!1,description:""},firstTime:{type:{name:"bool"},required:!0,description:""},username:{type:{name:"string"},required:!1,description:""},selectables:{type:{name:"object"},required:!1,description:""},removeFromFavorite:{type:{name:"func"},required:!0,description:""},handleToggle:{type:{name:"func"},required:!0,description:""}}};var $=Object(B.a)(Object(k.d)(S.h,Object(E.b)(function(e,t){var n=e.user,r=e.account,a=e.favorites,o=e.selectables,i=t.match,c=(i.params.username||"").toLowerCase(),s=parseInt(i.params.id||O.a,0),l=r.getIn(["accounts",c]),u=l?l.get("username"):null;return{isOwner:n.get("username")===u,folderInfo:a.getIn(["folders",s]),firstTime:!a.get("hasUsedFavoriteFolders"),username:c,selectables:o.get(Q)}},function(o,e){var i=e.link;return{removeFromFavorite:function(e,t,n,r){var a={id:e,isAlbum:t};r===O.a?o(Object(N.w)(a)):o(Object(N.v)({id:r,link:i,faves:[n]})),o(Object(P.K)([a]))},handleToggle:function(e,t){o(Object(T.f)({name:Q,data:e})),t&&o(Object(N.y)())}}}))(X));n("1POK");function ee(e){var t=e.id,n=e.isOwner,r=Object(M.b)("noFavoritesToShow");return n&&(r=Object(M.b)("noFavoritesOfMine"),t!==O.a&&(r=Object(M.b)("noFavoritesInFolderOfMine"))),b.a.createElement("div",{className:"ProfileFavoritesEmpty"},r)}function te(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function re(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function ae(){var n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return function(t){var e=function(e){u()(o,e);var a=re(o);function o(){var n;i()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),g()(s()(n),"moreDataFetch",C()(function(){n.props.hasMore&&n.fetchGallery(ne(ne({},n.props),{},{insertionModifier:P.a}))},I.o,{leading:!0,trailing:!1})),g()(s()(n),"dataFetch",function(e){n.props.cleanupGallery(),n.fetchGallery(ne(ne({},e),{},{insertionModifier:P.m,streamPage:0}))}),g()(s()(n),"fetchGallery",function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.folderId,t.streamPage,t.streamSort,t.streamOrganized,t.insertionModifier)}}),g()(s()(n),"getEmptyRow",function(){return b.a.createElement(ee,{isOwner:n.props.isOwner})}),n}return c()(o,[{key:"componentDidMount",value:function(){n&&this.props.isFoldersFetched&&this.dataFetch(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.folderId,r=t.streamOrganized,a=t.streamSort,o=t.isFoldersFetched;return n&&n!==e.folderId?this.dataFetch(this.props):o&&!e.isFoldersFetched?this.dataFetch(this.props):r&&r!==e.streamOrganized?this.dataFetch(this.props):a&&a!==e.streamSort?this.dataFetch(this.props):void 0}},{key:"render",value:function(){return b.a.createElement(t,{Child:$,moreDataFetch:this.moreDataFetch,emptyRow:this.getEmptyRow})}}]),o}(b.a.Component);return e.defaultProps={folderId:O.a},e.displayName="WithFavoritesData(".concat(function(e){return e.displayName||e.name||"Component"}(t),")"),Object(k.d)(S.h,Object(E.b)(function(e,t){var n=e.favorites,r=e.gallery,a=t.match,o=Number.parseInt(a.params.id||O.a,10);return{streamSort:n.get("sort"),streamPage:Number.parseInt(n.get("page")||0,10),streamOrganized:n.get("organized"),isFoldersFetched:n.get("isFoldersFetched"),isFetching:r.get("isFetching"),hasMore:r.get("hasMore"),folderId:o}},function(l,e){var u=e.username,d=e.isOwner,m=e.isLoggedIn;return{fetchGallery:function(e,t,n,r,a){var o=1<arguments.length&&void 0!==t?t:0,i=2<arguments.length&&void 0!==n?n:O.d,c=3<arguments.length&&void 0!==r?r:O.l,s=4<arguments.length?a:void 0;return l(0<=e?Object(N.p)({username:u,id:e,isOwner:d,page:o,sort:i,insertionModifier:s,isAuthed:m}):d?Object(N.o)({username:u,page:o,sort:i,organized:c,insertionModifier:s,isAuthed:m}):Object(N.r)({username:u,page:o,sort:i,insertionModifier:s,isAuthed:m}))},cleanupGallery:function(){return l(Object(P.s)())}}}))(e)}}ee.defaultProps={isOwner:!1},ee.__docgenInfo={description:"",methods:[],displayName:"ProfileFavoritesEmpty",props:{isOwner:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""}}}},"m+bm":function(e,t,n){},mky3:function(e,t,n){},moYt:function(e,t,n){var r=n("dt0z");e.exports=function(e){return r(e).toUpperCase()}},mpKo:function(e,t,n){e.exports=n.p+"desktop-assets/multi-drag.c600d4c73980a8f8fb9f06a3d290bb2b.png"},"n/mK":function(e,t,n){"use strict";var r=n("pVnL"),s=n.n(r),a=n("QILm"),l=n.n(a),o=n("q1tI"),u=n.n(o),i=(n("17x9"),n("/MKj")),d=n("55Ip"),m=n("GB65");function c(e){var t=e.innerRef,n=e.to,r=(e.isLoggedIn,e.isPostPageBeta),a=e.children,o=(e.dispatch,e.isExternalAd),i=e.state,c=l()(e,["innerRef","to","isLoggedIn","isPostPageBeta","children","dispatch","isExternalAd","state"]);return r&&!o?u.a.createElement(d.a,s()({draggable:"false",to:{pathname:Object(m.jb)(n),state:i},ref:t},c),a):u.a.createElement("a",s()({draggable:"false",href:n,ref:t},c),a)}c.defaultProps={state:{}};c.__docgenInfo={description:"",methods:[],displayName:"PostLinkComponent",props:{state:{defaultValue:{value:"{}",computed:!1},type:{name:"object"},required:!1,description:""},innerRef:{type:{name:"object"},required:!1,description:""},to:{type:{name:"string"},required:!0,description:""},isLoggedIn:{type:{name:"bool"},required:!1,description:""},isPostPageBeta:{type:{name:"bool"},required:!1,description:""},children:{type:{name:"node"},required:!0,description:""},dispatch:{type:{name:"func"},required:!0,description:""},isExternalAd:{type:{name:"bool"},required:!1,description:""}}},t.a=Object(i.b)(function(e){var t=e.user;return{isLoggedIn:t.get("isLoggedIn"),isPostPageBeta:t.get("flags").get("desktopPostPageBeta")}})(c)},nAF4:function(e,t,n){},nFdL:function(e,t,n){},naFI:function(e,t,n){e.exports=n.p+"desktop-assets/b2.8b9e5b2c5f0b610eb10ef24ece1539cd.svg"},neJP:function(e,t,n){},nswd:function(e,t,n){},"o+s0":function(e,t,n){},o9hv:function(e,t,n){},oAby:function(e,t,n){},oG7g:function(e,t,n){},oJUB:function(e,t,n){},oSho:function(e,t,n){},oYpj:function(e,t,n){},pQSO:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("pVnL"),i=n.n(r),a=n("QILm"),c=n.n(a),o=n("q1tI"),s=n.n(o),l=(n("17x9"),n("TSYQ")),u=n.n(l),d=n("BWa0");n("kVJ9");function m(e){var t=e.selected,n=void 0!==t&&t,r=c()(e,["selected"]),a=u()({Favorite:!0,"Favorite--selected":n}),o={height:"32",width:"32",fillColor:"none",strokeColor:"#ffffff"};return s.a.createElement(d.cb,i()({className:a,name:d.r},o,r))}m.__docgenInfo={description:"",methods:[],displayName:"Favorite",props:{selected:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""}}}},pR6v:function(e,t,n){"use strict";n.r(t),n.d(t,"HiddenAlbum",function(){return m}),n.d(t,"HiddenImage",function(){return p});var r=n("/MKj"),a=n("fdoY"),o=n("ErBw"),i=n("/PhX"),c=n("2c7z"),s=n("76Z7"),l=n("WSv3"),u=n("Ogr3"),d=n("Pom+"),m=Object(r.b)(d.b,{retrievePostAction:a.vb,retrievePostMetaAction:a.zb,retrievePromotedPostAction:a.xb,resetPostDataAction:a.sb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.bb,goToPreviousPostAction:a.cb,newPostAction:a.fb,promotedPostViewAction:a.mb,reachedBottom:a.ob,toggleAudioState:c.f,postpageBetaOptOutAction:l.M,setTransformationAction:o.F,updateAdConfigAction:o.H})(d.a),p=Object(r.b)(d.b,{retrievePostAction:a.wb,retrievePostMetaAction:a.zb,retrievePromotedPostAction:a.xb,resetPostDataAction:a.sb,updateViewportHeightAction:s.c,updateGalleryContentWrapperWidth:i.M,goToNextPostAction:a.bb,goToPreviousPostAction:a.cb,newPostAction:a.fb,promotedPostViewAction:a.mb,reachedBottom:a.ob,toggleAudioState:c.f,postpageBetaOptOutAction:l.M,setTransformationAction:o.F,toastError:u.d,updateAdConfigAction:o.H})(d.a)},pV1z:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n("q1tI"),a=n.n(r);n("17x9");function o(e){var t=e&&!e.isEmpty()&&e.toJS();return!(!t||!t.showsAds)}function i(e){var t=e.path,n=e.postAdConfig,r=e.children;return e.forceSafe||o(n)?a.a.createElement("div",null,r(t)):null}i.__docgenInfo={description:"AdSafetySwitch controls post level ad properties and logic",methods:[],displayName:"AdSafetySwitch",props:{path:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},postAdConfig:{type:{name:"object"},required:!1,description:""},children:{type:{name:"func"},required:!1,description:""},forceSafe:{type:{name:"bool"},required:!1,description:""}}}},pxaO:function(e,t,n){},q8cC:function(e,t,n){},qAYT:function(e,t,n){},qMU6:function(e,t,n){},qhsG:function(e,t,n){},r9xK:function(e,t,n){e.exports=n.p+"desktop-assets/s2.dd85daa2582e347fdab35ad5a8e74dca.svg"},rbYx:function(e,t,n){},rlD7:function(e,t,n){},rvyR:function(e,t,n){},sQc6:function(e,t,n){},sUKj:function(e,t,n){},sWSo:function(e,t,n){"use strict";n.d(t,"b",function(){return F}),n.d(t,"d",function(){return _}),n.d(t,"a",function(){return U});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("ANjH")),C=n("/MKj"),E=n("sEfC"),k=n.n(E),S=n("zXN+"),O=n("wL9V"),P=n("N9yH"),N=n("vuO0"),I=n("cF8P"),w=n("DUmG"),q=n.n(w);n("9DFJ");function j(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function D(e){var t=e.item;return b.a.createElement("div",{key:t.id,className:"PostWrapper",style:{height:t.size,background:"linear-gradient(".concat(t.colorLoading,", ").concat(q.a.$voyagerDarkGrey,")")}})}var A=function(e){u()(n,e);var t=j(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"shouldComponentUpdate",value:function(e){return e.version!==this.props.version}},{key:"render",value:function(){var n=this,e=this.props,t=e.column,r=e.hasMargin,a=e.Child,o={width:I.c},i="Grid-column".concat("".concat(r?" hasMargin":""));return b.a.createElement("div",{style:o,className:i},t.getItems().map(function(e,t){return e.isInview?b.a.createElement("div",{key:"".concat(e.id,"-").concat(t),style:{height:e.size,marginBottom:16,position:"relative",zIndex:e.isActiveInteraction?2:1}},b.a.createElement(a,{id:e.id,width:I.c,height:e.size,colorLoading:e.colorLoading,isViewPort:e.isViewPort,isDeleted:e.isDeleted,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop})):b.a.createElement(D,{key:e.id,item:e})}))}}]),n}(b.a.Component);A.__docgenInfo={description:"",methods:[],displayName:"FastColumn",props:{column:{type:{name:"object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},hasMargin:{type:{name:"bool"},required:!1,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""}}};var T=n("Y22u"),R=n("GB65"),x=n("G5ih");n("LbAz");function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function L(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var F=function(e){u()(r,e);var n=L(r);function r(e){var t;return a()(this,r),t=n.call(this,e),g()(s()(t),"inViewHandler",k()(function(){t.setState({inView:Object(T.a)(t.grid.current)})},200)),g()(s()(t),"resizeHandler",k()(function(){t.grid.current&&t.props.updateGridOffsetAction(t.grid.current.offsetTop)},200)),t.grid=b.a.createRef(),t.state={inView:!1},t}return i()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.mountGrid,n=e.columnsCount,r=e.modifyDisplayState;t({width:e.viewPortWidth,viewUniform:e.shouldViewUniform,height:Object(R.t)(),topOffset:this.grid.current?this.grid.current.offsetTop+this.props.coverHeight:this.props.coverHeight}),0<n&&r({contentWidth:Object(S.a)(n)}),Object(R.c)("scroll",this.inViewHandler),Object(R.c)("resize",this.resizeHandler)}},{key:"componentDidUpdate",value:function(e,t){if(e.columnsCount!==this.props.columnsCount&&this.props.modifyDisplayState({contentWidth:Object(S.a)(this.props.columnsCount)}),e.positionY!==this.props.positionY&&0<this.props.columns.length&&e.version!==this.props.version){var n=this.props.columns[0].getSize();this.props.topOffset+n-this.props.positionY<Object(R.t)()*I.i&&this.props.moreDataFetch()}e.coverHeight!==this.props.coverHeight&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop),!t.inView&&this.state.inView&&this.grid.current&&this.props.updateGridOffsetAction(this.grid.current.offsetTop)}},{key:"shouldComponentUpdate",value:function(e,t){return e.version!==this.props.version||(e.isFetching!==this.props.isFetching||(e.coverHeight!==this.props.coverHeight||t.inView!==this.state.inView))}},{key:"componentWillUnmount",value:function(){this.props.unmountGrid(),Object(R.mb)("scroll",this.inViewHandler),Object(R.mb)("resize",this.resizeHandler)}},{key:"render",value:function(){var n=this,e=this.props,t=e.viewUniform,r=e.columns,a=e.isFetching,o=e.fetchError,i=e.posts,c=e.version,s=e.Child,l=e.emptyRow,u=e.coverHeight,d=e.customStyle;if(0===r.length)return null;var m="FastGrid".concat(t?" uniform":""),p=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({marginTop:u-I.k,width:Object(S.a)(r.length)},d);if(o&&0===i.size)return b.a.createElement("h1",{className:"FastGrid-Error",style:p},Object(x.b)("explanationGeneric")," ",Object(x.b)("suggestionGeneric"));if(0===i.size&&!a&&l)return l();var f=r.slice().sort(function(e,t){return e.getId().slice(-1)-t.getId().slice(-1)});return b.a.createElement("div",{ref:this.grid,className:m,style:p},f.map(function(e,t){return b.a.createElement(A,{key:e.getId(),column:e,version:10*c+e.version,hasMargin:0!==t,Child:s,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop})}))}}]),r}(b.a.Component);function _(e,t){var n=e.gallery,r=e.fastGrid,a=e.display,o=e.posts,i=e.ui,c=t.useOffset,s={};return c&&(s.marginLeft=r.get("leftOffset"),s.marginRight=r.get("rightOffset")),{columns:r.get("columns"),version:r.get("version"),gridWidth:r.get("width"),topOffset:r.get("topOffset"),positionY:a.get("positionY"),columnsCount:r.get("columns").length,viewUniform:r.get("viewUniform"),shouldViewUniform:n.get("viewUniform"),isFetching:n.get("isFetching"),viewPortWidth:a.get("viewPort").get("width"),fetchError:n.get("fetchError"),posts:o.get("posts"),coverHeight:i.cover.get("height"),customStyle:s,useOffset:c}}F.defaultProps={useOffset:!1};var U=Object(v.d)(Object(N.a)(!1),Object(C.b)(_,{modifyDisplayState:O.f,mountGrid:P.g,unmountGrid:P.i,updateGridOffsetAction:P.j}))(F);F.__docgenInfo={description:"",methods:[],displayName:"FastGrid",props:{useOffset:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},moreDataFetch:{type:{name:"func"},required:!0,description:""},streamSection:{type:{name:"string"},required:!0,description:""},mountGrid:{type:{name:"func"},required:!0,description:""},unmountGrid:{type:{name:"func"},required:!0,description:""},modifyDisplayState:{type:{name:"func"},required:!0,description:""},topOffset:{type:{name:"number"},required:!0,description:""},positionY:{type:{name:"number"},required:!0,description:""},viewUniform:{type:{name:"bool"},required:!0,description:""},shouldViewUniform:{type:{name:"bool"},required:!0,description:""},isFetching:{type:{name:"bool"},required:!0,description:""},columns:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},version:{type:{name:"number"},required:!0,description:""},columnsCount:{type:{name:"number"},required:!0,description:""},gridWidth:{type:{name:"number"},required:!0,description:""},viewPortWidth:{type:{name:"number"},required:!0,description:""},fetchError:{type:{name:"instanceOf",value:"Object"},required:!1,description:""},posts:{type:{name:"instanceOf",value:"Object"},required:!0,description:""},Child:{type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!0,description:""},emptyRow:{type:{name:"func"},required:!1,description:""},coverHeight:{type:{name:"number"},required:!0,description:""},updateGridOffsetAction:{type:{name:"func"},required:!0,description:""},navigationTrigger:{type:{name:"string"},required:!1,description:""},navigationDirection:{type:{name:"string"},required:!1,description:""},location:{type:{name:"string"},required:!1,description:""},sendToTop:{type:{name:"bool"},required:!1,description:""},customStyle:{type:{name:"object"},required:!1,description:""}}};t.c=Object(v.d)(Object(N.a)(),Object(C.b)(_,{modifyDisplayState:O.f,mountGrid:P.g,unmountGrid:P.i,updateGridOffsetAction:P.j}))(F)},uFEW:function(e,t,n){e.exports=n.p+"desktop-assets/b1.606f828f35a1cbfa3829dcafa2635c36.svg"},"vN+2":function(e,t){e.exports=function(){}},vuO0:function(e,t,n){"use strict";n.d(t,"a",function(){return D});var r=n("lwsE"),c=n.n(r),a=n("W8MJ"),s=n.n(a),o=n("PJYZ"),l=n.n(o),i=n("7W2i"),u=n.n(i),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("sEfC"),E=n.n(C),k=n("Bw9V"),S=n("enaV"),O=n("+qLk"),P=n("ega+"),N=n("5zAP"),I=n("hWib");function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(e){g()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function j(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}function D(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return function(i){var e=function(e){u()(o,e);var a=j(o);function o(){var n;c()(this,o);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),g()(l()(n),"initialDataFetch",function(e){n.fetchGallery(q(q({},e||n.props),{},{streamPage:0,insertionModifier:k.f}))}),g()(l()(n),"moreDataFetch",function(){n.fetchGallery(q(q({},n.props),{},{insertionModifier:k.a}))}),g()(l()(n),"replaceDataFetch",function(e){n.fetchGallery(q(q({},e),{},{streamPage:0,insertionModifier:k.m}))}),g()(l()(n),"fetchGallery",E()(function(e){if(!n.props.isFetching){var t=e||n.props;n.props.fetchGallery(t.streamSection,t.streamParam,t.streamWindow,t.streamPage,t.streamSort,t.isPromoted,t.insertionModifier,t.isPostPageBeta,t.location)}},O.o,{leading:!0,trailing:!1})),g()(l()(n),"renderWithSpinner",function(){return b.a.createElement(N.b,{isLoading:n.props.isFetching,isScrollSpinner:n.props.hasPosts},b.a.createElement(i,{Child:P.c,moreDataFetch:n.moreDataFetch,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop,useOffset:n.props.useOffset}))}),g()(l()(n),"renderWithoutSpinner",function(){return b.a.createElement(i,{Child:P.c,moreDataFetch:n.moreDataFetch,streamSection:n.props.streamSection,navigationTrigger:n.props.navigationTrigger,navigationDirection:n.props.navigationDirection,location:n.props.location,sendToTop:n.props.sendToTop,useOffset:n.props.useOffset})}),n}return s()(o,[{key:"componentDidMount",value:function(){t&&(this.props.isInitialized?this.props.cleanupGallery():this.props.setGalleryParams())}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isInitialized,r=t.streamParam,a=t.streamSection,o=t.streamSort,i=t.streamWindow;if(n||!e.isInitialized)return n&&!e.isInitialized?(this.props.galleryPostRendererReady(),void this.initialDataFetch(this.props)):r&&e.streamParam&&r!==e.streamParam?this.replaceDataFetch(this.props):a&&e.streamSection&&a!==e.streamSection?this.replaceDataFetch(this.props):o&&e.streamSort&&o!==e.streamSort?this.replaceDataFetch(this.props):i&&e.streamWindow&&i!==e.streamWindow?this.replaceDataFetch(this.props):void 0;this.props.setGalleryParams()}},{key:"render",value:function(){var e=this.props.failedFetchAttempts;return b.a.createElement(I.a,{action:this.fetchGallery,retries:e},n?this.renderWithSpinner():this.renderWithoutSpinner())}}]),o}(b.a.Component);return e.displayName="WithGalleryData(".concat(function(e){return e.displayName||e.name||"Component"}(i),")"),Object(v.b)(function(e){var t=e.gallery,n=e.posts,r=e.user;return{streamSection:t.get("streamSection"),streamSort:t.get("streamSort"),streamPage:t.get("streamPage"),streamParam:t.get("streamParam"),streamWindow:t.get("streamWindow"),isFetching:t.get("isFetching"),isPromoted:t.get("streamIsPromoted"),fetchError:t.get("fetchError"),insertionModifier:t.get("insertionModifier"),isInitialized:t.get("isInitialized"),failedFetchAttempts:t.get("failedFetchAttempts"),hasPosts:0<n.get("posts").size,isPostPageBeta:r.get("flags").get("desktopPostPageBeta")}},function(u,d){return{fetchGallery:function(e,t,n,r,a,o,i,c,s){var l=d.displayAnalytics;u(Object(k.D)({isFetching:!0})),u(Object(S.a)({gallery:e,param:t,streamWindow:n,page:r,sort:a,isPromoted:o,insertionModifier:i,isPostPageBeta:c,location:s})),0===r&&l&&l()},galleryPostRendererReady:function(){return u(Object(k.A)(r))},cleanupGallery:function(){return u(Object(k.s)())}}})(e)}}},w1ny:function(e,t,n){},w8Sv:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("7W2i"),s=n.n(c),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("pVnL"),f=n.n(p),h=n("q1tI"),g=n.n(h),y=(n("17x9"),n("/MKj")),b=n("UX+T");n("QFwP");function v(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m()(r);if(a){var n=m()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}function C(e){var t=e.statuses;return t.length?g.a.createElement("div",{className:"StatusList"},t.map(function(e){return g.a.createElement(S,f()({key:e.id},e))})):null}var E=Object(y.b)(function(e){return{statuses:e.status?e.status.get("status").filter(function(e){return e.get("active")}).valueSeq().toJS():[]}})(C);var k=function(e){s()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.animationDelay;setTimeout(function(){(0,e.props.handleClearStatus)()},t+3e3)}},{key:"render",value:function(){return g.a.createElement(O,this.props)}}]),n}(h.Component);k.defaultProps={animationDelay:0};var S=Object(y.b)(null,function(e,t){var n=t.id;return{handleClearStatus:function(){return e(Object(b.f)({id:n}))}}})(k);function O(e){var t=e.type,n=e.message,r=e.handleClearStatus,a=e.animationDelay;return g.a.createElement("div",{className:"Status Status-".concat(t),onClick:r,style:{animationDelay:"".concat(a,"ms")}},g.a.createElement("div",{className:"Status-container",dangerouslySetInnerHTML:{__html:n}}))}C.__docgenInfo={description:"",methods:[],displayName:"StatusListContainer",props:{statuses:{type:{name:"array"},required:!(O.defaultProps={animationDelay:0}),description:""}}},k.__docgenInfo={description:"",methods:[],displayName:"StatusContainer",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},statusType:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}},O.__docgenInfo={description:"",methods:[],displayName:"Status",props:{animationDelay:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},type:{type:{name:"string"},required:!1,description:""},message:{type:{name:"string"},required:!1,description:""},id:{type:{name:"number"},required:!1,description:""},handleClearStatus:{type:{name:"func"},required:!1,description:""}}}},wMLv:function(e,t,n){},"wT/c":function(e,t,n){},wZPJ:function(e,t,n){},wcKY:function(e,t,n){},wmkP:function(e,t,n){},xbNk:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("PJYZ"),s=n.n(c),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("wAdX"),E=n("7oyi"),k=n("/PhX"),S=n("p5w4"),O=n("G5ih"),P=n("pNV7");n("ghid");function N(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}n.d(t,"b",function(){return S.d}),n.d(t,"c",function(){return S.e});var I="report",w=function(e){u()(n,e);var t=N(n);function n(e){var c;return a()(this,n),c=t.call(this,e),g()(s()(c),"handleClose",function(){c.setState({reason:null},function(){return c.props.close()})}),g()(s()(c),"handleReport",function(){var e=c.props,t=e.type,n=e.submit,r=e.id,a=e.reportedComments,o=e.reportedPosts;if(null!==c.state.reason){var i=t===S.d?a:o;n(t,r,c.state.reason,i)}}),g()(s()(c),"handleChoose",function(e){c.setState({reason:e})}),g()(s()(c),"handleDescription",function(e){var t=e;c.state.showDescription===e&&(t=null),c.setState({showDescription:t})}),c.state={reason:e.isMature?-1:null,showDescription:e.isMature?-1:null},c}return i()(n,[{key:"componentDidUpdate",value:function(e){e.isMature!==this.props.isMature&&this.setState({reason:this.props.isMature?-1:null,showDescription:this.props.isMature?-1:null})}},{key:"render",value:function(){var t=this,e=this.props,n=e.type,r=e.isMature;if(n===S.f)return null;var a=[r?{label:Object(O.b)("precheckedMatureLabel",n),explanation:Object(O.b)("precheckedMatureExplanation"),value:-1,name:"reportpost-disabled",onClick:function(e){e.preventDefault()},extraClass:" disabled",defaultChecked:!0}:{label:Object(O.b)("matureLabel"),explanation:Object(O.b)("matureExplanation",n),value:4},{label:Object(O.b)("sexuallyLabel"),explanation:Object(O.b)("sexuallyExplanation",n),value:5},{label:Object(O.b)("spamLabel"),explanation:Object(O.b)("spamExplanation",n),value:2},{label:Object(O.b)("abusiveLabel"),explanation:Object(O.b)("abusiveExplanation",n),value:3},{label:Object(O.b)("dnboiLabel"),explanation:Object(O.b)("dnboiExplanation",n),value:1}],o=0<this.state.reason?"-do":"-cancel";return b.a.createElement(C.a,{className:"ReportDialog",isModal:!1,onClose:this.handleClose,name:I},b.a.createElement("div",{className:"ReportDialog-head"},b.a.createElement("span",null,Object(O.b)("reportTitle",n)),b.a.createElement(E.a,{className:"ReportDialog-head--close",imageSrc:P.a[P.j],onClick:this.handleClose})),b.a.createElement("div",{className:"ReportDialog-content"},a.map(function(e){return t.renderOption(e)})),b.a.createElement("div",{className:"ReportDialog-footer"},b.a.createElement("p",{className:"ReportDialog-CommunityRules"},Object(O.b)("reportRules")),b.a.createElement("button",{type:"button",className:"ReportDialog-button-".concat(o),onClick:this.handleReport},Object(O.b)("report"))))}},{key:"renderOption",value:function(e){var t=this,n=this.state.showDescription===e.value?" active":"";return b.a.createElement("label",{className:"ReportDialog-RadioBox-item".concat(e.extraClass||"").concat(n),key:e.value},b.a.createElement("div",{className:"ReportDialog-RadioBox-content-wrapper"},b.a.createElement("input",{className:"ReportDialog-RadioBox-radio",type:"radio",onClick:e.onClick||function(){return t.handleChoose(e.value)},name:e.name||"reportpost"}),b.a.createElement("div",{className:"ReportDialog-RadioBox-checkbox"}," "),b.a.createElement("div",{className:"ReportDialog-RadioBox-title"},e.label),b.a.createElement("div",{className:"ReportDialog-RadioBox-chevron",onClick:function(){return t.handleDescription(e.value)}},b.a.createElement("i",{className:"ReportDialog-RadioBox-chevron-icon"}))),b.a.createElement("div",{className:"ReportDialog-RadioBox-description"},e.explanation))}}]),n}(y.Component);w.defaultProps={isMature:!1},w.__docgenInfo={description:"",methods:[{name:"handleClose",docblock:null,modifiers:[],params:[],returns:null},{name:"handleReport",docblock:null,modifiers:[],params:[],returns:null},{name:"handleChoose",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"handleDescription",docblock:null,modifiers:[],params:[{name:"reason",type:null}],returns:null},{name:"renderOption",docblock:null,modifiers:[],params:[{name:"option",type:null}],returns:null}],displayName:"Report",props:{isMature:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},id:{type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},close:{type:{name:"func"},required:!0,description:""},submit:{type:{name:"func"},required:!0,description:""},type:{type:{name:"string"},required:!0,description:""},reportedComments:{type:{name:"object"},required:!1,description:""},reportedPosts:{type:{name:"object"},required:!1,description:""}}},t.d=Object(v.b)(function(e,t){var n=e.report,r=t.type;return{id:n.get("id"),reportedComments:n.get("reportedComments"),reportedPosts:n.get("reportedPosts"),isMature:!!n.get("isMature"),type:n.get("type")||r}},function(a){return{close:function(){a(Object(k.y)(I))},submit:function(e,t,n,r){e===S.d?a(Object(S.g)(t,n,r)):a(Object(S.i)(t,n,r)),a(Object(k.y)(I))}}})(w)},xsax:function(e,t,n){},"y/VL":function(e,t,n){},yQno:function(e,t,n){},yosD:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("PJYZ"),s=n.n(o),l=n("7W2i"),u=n.n(l),d=n("a1gu"),m=n.n(d),p=n("Nsbk"),f=n.n(p),h=n("lSNA"),g=n.n(h),y=n("q1tI"),b=n.n(y),v=(n("17x9"),n("/MKj")),C=n("ANjH"),E=n("2OyZ"),k=n("pNV7"),S=n("G5ih"),O=n("flVz"),P=n("/PhX"),N=n("dZW6"),I=n("wAdX"),w=n("7oyi"),q=n("Ot+t"),j=n("QlZ4");function D(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var A=function(e){u()(n,e);var t=D(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"componentDidMount",value:function(){this.props.mountEmbedNode(this.props.nodeId)}},{key:"componentWillUnmount",value:function(){this.props.unmountEmbedNode(this.props.nodeId)}},{key:"render",value:function(){var e=this.props,t=e.isRenderReady,n=e.children,r=e.height,a=e.className;return b.a.createElement("div",{className:a},b.a.createElement("div",{id:this.props.nodeId,style:{height:t?r:0,overflow:"hidden"}}),t?null:n)}}]),n}(b.a.Component);A.__docgenInfo={description:"",methods:[],displayName:"EmbedNode",props:{mountEmbedNode:{type:{name:"func"},required:!0,description:""},unmountEmbedNode:{type:{name:"func"},required:!0,description:""},nodeId:{type:{name:"string"},required:!0,description:""},isRenderReady:{type:{name:"bool"},required:!0,description:""},height:{type:{name:"number"},required:!1,description:""},className:{type:{name:"string"},required:!1,description:""},children:{type:{name:"instanceOf",value:"Object"},required:!1,description:""}}};var T=Object(C.d)(Object(v.b)(function(e){var t=e.embed;return{isRenderReady:t.get("isRenderReady"),height:t.get("height"),hasTitle:t.get("hasTitle")}},{mountEmbedNode:O.g,unmountEmbedNode:O.m}),Object(j.a)(q.a,q.h))(A),R=n("iww3"),x=n("xypG");n("20NG");function M(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f()(r);if(a){var n=f()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return m()(this,e)}}var L=function(e){u()(o,e);var a=M(o);function o(){var t;i()(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t=a.call.apply(a,[this].concat(n)),g()(s()(t),"onClose",function(){var e=t.props;(0,e.closeDialog)(e.name||E.a)}),t}return c()(o,[{key:"render",value:function(){var e=this.props,t=e.renderInput,n=e.clipboardCopy,r=e.embedSnippet,a=e.toggleTitle,o=e.hasTitle,i=e.isCopySuccess,c=e.name,s=e.nodeId;return b.a.createElement(I.a,{className:"EmbedDialog",name:c||E.a,isModal:!1},b.a.createElement("div",{className:"CommonUploadDialog-head"},b.a.createElement("span",null,Object(S.b)("embedDialogHead")),b.a.createElement(w.a,{className:"CommonUploadDialog-head--close",imageSrc:k.a[k.j],onClick:this.onClose})),b.a.createElement("div",{className:"EmbedDialog-content"},b.a.createElement("div",{className:"EmbedDialog-copyLink"},t({className:"EmbedDialog-copyLink--input",text:r}),b.a.createElement("button",{type:"button",className:"EmbedDialog-copyLink--button",onClick:n},Object(S.b)("embedDialogCopy".concat(i?"Done":"")),i&&b.a.createElement(k.Z,{name:k.e}))),b.a.createElement(T,{className:"EmbedDialog-embed",nodeId:s||E.b},b.a.createElement(x.a,{size:60,className:"EmbedDialog-embed--spinner"})),b.a.createElement("div",{className:"EmbedDialog-titleToggle"},Object(S.b)("embedDialogTitleToggle"),b.a.createElement(R.a,{name:"titleToggle",className:"EmbedDialog-titleToggle--checkbox",value:!o,toggleHandler:a,labelText:Object(S.b)("embedDialogTitleToggleLabel")}))))}}]),o}(b.a.Component);L.__docgenInfo={description:"",methods:[{name:"onClose",docblock:null,modifiers:[],params:[],returns:null}],displayName:"EmbedDialog",props:{hasTitle:{type:{name:"bool"},required:!1,description:""},isCopySuccess:{type:{name:"bool"},required:!1,description:""},embedSnippet:{type:{name:"string"},required:!1,description:""},name:{type:{name:"string"},required:!1,description:""},nodeId:{type:{name:"string"},required:!1,description:""},renderInput:{type:{name:"func"},required:!0,description:""},clipboardCopy:{type:{name:"func"},required:!0,description:""},toggleTitle:{type:{name:"func"},required:!0,description:""},closeDialog:{type:{name:"func"},required:!0,description:""}}};t.a=Object(C.d)(N.a,Object(v.b)(function(e){var t=e.embed,n=e.ui;return{embedSnippet:t.get("snippet"),hasTitle:t.get("hasTitle"),isCopySuccess:n.clipboardCopy.get("isSuccess")}},{toggleTitle:O.l,closeDialog:P.y}))(L)},yzGh:function(e,t,n){},zMZQ:function(e,t,n){e.exports=n.p+"desktop-assets/s1.db8c19b82d156f87cd9fcf09311622c1.svg"},zuLI:function(e,t,n){"use strict";n.d(t,"a",function(){return P});var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("7W2i"),s=n.n(o),l=n("a1gu"),u=n.n(l),d=n("Nsbk"),m=n.n(d),p=n("q1tI"),f=n.n(p),h=(n("17x9"),n("GB65")),g=function e(t,n){i()(this,e),this.x=t||0,this.y=n||0},y=function(){function t(e){i()(this,t),this.animationState=e,this.x=.5*e.viewWidth,this.y=.5*e.viewHeight,this.r=24,this._progress=0,this.complete=!1}return c()(t,[{key:"reset",value:function(){this._progress=0,this.complete=!1}},{key:"draw",value:function(){this.animationState.ctx.fillStyle=this.animationState.loadingColor,this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.r,-E,C*this._progress-E),this.animationState.ctx.lineTo(this.x,this.y),this.animationState.ctx.closePath(),this.animationState.ctx.fill()}},{key:"progress",set:function(e){this._progress=e<0?0:1<e?1:e,this.complete=1<=this._progress},get:function(){return this._progress}}]),t}(),b=function(){function t(e){i()(this,t),this.animationState=e,this.x=.5*e.viewWidth,this.y=.5*e.viewHeight,this.startRadius=24,this.time=0,this.duration=.4,this.progress=0,this.complete=!1}return c()(t,[{key:"reset",value:function(){this.time=0,this.progress=0,this.complete=!1}},{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep),this.progress=S.inBack(this.time,0,1,this.duration),this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.fillStyle="transparent",this.animationState.ctx.beginPath(),this.animationState.ctx.arc(this.x,this.y,this.startRadius*(1-this.progress),0,C),this.animationState.ctx.fill()}}]),t}(),v=function(){function o(e,t,n,r,a){i()(this,o),this.animationState=e,this.p0=t,this.p1=n,this.p2=r,this.p3=a,this.time=0,this.duration=3+2*Math.random(),this.color="#".concat(Math.floor(16777215*Math.random()).toString(16)),this.w=8,this.h=8,this.complete=!1}return c()(o,[{key:"update",value:function(){this.time=Math.min(this.duration,this.time+this.animationState.timeStep);var e=S.outCubic(this.time,0,1,this.duration),t=function(e,t,n,r,a){var o=new g,i=1-a;return o.x=i*i*i*e.x+3*i*i*a*t.x+3*i*a*a*n.x+a*a*a*r.x,o.y=i*i*i*e.y+3*i*i*a*t.y+3*i*a*a*n.y+a*a*a*r.y,o}(this.p0,this.p1,this.p2,this.p3,e),n=t.x-this.x,r=t.y-this.y;this.r=Math.atan2(r,n)+E,this.sy=Math.sin(Math.PI*e*10),this.x=t.x,this.y=t.y,this.complete=this.time===this.duration}},{key:"draw",value:function(){this.animationState.ctx.save(),this.animationState.ctx.translate(this.x,this.y),this.animationState.ctx.rotate(this.r),this.animationState.ctx.scale(1,this.sy),this.animationState.ctx.fillStyle=this.color,this.animationState.ctx.fillRect(.5*-this.w,.5*-this.h,this.w,this.h),this.animationState.ctx.restore()}}]),o}(),C=2*Math.PI,E=.5*Math.PI;function k(e){for(var t=e.viewWidth,n=e.viewHeight,r=e.particles,a=0;a<128;a++){var o=new g(.5*t,.5*n),i=new g(Math.random()*t,Math.random()*n),c=new g(Math.random()*t,Math.random()*n),s=new g(Math.random()*t,n+64);r.push(new v(e,o,i,c,s))}}var S={inCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},outCubic:function(e,t,n,r){return e/=r,n*(--e*e*e+1)+t},inOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},inBack:function(e,t,n,r,a){return n*(e/=r)*e*(((a=a||1.70158)+1)*e-a)+t}};n("hibn");function O(r){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=m()(r);if(a){var n=m()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u()(this,e)}}var P=function(e){s()(r,e);var n=O(r);function r(e){var t;return i()(this,r),(t=n.call(this,e)).canvas=f.a.createRef(),t}return c()(r,[{key:"componentDidMount",value:function(){this.run()}},{key:"componentDidUpdate",value:function(){this.run()}},{key:"shouldComponentUpdate",value:function(e){return this.props.run!==e.run}},{key:"run",value:function(){var e=this.props,t=e.viewWidth,n=e.viewHeight,r=e.loadSpeed,a=e.loadingColor,o={ctx:this.canvas.current.getContext("2d"),particles:[],phase:0,timeStep:1/70,viewWidth:t,viewHeight:n,loadSpeed:r,loadingColor:a},i=function(e){return new y(e)}(o),c=function(e){return new b(e)}(o);k(o),Object(h.pb)(function(n,r,a){return function e(){!function(e,t,n){switch(e.phase){case 0:t.progress+=1/e.loadSpeed;break;case 1:n.update();break;case 2:e.particles.forEach(function(e){e.update()})}}(n,r,a),function(e,t,n){var r=e.viewWidth,a=e.viewHeight,o=e.phase,i=e.ctx,c=e.particles;switch(i.clearRect(0,0,r,a),o){case 0:t.draw();break;case 1:n.draw();break;case 2:c.forEach(function(e){e.draw()})}}(n,r,a);var t=!1;0===n.phase&&r.complete?n.phase=1:1===n.phase&&a.complete?n.phase=2:2===n.phase&&function(e){for(var t=0;t<e.length;t++)if(!1===e[t].complete)return!1;return!0}(n.particles)&&(n.phase=0,r.reset(),a.reset(),n.particles.length=0,k(n),t=!0),t||Object(h.pb)(e)}}(o,i,c))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.viewWidth,r=e.viewHeight;return f.a.createElement("div",{className:"ThankYouConfetti ".concat(t)},f.a.createElement("canvas",{width:n,height:r,className:"ThankYouConfetti-canvas",ref:this.canvas}))}}]),r}(f.a.Component);P.defaultProps={className:"",loadingColor:"transparent",loadSpeed:45,run:0},P.__docgenInfo={description:"",methods:[{name:"run",docblock:null,modifiers:[],params:[],returns:null}],displayName:"ThankYouConfetti",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},loadingColor:{defaultValue:{value:"'transparent'",computed:!1},type:{name:"string"},required:!1,description:""},loadSpeed:{defaultValue:{value:"45",computed:!1},type:{name:"number"},required:!1,description:""},run:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},viewWidth:{type:{name:"number"},required:!0,description:""},viewHeight:{type:{name:"number"},required:!0,description:""}}}}}]);